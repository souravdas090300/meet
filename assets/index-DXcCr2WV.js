import{r as Ft,a as qt,g as Ot,c as nt}from"./vendor-C6Ba5J37.js";import{r as Se,R as Pt,B as Ut,C as zt,X as Bt,Y as Zt,T as Ht,a as Wt,P as Jt,b as Vt,c as Xt,d as Nt}from"./charts-Dn52J62n.js";function $t(L,I){for(var i=0;i<I.length;i++){const y=I[i];if(typeof y!="string"&&!Array.isArray(y)){for(const w in y)if(w!=="default"&&!(w in L)){const v=Object.getOwnPropertyDescriptor(y,w);v&&Object.defineProperty(L,w,v.get?v:{enumerable:!0,get:()=>y[w]})}}}return Object.freeze(Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}))}(function(){const I=document.createElement("link").relList;if(I&&I.supports&&I.supports("modulepreload"))return;for(const w of document.querySelectorAll('link[rel="modulepreload"]'))y(w);new MutationObserver(w=>{for(const v of w)if(v.type==="childList")for(const P of v.addedNodes)P.tagName==="LINK"&&P.rel==="modulepreload"&&y(P)}).observe(document,{childList:!0,subtree:!0});function i(w){const v={};return w.integrity&&(v.integrity=w.integrity),w.referrerPolicy&&(v.referrerPolicy=w.referrerPolicy),w.crossOrigin==="use-credentials"?v.credentials="include":w.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function y(w){if(w.ep)return;w.ep=!0;const v=i(w);fetch(w.href,v)}})();var wt={exports:{}},rt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bt;function Qt(){if(bt)return rt;bt=1;var L=Ft(),I=Symbol.for("react.element"),i=Symbol.for("react.fragment"),y=Object.prototype.hasOwnProperty,w=L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v={key:!0,ref:!0,__self:!0,__source:!0};function P(q,R,_){var z,p={},s=null,F=null;_!==void 0&&(s=""+_),R.key!==void 0&&(s=""+R.key),R.ref!==void 0&&(F=R.ref);for(z in R)y.call(R,z)&&!v.hasOwnProperty(z)&&(p[z]=R[z]);if(q&&q.defaultProps)for(z in R=q.defaultProps,R)p[z]===void 0&&(p[z]=R[z]);return{$$typeof:I,type:q,key:s,ref:F,props:p,_owner:w.current}}return rt.Fragment=i,rt.jsx=P,rt.jsxs=P,rt}var _t;function Gt(){return _t||(_t=1,wt.exports=Qt()),wt.exports}var U=Gt(),ft={},Lt;function Yt(){if(Lt)return ft;Lt=1;var L=qt();return ft.createRoot=L.createRoot,ft.hydrateRoot=L.hydrateRoot,ft}var Kt=Yt();const en=Ot(Kt),tn=({allLocations:L=[],setCurrentCity:I,setInfoAlert:i})=>{const[y,w]=Se.useState(!1),[v,P]=Se.useState(""),[q,R]=Se.useState([]),_=s=>{const F=s.target.value;if(P(F),F===""){R([]),w(!1),I("See all cities"),i("");return}const O=L.filter(M=>M.toLowerCase().includes(F.toLowerCase()));R(O),w(!0),O.length===0?i("We cannot find the city you are looking for. Please try another city."):i("")},z=s=>{P(s),I(s),w(!1),R([]),i("")},p=()=>{w(!0),v===""&&R(L)};return U.jsxs("div",{id:"city-search",className:"city-search",children:[U.jsx("label",{htmlFor:"city-search-input",children:"Search for a city:"}),U.jsx("input",{id:"city-search-input","data-testid":"city-search-input",type:"text",className:"city",placeholder:"Search for a city",value:v,onChange:_,onFocus:p}),y&&U.jsxs("ul",{className:"suggestions",children:[q.map((s,F)=>U.jsx("li",{onClick:()=>z(s),className:"suggestion-item",children:s},F)),U.jsx("li",{onClick:()=>z("See all cities"),className:"suggestion-item",children:U.jsx("b",{children:"See all cities"})},"See all cities")]})]})},nn=({event:L})=>{const[I,i]=Se.useState(!1);return L?U.jsxs("li",{className:"event",children:[U.jsx("h1",{children:L.summary||"No title"}),U.jsx("p",{children:L.created||""}),U.jsx("p",{children:L.location||""}),U.jsx("button",{className:"details-btn",onClick:()=>{i(!I)},children:I?"Hide Details":"Show Details"}),I&&U.jsxs("div",{className:"event-details",children:[U.jsx("h2",{children:"About event:"}),U.jsx("p",{className:"event-description",children:L.description||"No description available"}),L.htmlLink&&U.jsx("a",{href:L.htmlLink,target:"_blank",rel:"noopener noreferrer",className:"event-link",children:"See details on Google Calendar"})]})]}):null},rn=({events:L=[]})=>U.jsx("ul",{id:"event-list",className:"event-list",children:!L||L.length===0?U.jsx("li",{children:U.jsx("p",{children:"No events found."})}):L.map(I=>U.jsx(nn,{event:I},I.id))}),on=({currentNOE:L,setCurrentNOE:I,setErrorAlert:i})=>{const y=w=>{let v=w.target.value;if(v===""){i("");return}const P=parseInt(v,10);if(isNaN(P)){i("");return}if(P<=0){i("Only positive numbers are allowed");return}if(P>100){i("Please enter a number between 1 and 100");return}i(""),I(P)};return U.jsxs("div",{id:"number-of-events",className:"number-of-events",children:[U.jsx("label",{htmlFor:"number-of-events-input",children:"Number of Events:"}),U.jsx("input",{id:"number-of-events-input","data-testid":"numberOfEventsInput",type:"number",className:"number-of-events-input",value:L,onChange:y,min:"1",max:"100",placeholder:"32"})]})},an=({allLocations:L,events:I})=>{const[i,y]=Se.useState([]),[w,v]=Se.useState(()=>typeof window<"u"?window.innerWidth:375),[P,q]=Se.useState(!1);Se.useEffect(()=>{let h;const S=()=>{h&&clearTimeout(h),h=setTimeout(()=>{typeof window<"u"&&(v(window.innerWidth),q(!0))},100)};typeof window<"u"&&(v(window.innerWidth),q(!0));const T=setTimeout(()=>{typeof window<"u"&&v(window.innerWidth)},50);return typeof window<"u"?(window.addEventListener("resize",S,{passive:!0}),window.addEventListener("orientationchange",S,{passive:!0}),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",S,{passive:!0}):S(),()=>{h&&clearTimeout(h),clearTimeout(T),window.removeEventListener("resize",S),window.removeEventListener("orientationchange",S),document.removeEventListener("DOMContentLoaded",S)}):()=>{h&&clearTimeout(h),clearTimeout(T)}},[]);const R=Se.useCallback(()=>!L||!I||!Array.isArray(L)||!Array.isArray(I)?[]:L.map(S=>{const T=I.filter(X=>X&&X.location===S).length;return{city:S.split(/, | - /)[0],count:Math.max(0,T)}}).filter(S=>S.city&&typeof S.count=="number"&&S.count>=0),[L,I]);Se.useEffect(()=>{y(R())},[R]);const _=w<=768,z=w<=480,p=w>481&&w<=767,s=Math.max(300,z?350:_?400:500),F=Math.max(80,z?140:_?120:80),O=Math.max(20,_?20:25),M=z&&i.length>6?i.slice(0,6):_&&i.length>8?i.slice(0,8):i;return U.jsxs("div",{"data-testid":"city-events-chart",children:[U.jsx("h4",{children:"Events by City"}),U.jsxs("div",{style:{fontSize:"10px",color:"#999",marginBottom:"10px"},children:["Screen: ",w,"px | Mobile: ",_?"Yes":"No"," | Small: ",z?"Yes":"No"," | Tablet: ",p?"Yes":"No"," | Data: ",i?.length||0," items | Init: ",P?"Yes":"No"]}),!i||i.length===0?U.jsx("div",{"data-testid":"no-data",style:{textAlign:"center",padding:"40px",color:"#666"},children:U.jsx("p",{children:"No city data available"})}):!P||w<200||s<200?U.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:U.jsx("p",{children:"Initializing chart..."})}):U.jsx("div",{"data-testid":"chart-container",children:U.jsx(Pt,{width:"100%",height:s,minWidth:Math.max(320,_?320:400),minHeight:300,debounceMs:50,children:U.jsxs(Ut,{data:M,margin:{top:Math.max(30,30),right:Math.max(30,30),bottom:F,left:Math.max(25,O)},width:void 0,height:void 0,children:[U.jsx(zt,{strokeDasharray:"3 3"}),U.jsx(Bt,{type:"category",dataKey:"city",name:"City",angle:z?50:_?45:60,interval:0,tick:{dx:20,dy:40,fontSize:z?8:_?10:14}}),U.jsx(Zt,{type:"number",dataKey:"count",name:"Number of events",allowDecimals:!1,domain:[0,"dataMax + 1"],tickCount:5}),U.jsx(Ht,{cursor:{strokeDasharray:"3 3"}}),U.jsx(Wt,{name:"Events",dataKey:"count",fill:"#8884d8"})]})})})]})},sn=({events:L})=>{const[I,i]=Se.useState([]),[y,w]=Se.useState(!1),v=Se.useMemo(()=>["React","JavaScript","Node","jQuery","Angular"],[]),P=["#DD0000","#00DD00","#0000DD","#DDDD00","#DD00DD"];Se.useEffect(()=>{const R=()=>{w(window.innerWidth<=768)};return R(),window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),Se.useEffect(()=>{i(v.map(z=>{const p=L.filter(s=>s.summary.includes(z));return{name:z,value:p.length}}))},[L,v]);const q=({cx:R,cy:_,midAngle:z,outerRadius:p,percent:s,index:F})=>{const O=Math.PI/180,M=p,h=R+M*Math.cos(-z*O)*1.02,S=_+M*Math.sin(-z*O)*1.02;return s?U.jsx("text",{x:h,y:S,fill:"#8884d8",textAnchor:h>R?"start":"end",dominantBaseline:"central",fontSize:"12",children:`${v[F]} ${(s*100).toFixed(0)}%`}):null};return U.jsxs("div",{"data-testid":"event-genres-chart",children:[U.jsx("h4",{children:"Events by Genre"}),I.length===0||I.every(R=>R.value===0)?U.jsx("div",{"data-testid":"no-data",children:"No data available"}):U.jsx("div",{"data-testid":"chart-container",children:U.jsx(Pt,{width:"100%",height:y?300:400,children:U.jsx(Jt,{children:U.jsx(Vt,{data:I,dataKey:"value",fill:"#8884d8",labelLine:!1,label:q,outerRadius:y?100:150,children:I.map((R,_)=>U.jsx(Xt,{fill:P[_%P.length]},`cell-${_}`))})})})})]})};class xt extends Se.Component{constructor(I){super(I),this.color=null,this.bgColor=null}getStyle=()=>({color:this.color,backgroundColor:this.bgColor,border:`2px solid ${this.color}`,fontSize:"12px",margin:"10px 0",padding:"10px",borderRadius:"7px",textAlign:"center"});render(){return U.jsx("div",{className:"Alert",children:U.jsx("p",{style:this.getStyle(),children:this.props.text})})}}class cn extends xt{constructor(I){super(I),this.color="rgb(0, 0, 255)",this.bgColor="rgb(220, 220, 255)"}}class un extends xt{constructor(I){super(I),this.color="rgb(255, 0, 0)",this.bgColor="rgb(255, 220, 220)"}}class ln extends xt{constructor(I){super(I),this.color="rgb(255, 165, 0)",this.bgColor="rgb(255, 235, 205)"}}const Et="https://pkpsfh72t5.execute-api.eu-central-1.amazonaws.com/dev",St=()=>{let L;window.history.pushState&&window.location.pathname?(L=window.location.protocol+"//"+window.location.host+window.location.pathname,window.history.pushState("","",L)):(L=window.location.protocol+"//"+window.location.host,window.history.pushState("","",L))},dn=async L=>{try{return await(await fetch(`https://www.googleapis.com/oauth2/v1/tokeninfo?access_token=${L}`)).json()}catch(I){return console.error("Error checking token:",I),{error:"Failed to validate token"}}},fn=async L=>{try{const I=encodeURIComponent(L),i=`${Et}/api/token/${I}`;console.log("Requesting token from:",i);const y=await fetch(i,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(console.log("Response status:",y.status),console.log("Response headers:",Object.fromEntries(y.headers.entries())),!y.ok){let P=`Failed to get access token: ${y.status}`,q=null;try{q=await y.json(),console.error("Token error response:",q),q.details&&q.details.includes("invalid_grant")?P="Authorization code expired or already used. Please try logging in again.":y.status===400?P="Invalid authorization code. Please try logging in again.":P+=` - ${JSON.stringify(q)}`}catch(R){console.error("Could not parse error response:",R)}throw new Error(P)}const w=await y.json(),{access_token:v}=w;if(v)localStorage.setItem("access_token",v),console.log("Successfully stored access token");else throw new Error("No access token received from server");return v}catch(I){throw console.error("Error getting access token:",I),console.error("Error details:",{message:I.message,stack:I.stack,name:I.name}),I instanceof TypeError&&I.message.includes("Failed to fetch")&&(console.error("This appears to be a CORS or network connectivity issue"),console.error("Check:"),console.error("1. Network connectivity"),console.error("2. CORS configuration on the server"),console.error("3. Server availability")),I}},Dt=async()=>{try{const L=`${Et}/api/get-auth-url`;console.log("Requesting auth URL from:",L);const I=await fetch(L,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(console.log("Auth URL response status:",I.status),console.log("Auth URL response headers:",Object.fromEntries(I.headers.entries())),!I.ok)throw new Error(`Failed to get auth URL: ${I.status}`);const i=await I.json(),{authUrl:y}=i;return y}catch(L){throw console.error("Error getting auth URL:",L),L instanceof TypeError&&L.message.includes("Failed to fetch")&&(console.error("This appears to be a CORS or network connectivity issue"),console.error("Check:"),console.error("1. Network connectivity"),console.error("2. CORS configuration on the server"),console.error("3. Server availability")),L}},hn=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("lastEvents"),localStorage.removeItem("lastEventsTimestamp"),localStorage.removeItem("lastOAuthRedirect")},pn=()=>{try{localStorage.removeItem("access_token"),sessionStorage.removeItem("processed_oauth_code"),sessionStorage.removeItem("processing_oauth_code"),console.log("OAuth state cleared")}catch(L){console.error("Error clearing OAuth state:",L)}},mn=()=>!!localStorage.getItem("access_token"),Ze=[{kind:"calendar#event",etag:'"3181161784712000"',id:"4eahs9ghkhrvkld72hogu9ph3e_20200519T140000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=NGVhaHM5Z2hraHJ2a2xkNzJob2d1OXBoM2VfMjAyMDA1MTlUMTQwMDAwWiB0ZXN0LmNhcmVlckZvdW5kcnlAZ21haWwuY29t",created:"2020-05-19T19:17:46.000Z",updated:"2020-05-27T12:01:32.356Z",summary:"Learn JavaScript",description:`Have you wondered how you can ask Google to show you the list of the top ten must-see places in London? And how Google presents you the list? How can you submit the details of an application? Well, JavaScript is doing these. :) 

Javascript offers interactivity to a dull, static website. Come, learn JavaScript with us and make those beautiful websites.`,location:"London, UK",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-19T16:00:00+02:00",timeZone:"Europe/Berlin"},end:{dateTime:"2020-05-19T17:00:00+02:00",timeZone:"Europe/Berlin"},recurringEventId:"4eahs9ghkhrvkld72hogu9ph3e",originalStartTime:{dateTime:"2020-05-19T16:00:00+02:00",timeZone:"Europe/Berlin"},iCalUID:"4eahs9ghkhrvkld72hogu9ph3e@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181159875584000"',id:"3qtd6uscq4tsi6gc7nmmtpqlct_20200520T120000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=M3F0ZDZ1c2NxNHRzaTZnYzdubW10cHFsY3RfMjAyMDA1MjBUMTIwMDAwWiB0ZXN0LmNhcmVlckZvdW5kcnlAZ21haWwuY29t",created:"2020-05-19T19:14:30.000Z",updated:"2020-05-27T11:45:37.792Z",summary:"React is Fun",description:`Love HTML, CSS, and JS? Want to become a cool front-end developer? 

React is one of the most popular front-end frameworks. There is a huge number of job openings for React developers in most cities. 

Join us in our free React training sessions and give your career a new direction. `,location:"Berlin, Germany",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-20T14:00:00+02:00",timeZone:"Europe/Berlin"},end:{dateTime:"2020-05-20T15:00:00+02:00",timeZone:"Europe/Berlin"},recurringEventId:"3qtd6uscq4tsi6gc7nmmtpqlct",originalStartTime:{dateTime:"2020-05-20T14:00:00+02:00",timeZone:"Europe/Berlin"},iCalUID:"3qtd6uscq4tsi6gc7nmmtpqlct@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181161784712000"',id:"4eahs9ghkhrvkld72hogu9ph3e_20200521T140000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=NGVhaHM5Z2hraHJ2a2xkNzJob2d1OXBoM2VfMjAyMDA1MjFUMTQwMDAwWiB0ZXN0LmNhcmVlckZvdW5kcnlAZ21haWwuY29t",created:"2020-05-19T19:17:46.000Z",updated:"2020-05-27T12:01:32.356Z",summary:"Learn JavaScript",description:`Have you wondered how you can ask Google to show you the list of the top ten must-see places in London? And how Google presents you the list? How can you submit the details of an application? Well, JavaScript is doing these. :) 

Javascript offers interactivity to a dull, static website. Come, learn JavaScript with us and make those beautiful websites.`,location:"London, UK",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-21T16:00:00+02:00",timeZone:"Europe/Berlin"},end:{dateTime:"2020-05-21T17:00:00+02:00",timeZone:"Europe/Berlin"},recurringEventId:"4eahs9ghkhrvkld72hogu9ph3e",originalStartTime:{dateTime:"2020-05-21T16:00:00+02:00",timeZone:"Europe/Berlin"},iCalUID:"4eahs9ghkhrvkld72hogu9ph3e@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181159875584000"',id:"3qtd6uscq4tsi6gc7nmmtpqlct_20200522T120000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=M3F0ZDZ1c2NxNHRzaTZnYzdubW10cHFsY3RfMjAyMDA1MjJUMTIwMDAwWiB0ZXN0LmNhcmVlckZvdW5kcnlAZ21haWwuY29t",created:"2020-05-19T19:14:30.000Z",updated:"2020-05-27T11:45:37.792Z",summary:"React is Fun",description:`Love HTML, CSS, and JS? Want to become a cool front-end developer? 

React is one of the most popular front-end frameworks. There is a huge number of job openings for React developers in most cities. 

Join us in our free React training sessions and give your career a new direction. `,location:"Berlin, Germany",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-22T14:00:00+02:00",timeZone:"Europe/Berlin"},end:{dateTime:"2020-05-22T15:00:00+02:00",timeZone:"Europe/Berlin"},recurringEventId:"3qtd6uscq4tsi6gc7nmmtpqlct",originalStartTime:{dateTime:"2020-05-22T14:00:00+02:00",timeZone:"Europe/Berlin"},iCalUID:"3qtd6uscq4tsi6gc7nmmtpqlct@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181161784712000"',id:"4eahs9ghkhrvkld72hogu9ph3e_20200523T140000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=NGVhaHM5Z2hraHJ2a2xkNzJob2d1OXBoM2VfMjAyMDA1MjNUMTQwMDAwWiB0ZXN0LmNhcmVlckZvdW5kcnlAZ21haWwuY29t",created:"2020-05-19T19:17:46.000Z",updated:"2020-05-27T12:01:32.356Z",summary:"Learn JavaScript",description:`Have you wondered how you can ask Google to show you the list of the top ten must-see places in London? And how Google presents you the list? How can you submit the details of an application? Well, JavaScript is doing these. :) 

Javascript offers interactivity to a dull, static website. Come, learn JavaScript with us and make those beautiful websites.`,location:"London, UK",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-23T16:00:00+02:00",timeZone:"Europe/Berlin"},end:{dateTime:"2020-05-23T17:00:00+02:00",timeZone:"Europe/Berlin"},recurringEventId:"4eahs9ghkhrvkld72hogu9ph3e",originalStartTime:{dateTime:"2020-05-23T16:00:00+02:00",timeZone:"Europe/Berlin"},iCalUID:"4eahs9ghkhrvkld72hogu9ph3e@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181159875584000"',id:"3qtd6uscq4tsi6gc7nmmtpqlct_20200524T120000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=M3F0ZDZ1c2NxNHRzaTZnYzdubW10cHFsY3RfMjAyMDA1MjRUMTIwMDAwWiB0ZXN0LmNhcmVlckZvdW5kcnlAZ21haWwuY29t",created:"2020-05-19T19:14:30.000Z",updated:"2020-05-27T11:45:37.792Z",summary:"React is Fun",description:`Love HTML, CSS, and JS? Want to become a cool front-end developer? 

React is one of the most popular front-end frameworks. There is a huge number of job openings for React developers in most cities. 

Join us in our free React training sessions and give your career a new direction. `,location:"Berlin, Germany",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-24T14:00:00+02:00",timeZone:"Europe/Berlin"},end:{dateTime:"2020-05-24T15:00:00+02:00",timeZone:"Europe/Berlin"},recurringEventId:"3qtd6uscq4tsi6gc7nmmtpqlct",originalStartTime:{dateTime:"2020-05-24T14:00:00+02:00",timeZone:"Europe/Berlin"},iCalUID:"3qtd6uscq4tsi6gc7nmmtpqlct@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181159875584000"',id:"7cbmsqfircdnb9ic86r5dk3lvo_20200525T120000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=N2NibXNxZmlyY2RuYjlpYzg2cjVkazNsdm9fMjAyMDA1MjVUMTIwMDAwWiB0ZXN0LmNhcmVlckZvdW5kcnlAZ21haWwuY29t",created:"2020-05-19T19:14:30.000Z",updated:"2020-05-27T11:45:37.792Z",summary:"NodeJS Workshop",description:"Join us for an intensive workshop on Node.js, the popular JavaScript runtime that's revolutionizing server-side development. Learn how to build scalable network applications.",location:"New York, NY, USA",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-25T14:00:00-04:00",timeZone:"America/New_York"},end:{dateTime:"2020-05-25T17:00:00-04:00",timeZone:"America/New_York"},recurringEventId:"7cbmsqfircdnb9ic86r5dk3lvo",originalStartTime:{dateTime:"2020-05-25T14:00:00-04:00",timeZone:"America/New_York"},iCalUID:"7cbmsqfircdnb9ic86r5dk3lvo@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181159875584000"',id:"8efgh3klmno4pqr7stuv8wxyz1_20200526T120000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=OGVmZ2gza2xtbm80cHFyN3N0dXY4d3h5ejFfMjAyMDA1MjZUMTIwMDAwWiB0ZXN0LmNhcmVlckZvdW5kcnlAZ21haWwuY29t",created:"2020-05-19T19:14:30.000Z",updated:"2020-05-27T11:45:37.792Z",summary:"Python for Beginners",description:"Discover the power of Python! This beginner-friendly workshop will introduce you to one of the most popular programming languages in the world. Perfect for data science, web development, and automation.",location:"San Francisco, CA, USA",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-26T10:00:00-07:00",timeZone:"America/Los_Angeles"},end:{dateTime:"2020-05-26T13:00:00-07:00",timeZone:"America/Los_Angeles"},recurringEventId:"8efgh3klmno4pqr7stuv8wxyz1",originalStartTime:{dateTime:"2020-05-26T10:00:00-07:00",timeZone:"America/Los_Angeles"},iCalUID:"8efgh3klmno4pqr7stuv8wxyz1@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181159875584000"',id:"9abcd2efgh5ijkl8mnop1qrst4_20200527T120000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=OWFiY2QyZWZnaDVpamtsOG1ub3AxcXJzdDRfMjAyMDA1MjdUMTIwMDAwWiB0ZXN0LmNhcmVlckZvdW5kcnlAZ21haWwuY29t",created:"2020-05-19T19:14:30.000Z",updated:"2020-05-27T11:45:37.792Z",summary:"Data Science Meetup",description:"Join data enthusiasts from around the world! Learn about machine learning, statistical analysis, and data visualization. Network with professionals and discover new career opportunities in data science.",location:"Sydney, NSW, Australia",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-27T18:00:00+10:00",timeZone:"Australia/Sydney"},end:{dateTime:"2020-05-27T21:00:00+10:00",timeZone:"Australia/Sydney"},recurringEventId:"9abcd2efgh5ijkl8mnop1qrst4",originalStartTime:{dateTime:"2020-05-27T18:00:00+10:00",timeZone:"Australia/Sydney"},iCalUID:"9abcd2efgh5ijkl8mnop1qrst4@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181159875584000"',id:"1xyz7uvw2abc8def3ghi9jkl4mno",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=MXh5ejd1dncyYWJjOGRlZjNnaGk5amtsNG1ub18yMDIwMDUyOFQxMjAwMDBaIHRlc3QuY2FyZWVyRm91bmRyeUBnbWFpbC5jb20",created:"2020-05-19T19:14:30.000Z",updated:"2020-05-27T11:45:37.792Z",summary:"CSS Grid Workshop",description:"Master modern CSS layout with CSS Grid! Learn how to create responsive, flexible layouts that work perfectly across all devices. From basic concepts to advanced techniques.",location:"Toronto, ON, Canada",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-28T13:00:00-04:00",timeZone:"America/Toronto"},end:{dateTime:"2020-05-28T16:00:00-04:00",timeZone:"America/Toronto"},iCalUID:"1xyz7uvw2abc8def3ghi9jkl4mno@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"}],vn=async()=>{if(!navigator.onLine){const I=localStorage.getItem("lastEvents");if(I){console.log("Loading events from cache (offline mode)");try{const i=JSON.parse(I);return Array.isArray(i)?i:Ze}catch(i){return console.error("Error parsing cached events:",i),Ze}}return console.log("No cached events found, using mock data"),Ze}const L=localStorage.getItem("access_token");return L?(await dn(L)).error?(localStorage.removeItem("access_token"),await Ct()):await gn(L):await Ct()},Ct=async()=>{if(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")return console.log("Development mode: Using mock data. In production, user would be redirected to OAuth."),Ze;const L=localStorage.getItem("lastOAuthRedirect"),I=Date.now();if(L&&I-parseInt(L)<1e4)return console.warn("Recent OAuth redirect detected, using mock data to prevent infinite loop"),Ze;try{localStorage.setItem("lastOAuthRedirect",I.toString());const i=await Dt();return window.location.href=i,[]}catch(i){return console.error("Failed to redirect to OAuth:",i),localStorage.removeItem("lastOAuthRedirect"),Ze}},gn=async L=>{try{const I=`${Et}/api/get-events/${L}`;console.log("Fetching events from:",I);const i=await fetch(I,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(console.log("Events API response status:",i.status),console.log("Events API response headers:",Object.fromEntries(i.headers.entries())),!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const w=(await i.json()).events||[];try{localStorage.setItem("lastEvents",JSON.stringify(w)),localStorage.setItem("lastEventsTimestamp",Date.now().toString()),console.log("Real events cached for offline use")}catch(v){console.warn("Failed to cache events:",v)}return w}catch(I){console.error("Error fetching events from Google Calendar API:",I),I instanceof TypeError&&I.message.includes("Failed to fetch")&&(console.error("This appears to be a CORS or network connectivity issue"),console.error("Check:"),console.error("1. Network connectivity"),console.error("2. CORS configuration on the server"),console.error("3. Server availability"));const i=localStorage.getItem("lastEvents");if(i){console.log("API failed, loading events from cache");try{const y=JSON.parse(i);return Array.isArray(y)?y:Ze}catch(y){return console.error("Error parsing cached events:",y),Ze}}return console.log("API failed and no cache available, using mock data"),Ze}},yn=L=>{if(!L||!Array.isArray(L))return[];const I=L.filter(y=>y&&y.location).map(y=>y.location);return[...new Set(I)].sort()};var Tt={exports:{}};/*! AtatusJs - v4.6.5 - 2025-07-24
* Copyright (c) 2025 Atatus */var At;function wn(){return At||(At=1,function(L,I){(function(){typeof window<"u"&&(function(i){function y(_,z){return Object.prototype.hasOwnProperty.call(_,z)}function w(_){return typeof _>"u"}if(i){var v={},P=i.TraceKit,q=[].slice,R="?";v.noConflict=function(){return i.TraceKit=P,v},v.wrap=function(_){function z(){try{return _.apply(this,arguments)}catch(p){throw v.report(p),p}}try{if(typeof _!="function"||!_.apply)return _}catch{return _}return z},v.report=function(){function _(l){F(),T.push(l)}function z(l){for(var j=T.length-1;j>=0;--j)T[j]===l&&T.splice(j,1)}function p(l,j,V){var ie=null;if(!j||v.collectWindowErrors){for(var Q in T)if(y(T,Q))try{T[Q](l,j,V)}catch(b){ie=b}if(ie)throw ie}}function s(l,j,V,ie,Q){var b=null;if(ne)v.computeStackTrace.augmentStackTraceWithInitialElement(ne,j,V,l),O();else if(Q)b=v.computeStackTrace(Q),p(b,!0,Q);else{var A={url:j,line:V,column:ie};A.func=v.computeStackTrace.guessFunctionName(A.url,A.line),A.context=v.computeStackTrace.gatherContext(A.url,A.line),b={mode:"onerror",message:l,stack:[A]},p(b,!0,null)}return h?h.apply(this,arguments):!1}function F(){S!==!0&&(h=i.onerror,i.onerror=s,S=!0)}function O(){var l=ne,j=X;ne=null,X=null,p(l,!1,j)}function M(l){if(ne){if(X===l)return;O()}var j=v.computeStackTrace(l);throw ne=j,X=l,i.setTimeout(function(){X===l&&O()},j.incomplete?2e3:0),l}var h,S,T=[],X=null,ne=null;return M.subscribe=_,M.unsubscribe=z,M}(),v.computeStackTrace=function(){function _(b){return typeof b!="string"?[]:""}function z(b){if(typeof b!="string")return[];if(!y(Q,b)){var A="",x="";try{x=i.document.domain}catch{}var J=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(b);J&&J[2]===x&&(A=_(b)),Q[b]=A?A.split(`
`):[]}return Q[b]}function p(b,A){var x,J=/function ([^(]*)\(([^)]*)\)/,B=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,ae="",fe=10,re=z(b);if(!re.length)return R;for(var oe=0;fe>oe;++oe)if(ae=re[A-oe]+ae,!w(ae)&&((x=B.exec(ae))||(x=J.exec(ae))))return x[1];return R}function s(b,A){var x=z(b);if(!x.length)return null;var J=[],B=Math.floor(v.linesOfContext/2),ae=B+v.linesOfContext%2,fe=Math.max(0,A-B-1),re=Math.min(x.length,A+ae-1);A-=1;for(var oe=fe;re>oe;++oe)w(x[oe])||J.push(x[oe]);return J.length>0?J:null}function F(b){return b.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function O(b){return F(b).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function M(b,A){for(var x,J,B=0,ae=A.length;ae>B;++B)if((x=z(A[B])).length&&(x=x.join(`
`),J=b.exec(x)))return{url:A[B],line:x.substring(0,J.index).split(`
`).length,column:J.index-x.lastIndexOf(`
`,J.index)-1};return null}function h(b,A,x){var J,B=z(A),ae=new RegExp("\\b"+F(b)+"\\b");return x-=1,B&&B.length>x&&(J=ae.exec(B[x]))?J.index:null}function S(b){if(!w(i&&i.document)){for(var A,x,J,B,ae=[i.location.href],fe=i.document.getElementsByTagName("script"),re=""+b,oe=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,se=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,ce=0;ce<fe.length;++ce){var pe=fe[ce];pe.src&&ae.push(pe.src)}if(J=oe.exec(re)){var Ie=J[1]?"\\s+"+J[1]:"",ve=J[2].split(",").join("\\s*,\\s*");A=F(J[3]).replace(/;$/,";?"),x=new RegExp("function"+Ie+"\\s*\\(\\s*"+ve+"\\s*\\)\\s*{\\s*"+A+"\\s*}")}else x=new RegExp(F(re).replace(/\s+/g,"\\s+"));if(B=M(x,ae))return B;if(J=se.exec(re)){var Ee=J[1];if(A=O(J[2]),x=new RegExp("on"+Ee+`=[\\'"]\\s*`+A+`\\s*[\\'"]`,"i"),(B=M(x,ae[0]))||(x=new RegExp(A),B=M(x,ae)))return B}return null}}function T(b){if(!b.stack)return null;for(var A,x,J=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|webpack|eval).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,B=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,ae=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,fe=b.stack.split(`
`),re=[],oe=/^(.*) is undefined$/.exec(b.message),se=0,ce=fe.length;ce>se;++se){if(A=J.exec(fe[se])){var pe=A[2]&&A[2].indexOf("native")!==-1;x={url:pe?null:A[2],func:A[1]||R,args:pe?[A[2]]:[],line:A[3]?+A[3]:null,column:A[4]?+A[4]:null}}else if(A=ae.exec(fe[se]))x={url:A[2],func:A[1]||R,args:[],line:+A[3],column:A[4]?+A[4]:null};else{if(!(A=B.exec(fe[se])))continue;x={url:A[3],func:A[1]||R,args:A[2]?A[2].split(","):[],line:A[4]?+A[4]:null,column:A[5]?+A[5]:null}}!x.func&&x.line&&(x.func=p(x.url,x.line)),x.line&&(x.context=s(x.url,x.line)),re.push(x)}return re.length?(re[0]&&re[0].line&&!re[0].column&&oe?re[0].column=h(oe[1],re[0].url,re[0].line):re[0].column||w(b.columnNumber)||(re[0].column=b.columnNumber+1),{mode:"stack",name:b.name,message:b.message,stack:re}):null}function X(b){var A=b.stacktrace;if(A){for(var x,J=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,B=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,ae=A.split(`
`),fe=[],re=0;re<ae.length;re+=2){var oe=null;if((x=J.exec(ae[re]))?oe={url:x[2],line:+x[1],column:null,func:x[3],args:[]}:(x=B.exec(ae[re]))&&(oe={url:x[6],line:+x[1],column:+x[2],func:x[3]||x[4],args:x[5]?x[5].split(","):[]}),oe){if(!oe.func&&oe.line&&(oe.func=p(oe.url,oe.line)),oe.line)try{oe.context=s(oe.url,oe.line)}catch{}oe.context||(oe.context=[ae[re+1]]),fe.push(oe)}}return fe.length?{mode:"stacktrace",name:b.name,message:b.message,stack:fe}:null}}function ne(b){var A=b.message.split(`
`);if(A.length<4)return null;var x,J=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,B=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,ae=/^\s*Line (\d+) of function script\s*$/i,fe=[],re=i&&i.document&&i.document.getElementsByTagName("script"),oe=[];for(var se in re)y(re,se)&&!re[se].src&&oe.push(re[se]);for(var ce=2;ce<A.length;ce+=2){var pe=null;if(x=J.exec(A[ce]))pe={url:x[2],func:x[3],args:[],line:+x[1],column:null};else if(x=B.exec(A[ce])){pe={url:x[3],func:x[4],args:[],line:+x[1],column:null};var Ie=+x[1],ve=oe[x[2]-1];if(ve){var Ee=z(pe.url);if(Ee){Ee=Ee.join(`
`);var Re=Ee.indexOf(ve.innerText);Re>=0&&(pe.line=Ie+Ee.substring(0,Re).split(`
`).length)}}}else if(x=ae.exec(A[ce])){var Ce=i.location.href.replace(/#.*$/,""),ke=new RegExp(O(A[ce+1])),k=M(ke,[Ce]);pe={url:Ce,func:"",args:[],line:k?k.line:x[1],column:null}}if(pe){pe.func||(pe.func=p(pe.url,pe.line));var C=s(pe.url,pe.line),Z=C?C[Math.floor(C.length/2)]:null;pe.context=C&&Z.replace(/^\s*/,"")===A[ce+1].replace(/^\s*/,"")?C:[A[ce+1]],fe.push(pe)}}return fe.length?{mode:"multiline",name:b.name,message:A[0],stack:fe}:null}function l(b,A,x,J){var B={url:A,line:x};if(B.url&&B.line){b.incomplete=!1,B.func||(B.func=p(B.url,B.line)),B.context||(B.context=s(B.url,B.line));var ae=/ '([^']+)' /.exec(J);if(ae&&(B.column=h(ae[1],B.url,B.line)),b.stack.length>0&&b.stack[0].url===B.url){if(b.stack[0].line===B.line)return!1;if(!b.stack[0].line&&b.stack[0].func===B.func)return b.stack[0].line=B.line,b.stack[0].context=B.context,!1}return b.stack.unshift(B),b.partial=!0,!0}return b.incomplete=!0,!1}function j(b,A){for(var x,J,B,ae=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,fe=[],re={},oe=!1,se=j.caller;se&&!oe;se=se.caller)if(se!==V&&se!==v.report){if(J={url:null,func:R,args:[],line:null,column:null},se.name?J.func=se.name:(x=ae.exec(se.toString()))&&(J.func=x[1]),typeof J.func>"u")try{J.func=x.input.substring(0,x.input.indexOf("{"))}catch{}if(B=S(se)){J.url=B.url,J.line=B.line,J.func===R&&(J.func=p(J.url,J.line));var ce=/ '([^']+)' /.exec(b.message||b.description);ce&&(J.column=h(ce[1],B.url,B.line))}re[""+se]?oe=!0:re[""+se]=!0,fe.push(J)}A&&fe.splice(0,A);var pe={mode:"callers",name:b.name,message:b.message,stack:fe};return l(pe,b.sourceURL||b.fileName,b.line||b.lineNumber,b.message||b.description),pe}function V(b,A){var x=null;A=A==null?0:+A;try{if(x=X(b))return x}catch{}try{if(x=T(b))return x}catch{}try{if(x=ne(b))return x}catch{}try{if(x=j(b,A+1))return x}catch{}return{mode:"failed"}}function ie(b){b=(b==null?0:+b)+1;try{throw new Error}catch(A){return V(A,b+1)}}var Q={};return V.augmentStackTraceWithInitialElement=l,V.guessFunctionName=p,V.gatherContext=s,V.ofCaller=ie,V.getSource=z,V}(),v.extendToAsynchronousCallbacks=function(){var _=function(z){var p=i[z];i[z]=function(){var s=q.call(arguments),F=s[0];return typeof F=="function"&&(s[0]=v.wrap(F)),p.apply?p.apply(this,s):p(s[0],s[1])}};_("setTimeout"),_("setInterval")},v.remoteFetching||(v.remoteFetching=!0),v.collectWindowErrors||(v.collectWindowErrors=!0),(!v.linesOfContext||v.linesOfContext<1)&&(v.linesOfContext=11),i.TraceKit=v}}(typeof window<"u"?window:nt),function(i,y){if(i&&i.event&&i.event.add){var w=i.event.add;i.event.add=function(q,R,_,z,p){if(typeof _!="function"&&typeof _.handler!="function")return w.call(this,q,R,_,z,p);var s;return _.handler?(s=_.handler,_.handler=y.wrap(_.handler)):(s=_,_=y.wrap(_)),_.guid=s.guid?s.guid:s.guid=i.guid++,w.call(this,q,R,_,z,p)};var v=i.fn.ready;i.fn.ready=function(q){return v.call(this,y.wrap(q))};var P=i.ajax;i.ajax=function(q,R){typeof q=="object"&&(R=q,q=void 0),R=R||{};for(var _,z=["complete","error","success"];_=z.pop();)i.isFunction(R[_])&&(R[_]=y.wrap(R[_]));try{return q?P.call(this,q,R):P.call(this,R)}catch(p){throw y.report(p),p}}}}(window.jQuery,window.TraceKit),window.webVitals=function(i){var y,w,v,P,q,R=-1,_=function(H){addEventListener("pageshow",function(W){W.persisted&&(R=W.timeStamp,H(W))},!0)},z=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},p=function(){var H=z();return H&&H.activationStart||0},s=function(H,W){var K=z(),le="navigate";return R>=0?le="back-forward-cache":K&&(document.prerendering||p()>0?le="prerender":document.wasDiscarded?le="restore":K.type&&(le=K.type.replace(/_/g,"-"))),{name:H,value:W===void 0?-1:W,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:le}},F=function(H,W,K){try{if(PerformanceObserver.supportedEntryTypes.includes(H)){var le=new PerformanceObserver(function($){Promise.resolve().then(function(){W($.getEntries())})});return le.observe(Object.assign({type:H,buffered:!0},K||{})),le}}catch{}},O=function(H,W,K,le){var $,me;return function(xe){W.value>=0&&(xe||le)&&((me=W.value-($||0))||$===void 0)&&($=W.value,W.delta=me,W.rating=function(_e,ye){return _e>ye[1]?"poor":_e>ye[0]?"needs-improvement":"good"}(W.value,K),H(W))}},M=function(H){requestAnimationFrame(function(){return requestAnimationFrame(function(){return H()})})},h=function(H){var W=function(K){K.type!=="pagehide"&&document.visibilityState!=="hidden"||H(K)};addEventListener("visibilitychange",W,!0),addEventListener("pagehide",W,!0)},S=function(H){var W=!1;return function(K){W||(H(K),W=!0)}},T=-1,X=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},ne=function(H){document.visibilityState==="hidden"&&T>-1&&(T=H.type==="visibilitychange"?H.timeStamp:0,j())},l=function(){addEventListener("visibilitychange",ne,!0),addEventListener("prerenderingchange",ne,!0)},j=function(){removeEventListener("visibilitychange",ne,!0),removeEventListener("prerenderingchange",ne,!0)},V=function(){return 0>T&&(T=X(),l(),_(function(){setTimeout(function(){T=X(),l()},0)})),{get firstHiddenTime(){return T}}},ie=function(H){document.prerendering?addEventListener("prerenderingchange",function(){return H()},!0):H()},Q=[1800,3e3],b=function(H,W){W=W||{},ie(function(){var K,le=V(),$=s("FCP"),me=F("paint",function(xe){xe.forEach(function(_e){_e.name==="first-contentful-paint"&&(me.disconnect(),_e.startTime<le.firstHiddenTime&&($.value=Math.max(_e.startTime-p(),0),$.entries.push(_e),K(!0)))})});me&&(K=O(H,$,Q,W.reportAllChanges),_(function(xe){$=s("FCP"),K=O(H,$,Q,W.reportAllChanges),M(function(){$.value=performance.now()-xe.timeStamp,K(!0)})}))})},A=[.1,.25],x=function(H,W){W=W||{},b(S(function(){var K,le=s("CLS",0),$=0,me=[],xe=function(ye){ye.forEach(function(je){if(!je.hadRecentInput){var De=me[0],qe=me[me.length-1];$&&je.startTime-qe.startTime<1e3&&je.startTime-De.startTime<5e3?($+=je.value,me.push(je)):($=je.value,me=[je])}}),$>le.value&&(le.value=$,le.entries=me,K())},_e=F("layout-shift",xe);_e&&(K=O(H,le,A,W.reportAllChanges),h(function(){xe(_e.takeRecords()),K(!0)}),_(function(){$=0,le=s("CLS",0),K=O(H,le,A,W.reportAllChanges),M(function(){return K()})}),setTimeout(K,0))}))},J={passive:!0,capture:!0},B=new Date,ae=function(H,W){y||(y=W,w=H,v=new Date,oe(removeEventListener),fe())},fe=function(){if(w>=0&&v-B>w){var H={entryType:"first-input",name:y.type,target:y.target,cancelable:y.cancelable,startTime:y.timeStamp,processingStart:y.timeStamp+w};P.forEach(function(W){W(H)}),P=[]}},re=function(H){if(H.cancelable){var W=(H.timeStamp>1e12?new Date:performance.now())-H.timeStamp;H.type=="pointerdown"?function(K,le){var $=function(){ae(K,le),xe()},me=function(){xe()},xe=function(){removeEventListener("pointerup",$,J),removeEventListener("pointercancel",me,J)};addEventListener("pointerup",$,J),addEventListener("pointercancel",me,J)}(W,H):ae(W,H)}},oe=function(H){["mousedown","keydown","touchstart","pointerdown"].forEach(function(W){return H(W,re,J)})},se=[100,300],ce=function(H,W){W=W||{},ie(function(){var K,le=V(),$=s("FID"),me=function(ye){ye.startTime<le.firstHiddenTime&&($.value=ye.processingStart-ye.startTime,$.entries.push(ye),K(!0))},xe=function(ye){ye.forEach(me)},_e=F("first-input",xe);K=O(H,$,se,W.reportAllChanges),_e&&h(S(function(){xe(_e.takeRecords()),_e.disconnect()})),_e&&_(function(){var ye;$=s("FID"),K=O(H,$,se,W.reportAllChanges),P=[],w=-1,y=null,oe(addEventListener),ye=me,P.push(ye),fe()})})},pe=0,Ie=1/0,ve=0,Ee=function(H){H.forEach(function(W){W.interactionId&&(Ie=Math.min(Ie,W.interactionId),ve=Math.max(ve,W.interactionId),pe=ve?(ve-Ie)/7+1:0)})},Re=function(){return q?pe:performance.interactionCount||0},Ce=function(){"interactionCount"in performance||q||(q=F("event",Ee,{type:"event",buffered:!0,durationThreshold:0}))},ke=[200,500],k=0,C=function(){return Re()-k},Z=[],Y={},te=function(H){var W=Z[Z.length-1],K=Y[H.interactionId];if(K||Z.length<10||H.duration>W.latency){if(K)K.entries.push(H),K.latency=Math.max(K.latency,H.duration);else{var le={id:H.interactionId,latency:H.duration,entries:[H]};Y[le.id]=le,Z.push(le)}Z.sort(function($,me){return me.latency-$.latency}),Z.splice(10).forEach(function($){delete Y[$.id]})}},ue=function(H,W){W=W||{},ie(function(){var K;Ce();var le,$=s("INP"),me=function(_e){_e.forEach(function(De){De.interactionId&&te(De),De.entryType==="first-input"&&!Z.some(function(qe){return qe.entries.some(function(Fe){return De.duration===Fe.duration&&De.startTime===Fe.startTime})})&&te(De)});var ye,je=(ye=Math.min(Z.length-1,Math.floor(C()/50)),Z[ye]);je&&je.latency!==$.value&&($.value=je.latency,$.entries=je.entries,le())},xe=F("event",me,{durationThreshold:(K=W.durationThreshold)!==null&&K!==void 0?K:40});le=O(H,$,ke,W.reportAllChanges),xe&&("interactionId"in PerformanceEventTiming.prototype&&xe.observe({type:"first-input",buffered:!0}),h(function(){me(xe.takeRecords()),$.value<0&&C()>0&&($.value=0,$.entries=[]),le(!0)}),_(function(){Z=[],k=Re(),$=s("INP"),le=O(H,$,ke,W.reportAllChanges)}))})},Te=[2500,4e3],be={},Ae=function(H,W){W=W||{},ie(function(){var K,le=V(),$=s("LCP"),me=function(ye){var je=ye[ye.length-1];je&&je.startTime<le.firstHiddenTime&&($.value=Math.max(je.startTime-p(),0),$.entries=[je],K())},xe=F("largest-contentful-paint",me);if(xe){K=O(H,$,Te,W.reportAllChanges);var _e=S(function(){be[$.id]||(me(xe.takeRecords()),xe.disconnect(),be[$.id]=!0,K(!0))});["keydown","click"].forEach(function(ye){addEventListener(ye,function(){return setTimeout(_e,0)},!0)}),h(_e),_(function(ye){$=s("LCP"),K=O(H,$,Te,W.reportAllChanges),M(function(){$.value=performance.now()-ye.timeStamp,be[$.id]=!0,K(!0)})})}})},Oe=[800,1800],Me=function H(W){document.prerendering?ie(function(){return H(W)}):document.readyState!=="complete"?addEventListener("load",function(){return H(W)},!0):setTimeout(W,0)},ze=function(H,W){W=W||{};var K=s("TTFB"),le=O(H,K,Oe,W.reportAllChanges);Me(function(){var $=z();if($){var me=$.responseStart;if(0>=me||me>performance.now())return;K.value=Math.max(me-p(),0),K.entries=[$],le(!0),_(function(){K=s("TTFB",0),(le=O(H,K,Oe,W.reportAllChanges))(!0)})}})};return i.CLSThresholds=A,i.FCPThresholds=Q,i.FIDThresholds=se,i.INPThresholds=ke,i.LCPThresholds=Te,i.TTFBThresholds=Oe,i.getCLS=x,i.getFCP=b,i.getFID=ce,i.getINP=ue,i.getLCP=Ae,i.getTTFB=ze,i.onCLS=x,i.onFCP=b,i.onFID=ce,i.onINP=ue,i.onLCP=Ae,i.onTTFB=ze,Object.defineProperty(i,"__esModule",{value:!0}),i}({}),function(i,y,w,v){function P(){try{B=null,h()&&localStorage.removeItem(De),ae=null,N.createCookie(qe,"",-1)}catch(n){N.log("Atatus Reset User",n)}}function q(n,r,m,a){if(n){B={},n&&(B.id=""+n),r&&(B.email=""+r),m&&(B.name=""+m),a&&(B.anonymous=a);try{h()&&localStorage.setItem(De,JSON.stringify(B)),ae=null,N.createCookie(qe,"",-1)}catch(o){N.log("Atatus Set User: Invalid JSON object in LocalStorage",o)}}}function R(){try{var n;if(h()&&(n=localStorage.getItem(De)),n)B=JSON.parse(n),ae=null;else{var r,m=N.readCookie(qe);m&&(r=N.readCookieElement(m,"id")),r&&r!=="undefined"?ae=r:(ae=N.uuid4(),N.createCookie(qe,ae))}}catch(a){N.log("Atatus Get User: Invalid JSON object in LocalStorage",a)}}function _(n){var r=n,m=n.split("//")[1];if(m){var a=m.indexOf("?"),o=m.toString().substring(0,a),e=o.split("/").slice(0,4).join("/"),t=o.substring(0,48);r=e.length<t.length?e:t,r!==o&&(r+="..")}return r}function z(n,r,m,a){if(r.status!==0&&r.getAllResponseHeaders()){var o="AJAX Error: "+(r.statusText||"unknown")+" "+(m.type||"unknown")+" "+(_(m.url)||"unknown");G.send(a||n.type,{status:r.status,statusText:r.statusText,type:m.type,url:m.url,ajaxErrorMessage:o,contentType:m.contentType,requestData:m.data&&m.data.slice?m.data.slice(0,10240):v,responseData:r.responseText&&r.responseText.slice?r.responseText.slice(0,10240):v,activeTarget:n.target&&n.target.activeElement&&n.target.activeElement.outerHTML&&n.target.activeElement.outerHTML.slice?n.target.activeElement.outerHTML.slice(0,10240):v})}}function p(n){if(N.log("Atatus: Caught unhandled promise rejection:",n),n){var r=n.reason||"<no reason specified>";r&&(r instanceof Error||r.message)?G.notify(r):(r=typeof r=="object"?"<object>":typeof r=="function"?"<function>":r,G.notify(new Error("UnhandledRejection: "+r)))}}function s(){"addEventListener"in i&&i.addEventListener("unhandledrejection",p)}function F(){"removeEventListener"in i&&i.removeEventListener("unhandledrejection",p)}function O(){return x&&x!==""?!0:(N.log("Atatus API key has not been configured, make sure you call atatus.config(yourApiKey)"),!1)}function M(){var n=y.documentElement,r=y.getElementsByTagName("body")[0],m=i.innerWidth||n.clientWidth||r.clientWidth,a=i.innerHeight||n.clientHeight||r.clientHeight;return{width:m,height:a}}function h(){try{return"localStorage"in i&&i.localStorage!==null}catch{return!1}}function S(n){try{if(h()&&localStorage.length<50){var r=new Date().toJSON(),m="atatusjs="+r+"="+N.getRandomInt();typeof localStorage[m]>"u"&&(localStorage[m]=n)}else N.log("Atatus: Reached local storage limit.")}catch{N.log("Atatus: LocalStorage full, cannot save exception")}}function T(){try{if(h()&&localStorage.length>0){for(var n in localStorage)if(n.substring(0,9)==="atatusjs="){try{var r=JSON.parse(localStorage[n]);"apikey"in r&&l(Je,r)}catch{N.log("Atatus: Invalid JSON object in LocalStorage")}localStorage.removeItem(n)}}}catch(m){N.log("Atatus sendSavedErrors: LocalStorage read failed!",m)}}function X(n,r){if(r=N.isObject(r)?r:{},!n||!n.stack||!n.stack.length)return void N.log("Atatus: Canceling send due to no stacktrace.");N.isObject(r.customData)||(r.customData=v),N.isArray(r.tags)||(r.tags=v);var m=r.customData&&r.customData.ajaxErrorMessage||n.message;if(m&&m.indexOf("Uncaught ")===0&&(m=n.message.substring(9)),m=m||r.status||"Script error.",Re&&Re.test(m))return void N.log("Atatus: canceling send due to Script error or ignored errors.");m=m.substr(0,at);var a=[];n.stack&&n.stack.length&&N.forEach(n.stack,function(f,g){N.endsWith(g.url,"/atatus.js")||N.endsWith(g.url,"/atatus-spa.js")||N.endsWith(g.url,"/atatus-spa.min.js")||N.endsWith(g.url,"/atatus.min.js")||a.push({ln:parseInt(g.line||0),cn:parseInt(g.column||0),f:g.url||"anonymous",m:g.func||"[anonymous]"})});var o=[n.name,m,JSON.stringify(a)].join("|");if(o===Ce){if(ye++,ye>=je)return void N.log("Atatus: canceling send due to duplicate errors")}else Ce=o,ye=0;var e=r.customData;try{JSON.stringify(e)}catch{var t="Cannot add custom data; may contain circular reference";e={error:t},N.log("Atatus: "+t)}var u=Ke.getAllEvents();Ge.clear();var c={class:n.name,url:y.location.href,message:m,name:m,backTraces:a,breadCrumbs:u,customData:e||null,tags:r.tags,ts:new Date().getTime()};if(typeof k=="function"&&(c.groupingKey=k(c)),typeof Z=="function"){var d=Z(c);d&&(delete c.name,ne(c))}else delete c.name,ne(c)}function ne(n){return oe?void N.log("Error Tracking is disabled."):void l(Je,{customData:J||null,errors:[n]})}function l(n,r){if(O()){if(!G._isAllowedUrl(location.href))return void N.log("Atatus: canceling send due to not an allowed domain/url.");if(!r.ts){var m=i.screen||M();r.ts=new Date().getTime(),r.apikey=x,r.request={url:y.location.href,ua:navigator.userAgent,w:m.width,h:m.height},r.connection=He,r.tags=r.tags||Me,r.user=B&&B.id?B:null,r.aid=ae||null,r.sid=G.sessionId||"",r.v=fe||"",r._v=G.VERSION||be}if(C){var a=C(r);if(!a)return void N.log("Atatus: canceling send due to false from beforeSend callback.")}if(ke&&ke(r),N.log("Sending data to Atatus Receiver:",r),n===et)ie(n,r);else if(n===it){if(!r.sid)return void N.log("Atatus: canceling session send due to empty session id.");if(Pe.session>=vt)return void N.log("Atatus: Canceling session send. Reached maximum number of requests!");Pe.session+=1,b(n,r)}else if(n===tt){if(Pe.spa>=yt)return void N.log("Atatus: Canceling SPA send. Reached maximum number of requests!");Pe.spa+=1,Pe.ajax=0,b(n,r)}else if(n===ot){if(Pe.webvitals>=st)return void N.log("Atatus: Canceling web vitals send. Reached maximum number of requests!");Pe.webvitals+=1,A(n,r)}else if(n===Ve){if(Pe.ajax>=mt)return void N.log("Atatus: Canceling AJAX send. Reached maximum number of requests!");Pe.ajax+=1,b(n,r)}else{if(n===Je){if(Pe.error>=pt)return void N.log("Atatus: Canceling error send. Reached maximum number of requests!");Pe.error+=1}else if(n===Xe){if(Pe.txn>=gt)return void N.log("Atatus: Canceling transaction send. Reached maximum number of requests!");Pe.txn+=1}V(n,r)}}}function j(n){return"apikey="+n.apikey+"&v="+n._v}function V(n,r){var m=Fe+n+"?data="+encodeURIComponent(JSON.stringify(r))+"&"+j(r);if(m.length>$e)return void N.log("Atatus: Canceling request send due to large payload size.");var a=new Image;a.crossOrigin="anonymous",a.onload=function(){T()},a.onerror=a.onabort=function(){$&&n===Je&&S(JSON.stringify(r))},a.src=m}function ie(n,r){var m=y.createElement("script"),a=Fe+n+"?data="+encodeURIComponent(JSON.stringify(r))+"&callback=atatus._setFeatures&"+j(r);m.type="text/javascript",m.src=a;var o=y.getElementsByTagName("script")[0];o.parentNode.insertBefore(m,o)}function Q(n,r){var m;return m=new i.XMLHttpRequest,"withCredentials"in m?m.open(n,r,!0):i.XDomainRequest&&(r=N.getTargetUrl(r),m=new i.XDomainRequest,m.open(n,r)),m.timeout=1e4,m}function b(n,r){var m=Fe+n+"?"+j(r),a=Q("POST",m);return a?(typeof a.setRequestHeader=="function"&&a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),"withCredentials"in a?(a.onreadystatechange=function(){a.readyState},a.onload=function(){N.log("Sent data to Atatus. Status - "+a.status)}):i.XDomainRequest&&(a.ontimeout=function(){},a.onload=function(){N.log("Sent data to Atatus. Status - "+a.status)}),a.onerror=function(){N.log("Failed to send to Atatus. Status - "+a.status)},void a.send(JSON.stringify(r))):void N.log("XHR is not supported!")}function A(n,r){var m=Object.prototype.toString.call(i&&i.navigator)==="[object Navigator]",a=m&&typeof i.navigator.sendBeacon=="function";if(a){var o=i.navigator.sendBeacon.bind(i.navigator),e=Fe+n;return o(e,JSON.stringify(r))}V(n,r)}var x,J,B,ae,fe,re,oe,se,ce,pe,Ie,ve,Ee,Re,Ce,ke,k,C,Z,Y,te,ue,Te,be="4.6.5",Ae=i.TraceKit.noConflict(),Oe=i.atatus,Me=[],ze=!1,H=[],W=[],K=[],le=!1,$=!1,me=!1,xe=!0,_e=!1,ye=0,je=0,De="atatus-user",qe="atatus-aid",Fe="https://bm-rx.atatus.com",Je="/track/browser/errors",et="/track/browser/perf/pageload",Ve="/track/browser/perf/ajax",it="/track/browser/perf/session",tt="/track/browser/perf/spa",Xe="/track/browser/perf/txn",ot="/track/browser/perf/webvitals",$e=4e4,Ye=10,Qe=500,at=1e3,pt=20,mt=5,vt=10,gt=100,yt=100,st=3,Pe={error:0,ajax:0,session:0,txn:0,spa:0,webvitals:0},He=null,ct=["google-analytics.com","mixpanel.com","bam.nr-data.net","br-rx.atatus.com","bm-rx.atatus.com","segment.io","hotjar.io","hotjar.com","amplitude.com","fullstory.com","autopilothq.com","smartlook.com","charmerly.com","googleapis.com","logrocket.io","taboola.com","sentry.io","doubleclick.net","logentries.com","rb-collector.com","js.hs-banner.com","clarity.ms","lr-ingest.io","collector.replaybird.com","rum.browser-intake-datadoghq.com"];w&&(Te=w(y));var N={isBoolean:function(n){return typeof n<"u"&&typeof n=="boolean"},isString:function(n){return typeof n=="string"},isNumber:function(n){return typeof n=="number"},isFunction:function(n){return typeof n=="function"},isArray:function(n){return Object.prototype.toString.call(n)==="[object Array]"},isObject:function(n){return Object.prototype.toString.call(n)==="[object Object]"},serialize:function(n){if(!n)return"";if(N.isString(n)||N.isNumber(n)||N.isBoolean(n)||N.isFunction(n))return""+n;if(typeof n=="object")try{return JSON.stringify(n)}catch{return"Unserializable Object"}return""},endsWith:function(n,r){return n&&r?n.indexOf(r,n.length-r.length)!==-1:!1},joinRegExp:function(n){if(n.length===0)return null;for(var r,m=[],a=0,o=n.length;o>a;a++)r=n[a],N.isString(r)?m.push(r.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):r&&r.source&&m.push(r.source);return new RegExp(m.join("|"),"i")},getTargetUrl:function(n){return i.XDomainRequest&&le&&(n=n.slice(6)),n},now:function(){return new Date().getTime()},pad:function(n){return n=String(n),n.length===1&&(n="0"+n),n},merge:function(n,r){var m,a={};for(m in n)a[m]=n[m];for(m in r)a[m]=r[m];return a},mergeArray:function(n,r){return r!=null?n.concat(r):n},forEach:function(n,r){for(var m=0;m<n.length;m++)r.call(null,m,n[m])},isEmpty:function(n){for(var r in n)if(n.hasOwnProperty(r))return!1;return!0},getRandomInt:function(){return Math.floor(9007199254740992*Math.random())},log:function(n,r){ze&&i.console&&i.console.log&&(i.console.log(n),r&&i.console.log(r))},bind:function(n,r){return function(){return n.apply(r,Array.prototype.slice.call(arguments))}},canAllowInsecureSubmissions:function(){var n=i.navigator.userAgent,r=n.match(/Trident\/([\d.]+)/),m=r&&r[1]==="7.0"?11:(n=n.match(/MSIE ([\d.]+)/))?parseInt(n[1],10):!1;return m&&9>=m},uuid4:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(n){var r=16*Math.random()|0,m=n==="x"?r:3&r|8;return m.toString(16)})},addEventListener:function(n,r,m){return typeof i.attachEvent<"u"?i.attachEvent("on"+n,r):i.addEventListener?i.addEventListener(n,r,m):void 0},arrayFromObject:function(n){var r=[];for(var m in n)n.hasOwnProperty(m)&&r.push(n[m]);return r},createCookie:function(n,r,m,a,o){try{var e,t;if(m){var u=new Date;u.setTime(u.getTime()+60*m*60*1e3),e="; expires="+u.toGMTString()}else e="";var c=a?"; SameSite=Lax; secure":"; SameSite=Lax",d=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,f="";if(o){var g=y.location.hostname.match(d),E=g?g[0]:"";f=E?"; domain=."+E:""}return t=new Date().toISOString(),y.cookie=n+"=id|"+r+"&timestamp|"+t+e+"; path=/"+f+c,t}catch(D){N.log("Creating cookie failed.",D)}},clearCookie:function(n){this.createCookie(n,"",-1)},readCookieElement:function(n,r){var m=n.split(/[|&]/);return r==="id"?m[1]:r==="timestamp"?m[3]:void 0},readCookie:function(n){try{for(var r=n+"=",m=y.cookie.split(";"),a=0;a<m.length;a++){for(var o=m[a];o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(r)===0)return o.substring(r.length,o.length)}return null}catch(e){N.log("Reading cookie failed.",e)}}},Ge={eventObject:{},all:function(n){for(var r=this.getEventObject(n),m=[],a=0;a<r.length;a++)m.push(r[a].value);return m},clear:function(){for(var n in this.eventObject)this.eventObject.hasOwnProperty(n)&&(this.eventObject[n].length=0)},add:function(n,r){var m=this.getEventObject(n),a=N.uuid4();return r.m?r.m=r.m.length<=Qe?r.m:r.m.substr(0,Qe):r.e&&(r.e=r.e.length<=Qe?r.e:r.e.substr(0,Qe)),m.push({key:a,value:r}),this.truncateEventObject(n,Ye),a},get:function(n,r){for(var m=this.getEventObject(n),a=0;a<m.length;a++)if(m[a].key===r)return m[a].value;return!1},getEventObject:function(n){return this.eventObject[n]||(this.eventObject[n]=[]),this.eventObject[n]},truncateEventObject:function(n,r){var m=this.getEventObject(n);m.length>r&&(this.eventObject[n]=m.slice(m.length-r))}},ut={attach:function(n,r,m,a,o){n=n||i.console||{};for(var e=o||["log","debug","info","warn","error"],t=e.pop(),u=function(c,d,f){r&&Ge.add("timeline",{ts:N.now(),c:"console",l:c,m:N.serialize(d)}),c==="error"&&a&&G.notify(new Error(d),f)};t;)this.wrapConsoleMethod(n,t,m,u),t=e.pop()},wrapConsoleMethod:function(n,r,m,a){var o=n[r],e=n;r in n&&(n[r]=function(){var t=[].slice.call(arguments),u=""+t.join(" "),c={level:r,logger:"console"};a&&a(r,u,c),o&&m&&Function.prototype.apply.call(o,e,t)})}},Ke={attach:function(){var n=N.bind(this.onDocumentClicked,this),r=N.bind(this.onInputChanged,this);y.addEventListener?(y.addEventListener("click",n,!0),y.addEventListener("blur",r,!0)):y.attachEvent&&(y.attachEvent("onclick",n),y.attachEvent("onfocusout",r))},writeUserEvent:function(n,r,m,a){this.getElementType(n)==="password"&&(m=void 0),Ge.add("timeline",{ts:N.now(),a:r,e:this.getOuterHTML(n),v:this.getValueKind(m,a)})},onDocumentClicked:function(n){var r=this.getElementFromEvent(n);r&&r.tagName&&(this.isTarget(r,"a")||this.isTarget(r,"button")||this.isTarget(r,"input",["button","submit"])?this.writeUserEvent(r,"click"):this.isTarget(r,"input",["checkbox","radio"])&&this.writeUserEvent(r,"check",r.value,r.checked))},onInputChanged:function(n){var r=this.getElementFromEvent(n);r&&r.tagName&&(this.isTarget(r,"textarea")?this.writeUserEvent(r,"input",r.value):this.isTarget(r,"select")&&r.options&&r.options.length?this.onSelectInputChanged(r):this.isTarget(r,"input")&&!this.isTarget(r,"input",["button","submit","hidden","checkbox","radio"])&&this.writeUserEvent(r,"input",r.value))},onSelectInputChanged:function(n){if(n.multiple){for(var r=0;r<n.options.length;r++)if(n.options[r].selected){this.writeUserEvent(n,"select",n.options[r].value);break}}else 0<=n.selectedIndex&&n.options[n.selectedIndex]&&this.writeUserEvent(n,"select",n.options[n.selectedIndex].value)},getElementFromEvent:function(n){return n.target||y.elementFromPoint(n.clientX,n.clientY)},isTarget:function(n,r,m){if(n.tagName.toLowerCase()!==r.toLowerCase())return!1;if(!m)return!0;for(var a=this.getElementType(n),o=0;o<m.length;o++)if(m[o]===a)return!0;return!1},getElementType:function(n){return(n.getAttribute("type")||"").toLowerCase()},getOuterHTML:function(n){for(var r="<"+n.tagName.toLowerCase(),m=n.attributes,a=0,o=m.length;o>a;a++){var e=m[a].name;e.toLowerCase()!=="value"&&(r+=" "+e+'="'+m[a].value+'"')}return r+=" >"},getValueKind:function(n,r){return n==null?null:{length:n.length,checked:r,pattern:this.matchInputPattern(n)}},matchInputPattern:function(n){return n===""?"empty":/^[a-z0-9!#$%&'*+=?\^_`{|}~\-]+(?:\.[a-z0-9!#$%&'*+=?\^_`{|}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/.test(n)?"email":/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(n)||/^(\d{4}[\/\-](0?[1-9]|1[012])[\/\-]0?[1-9]|[12][0-9]|3[01])$/.test(n)?"date":/^(?:(?:\+?1\s*(?:[.\-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.\-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.\-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(n)?"phone":/^\s*$/.test(n)?"whitespace":/^\d*$/.test(n)?"numeric":"character"},getAllEvents:function(){return Ge.all("timeline")}},G={VERSION:be,paintPerformance:{},noConflict:function(){return i.atatus=Oe,G},isConfigured:function(){return!!x},config:function(n,r){r=r||{},x=n,Ae.remoteFetching=!1,Re=[],G.setCustomData(r.customData),G.setTags(r.tags),ze=!!r.debugMode,me=!!r.reportAjaxErrors,xe=r.reportUnhandledRejections===v?!0:!!r.reportUnhandledRejections,_e=!!r.allowChromeExtension,re=!!r.disableBreadcrumbs,oe=!!r.disableErrorTracking,ve=!!r.disableRUM,ce=!!r.disableAjaxMonitoring,pe=r.disableSession===v?!1:r.disableSession,Ie=r.disableSPA===v?!1:r.disableSPA,ue=r.urlMaxLength,r.maxDuplicateErrors&&(je=r.maxDuplicateErrors>10?10:r.maxDuplicateErrors||0),le=N.canAllowInsecureSubmissions(),G.setIgnoreUrls(r.ignoreUrls),G.setWhitelistUrls(r.whitelistUrls),G.setAllowedDomains(r.allowedDomains),G.setVersion(r.version),G.enableOffline(r.enableOffline||r.offline),G.onBeforeSend(r.beforeSend),G.onBeforeErrorSend(r.beforeErrorSend),G.onTransformRouteUrl(r.transformRouteUrl),G.setGroupingKeyCallback(r.groupingKeyCallback),r.ignoreErrors&&N.isArray(r.ignoreErrors)&&(Re=r.ignoreErrors),Re.push(/^Script error\.?$/),Re.push(/^Javascript error: Script error\.? on line 0$/),Re=N.joinRegExp(Re),T(),Ee={enabled:!1,timeline:!0,display:!0,error:!0,levels:null},N.isBoolean(r.console)&&(Ee.enabled=r.console),N.isBoolean(r.consoleTimeline)&&(Ee.timeline=r.consoleTimeline),N.isBoolean(r.consoleDisplay)&&(Ee.display=r.consoleDisplay),N.isBoolean(r.consoleErrorNotify)&&(Ee.error=r.consoleErrorNotify),N.isArray(r.consoleTimelineLevels)&&(Ee.levels=r.consoleTimelineLevels),Ee.enabled&&"console"in i&&i.console.log&&ut.attach(i.console,Ee.timeline,Ee.display,Ee.error,Ee.levels),G.setHashRoutes(r.hashRoutes);var m=i.navigator.connection||i.navigator.mozConnection||i.navigator.webkitConnection;return m&&(He={},He.dlk=m.downlink,He.eft=m.effectiveType,He.rtt=m.rtt,He.type=m.type),G},install:function(){if(!O()||!_e&&y.location.href.indexOf("chrome-extension://")!==-1)return G;if(R(),re||Ke.attach(),oe||(Ae.report.subscribe(X),Ae.extendToAsynchronousCallbacks(),Te&&me&&Te.ajaxError(z),xe&&s()),ce||ve||G.__attachAjaxHooks(),!pe&&!ve&&G.SessionTracking){var n=function(){te=new G.SessionTracking,te.attach()};i.addEventListener?i.addEventListener("load",n):i.attachEvent("onload",n)}return Ie||ve||!G.spa||G.spa.init({logLevel:ze?"debug":"warn",urlMaxLength:ue}),G},uninstall:function(){return x=null,oe||(Ae.report.unsubscribe(X),Te&&me&&Te.unbind("ajaxError",z),xe&&F()),G},setCustomData:function(n){return n?N.isObject(n)?J=n:N.log("Custom data must be an object."):J=null,G},setTags:function(n){return n?N.isArray(n)?Me=n:N.log("Tags must be an array of string."):Me=[],G},setHashRoutes:function(n){return n?(ke=function(r){if(r&&r.request&&r.request.url&&(r.request.url=r.request.url.replace("/#/","/").replace("#/","/")),r&&r.data&&r.data[0]&&r.data[0].spans)for(var m=0;m<r.data.length;m++)r.data[m].n=(r.data[m].n||"").replace("/#/","/").replace("#","");if(r&&r.slowestRoutes&&r.slowestRoutes[0])for(var a=0;a<r.slowestRoutes.length;a++)r.slowestRoutes[a].n=(r.slowestRoutes[a].n||"").replace("/#/","/").replace("#","")},G):(ke=null,G)},setIgnoreUrls:function(n){return n&&N.isArray(n)?Array.prototype.push.apply(n,ct):n=ct,W=N.joinRegExp(n),G},getIgnoreUrls:function(){return W},setWhitelistUrls:function(n){return n&&N.isArray(n)&&(K=N.joinRegExp(n)),G},getWhitelistUrls:function(){return K},setAllowedDomains:function(n){return n&&N.isArray(n)&&(H=N.joinRegExp(n)),G},getAllowedDomains:function(){return H},setUser:function(n,r,m,a){return q(n,r,m,a),G},resetUser:function(){return P(),G},setVersion:function(n){return n&&(fe=""+n),G},enableOffline:function(n){return N.isBoolean(n)&&($=n),G},onBeforeSend:function(n){return N.isFunction(n)&&(C=n),G},onBeforeErrorSend:function(n){return N.isFunction(n)&&(Z=n),G},onTransformRouteUrl:function(n){return N.isFunction(n)&&(Y=n),G},setGroupingKeyCallback:function(n){return N.isFunction(n)&&(k=n),G},setAPIEndpoint:function(n){return Fe=n,G},getAPIEndpoint:function(){return Fe},getTransformRouteUrlFn:function(){return Y},init:function(n,r,m){return m&&(r=r||{},r.customData=m),G.config(n,r)},withCustomData:function(n){return G.setCustomData(n)},withTags:function(n){return G.setTags(n)},attach:function(){return G.install()},detach:function(){return G.uninstall()},endSession:function(){return te&&te.endSession(),G},endPageLoad:function(){i.atatus._pageLoadEndTime=Date.now()},_setFeatures:function(n){N.isObject(n)&&(ce=!!n.daj,pe=!!n.dss,Ie=!!n.dspa,ve=!!n.drum,oe=!!n.derror,se=!!n.dtxn,n.error&&N.log("Error in sending data to Atatus",n.error))},measureRoute:function(n){return te&&n&&te.virtualPageLoaded(n),G},leaveBreadcrumb:function(n,r){return n?(Ge.add("timeline",{ts:N.now(),c:"breadcrumb",l:r||"info",m:N.serialize(n)}),G):void 0},notify:function(n,r,m){return typeof n=="string"?void N.log("atatus.notify() was called with a string. Expected instance of Error."):G.send(n,r,m)},sendPerf:function(n){return ve?void N.log("RUM is disabled."):l(et,n)},sendAjaxPerf:function(n){return ve||ce?void N.log("AJAX monitoring is disabled."):l(Ve,n)},sendSessionPerf:function(n){return ve||pe?void N.log("Session Tracking is disabled."):l(it,n)},sendSPAPerf:function(n){return ve||Ie?void N.log("SPA Tracking is disabled."):l(tt,n)},sendTxnPerf:function(n){return ve||se?void N.log("Transaction monitoring is disabled."):l(Xe,n)},sendWebVitals:function(n){return ve?void N.log("Web vitals is disabled."):l(ot,n)},send:function(n,r,m){try{X(Ae.computeStackTrace(n),{customData:r,tags:m})}catch(a){if(n!==a)throw a}return G},_isAllowedUrl:function(n){return n=n||"",W&&W.test&&W.test(n)?!1:K&&K.test?!!K.test(n):H&&H.test?!!H.test(n):!0},_helper:N};i.atatus=G,L.exports=G,typeof nt<"u"&&(nt.atatus=G)}(window,document,window.jQuery),function(i,y,w,v){function P(h){h.pl<=0||(h.nt=h.nt>0?h.nt:0,h.dp=h.dp>0?h.dp:0,h.pr=h.pr>0?h.pr:0,w.sendPerf(h))}function q(h,S){return typeof i.performance=="object"&&typeof i.performance[h]===S}function R(h){if(!q("getEntriesByName","function"))return h;var S=i.performance.getEntriesByName("first-paint");S.length>0&&S[0].startTime>0?h.fp=+S[0].startTime.toFixed(0):i.performance.timing&&i.performance.timing.msFirstPaint&&(h.fp=+(i.performance.timing.msFirstPaint-i.performance.timing.fetchStart).toFixed(0));var T=i.performance.getEntriesByName("first-contentful-paint");return T.length>0&&T[0].startTime>0&&(h.fcp=+T[0].startTime.toFixed(0)),w.paintPerformance={fp:h.fp,fcp:h.fcp},h}function _(){var h=i.performance||i.mozPerformance||i.msPerformance||i.webkitPerformance,S=h.timing;if(S.loadEventEnd===0)return!1;clearInterval(F),F=null;var T=S.navigationStart;0>=T&&(T=S.fetchStart);var X={};for(var ne in O)if(X[O[ne]]=-1,ne in S&&!(S[ne]<=0))if(i.atatus&&i.atatus._pageLoadEndTime){var l=S.loadEventEnd-T,j=i.atatus._pageLoadEndTime-T;X[O[ne]]=Math.round((S[ne]-T)*(j/l))}else X[O[ne]]=S[ne]-T;var V={nt:X.rps-X.ns,dp:X.dce-X.rps,pr:X.le-X.dce,pl:X.le-X.ns,timing:X};try{R(V)}catch{}P(V)}function z(){if(!s||!s.bDone)return!1;clearInterval(F),F=!1;var h=s.getMeasures();if(h!=null&&h.backend!=null&&h.frontend!=null&&h["page load time"]!=null&&h["total load time"]!=null){var S=h.backend,T=h.backend+h.frontend,X={nt:S,dp:T-S,pr:h["total load time"]-T,fe:h["total load time"]-S,pl:h["total load time"]};P(X)}}var p=new Date().getTime(),s=s||{};s.q=s.q||[],s.version="0.3",s.targetOrigin=y.location.protocol+"//"+y.location.hostname,s.bPostMessage=!1,s.beaconUrl=s.beaconUrl||"/images/beacon.gif",s.autorun=!1,s.init=function(){if(s.bDone=!1,s.bUnloaded=!1,s.marks={},s.measures={},s.starts={},s.findStartTime(),s.addEventListener("beforeunload",s.beforeUnload,!1),s.addEventListener("pagehide",s.beforeUnload,!1),s.addEventListener("unload",s.beforeUnload,!1),s.processQ(),y.readyState==="complete"){var h=i.performance||i.mozPerformance||i.msPerformance||i.webkitPerformance;h&&typeof h.timing<"u"&&typeof h.timing.loadEventEnd<"u"&&(s.mark("firstbyte",h.timing.responseStart),s.mark("onload",h.timing.loadEventEnd)),s.done()}else s.addEventListener("load",s.onload,!1)},s.processQ=function(){for(var h=s.q.length,S=0;h>S;S++){var T=s.q[S],X=T[0];X==="mark"?s.mark(T[1],T[2]):X==="measure"?s.measure(T[1],T[2],T[3]):X==="done"&&s.done(T[1])}},s.mark=function(h,S){return s.dprint("RUM_EPISODES.mark: "+h+", "+S),h?(s.marks[h]=parseInt(S||new Date().getTime()),s.bPostMessage&&i.postMessage("RUM_EPISODES:mark:"+h+":"+S,s.targetOrigin),void(h==="firstbyte"?s.measure("backend","starttime","firstbyte"):h==="onload"?(s.measure("frontend","firstbyte","onload"),s.measure("page load time","starttime","onload")):h==="done"&&s.measure("total load time","starttime","done"))):void s.dprint("Error: markName is undefined in RUM_EPISODES.mark.")},s.measure=function(h,S,T){if(s.dprint("RUM_EPISODES.measure: "+h+", "+S+", "+T),!h)return void s.dprint("Error: episodeName is undefined in RUM_EPISODES.measure.");var X;if(typeof S>"u")X=typeof s.marks[h]=="number"?s.marks[h]:new Date().getTime();else if(typeof s.marks[S]=="number")X=s.marks[S];else{if(typeof S!="number")return void s.dprint("Error: unexpected startNameOrTime in RUM_EPISODES.measure: "+S);X=S}var ne;if(typeof T>"u")ne=new Date().getTime();else if(typeof s.marks[T]=="number")ne=s.marks[T];else{if(typeof T!="number")return void s.dprint("Error: unexpected endNameOrTime in RUM_EPISODES.measure: "+T);ne=T}s.starts[h]=parseInt(X),s.measures[h]=parseInt(ne-X),s.bPostMessage&&i.postMessage("RUM_EPISODES:measure:"+h+":"+X+":"+ne,s.targetOrigin)},s.done=function(h){s.bDone=!0,s.mark("done"),s.bPostMessage&&i.postMessage("RUM_EPISODES:done",s.targetOrigin),typeof h=="function"&&h()},s.getMarks=function(){return s.marks},s.getMeasures=function(){return s.measures},s.getStarts=function(){return s.starts},s.findStartTime=function(){var h=s.findStartWebTiming()||s.findStartCookie();h&&s.mark("starttime",h)},s.findStartWebTiming=function(){var h,S=i.performance||i.mozPerformance||i.msPerformance||i.webkitPerformance;return S&&typeof S.timing<"u"&&typeof S.timing.navigationStart<"u"&&(h=S.timing.navigationStart,s.dprint("RUM_EPISODES.findStartWebTiming: startTime = "+h)),h},s.findStartCookie=function(){try{for(var h=y.cookie.split(" "),S=0;S<h.length;S++)if(h[S].indexOf("RUM_EPISODES=")===0){for(var T,X,ne=h[S].substring(13).split("&"),l=0;l<ne.length;l++)if(ne[l].indexOf("s=")===0)T=ne[l].substring(2);else if(ne[l].indexOf("r=")===0){var j=ne[l].substring(2);j=j.replace(/;$/,""),X=i.escape(y.referrer)===j}if(X&&T)return s.dprint("RUM_EPISODES.findStartCookie: startTime = "+T),T}}catch{}return v},s.beforeUnload=function(){try{if(s.bUnloaded)return;y.cookie="RUM_EPISODES=s="+Number(new Date)+"&r="+i.escape(y.location)+"; path=/",s.bUnloaded=!0}catch{}},s.onload=function(){s.mark("onload"),s.done()},s.addEventListener=function(h,S,T){return typeof i.attachEvent<"u"?i.attachEvent("on"+h,S):i.addEventListener?i.addEventListener(h,S,T):void 0},s.dprint=function(){},s.init();var F=null,O={navigationStart:"ns",redirectStart:"rds",redirectEnd:"rde",unloadEventStart:"us",unloadEventEnd:"ue",fetchStart:"fs",domainLookupStart:"dls",domainLookupEnd:"dle",connectStart:"cs",secureConnectionStart:"scs",connectEnd:"ce",handshakeStart:"hs",requestStart:"rqs",responseStart:"rps",responseEnd:"rpe",domLoading:"dl",domInteractive:"di",domContentLoadedEventStart:"dcs",domContentLoadedEventEnd:"dce",domComplete:"dc",loadEventStart:"ls",loadEventEnd:"le"},M=i.performance||i.mozPerformance||i.msPerformance||i.webkitPerformance;M&&typeof M.timing<"u"&&typeof M.navigation<"u"?F=setInterval(_,100):(s.mark("firstbyte",p),F=setInterval(z,100))}(window,document,window.atatus),function(i,y,w){y.SessionTracking=function(){function v(l){y.sessionId=S.uuid4(),T.existingTimestamp=S.createCookie(T.cookieName,y.sessionId),l(!0)}function P(){var l;if(T.existingTimestamp){var j=new Date(new Date-ne);l=T.existingTimestamp<j}l&&(T.stopSession=!0)}function q(l){return Math.min(l,3e5)}function R(l){for(var j in l)(isNaN(l[j])&&typeof l[j]!="string"||l[j]<0)&&(l[j]=0);return l}function _(l,j){var V;return V=typeof i.performance=="object"&&typeof i.performance.now=="function"?i.performance.now():0,{du:Math.min(T.maxVirtualPageDuration,V-(l||j)),o:Math.min(T.maxVirtualPageDuration,V-j)}}function z(l){var j={du:l.loadEventEnd-l.navigationStart,s:l.fetchStart};if(i.atatus&&i.atatus._pageLoadEndTime){var V=i.atatus._pageLoadEndTime-l.navigationStart;V<j.du&&(j.du=V)}return l.domainLookupStart&&l.domainLookupStart>0&&(j.dls=l.domainLookupStart-l.fetchStart),l.domainLookupEnd&&l.domainLookupEnd>0&&(j.dle=l.domainLookupEnd-l.fetchStart),l.connectStart&&l.connectStart>0&&(j.cs=l.connectStart-l.fetchStart),l.connectEnd&&l.connectEnd>0&&(j.ce=l.connectEnd-l.fetchStart),l.responseStart&&l.responseStart>0&&(j.rps=l.responseStart-l.fetchStart),l.responseEnd&&l.responseEnd>0&&(j.rpe=l.responseEnd-l.fetchStart),l.domLoading&&l.domLoading>0&&(j.dl=l.domLoading-l.fetchStart),l.domInteractive&&l.domInteractive>0&&(j.di=l.domInteractive-l.fetchStart),l.domContentLoadedEventEnd&&l.domContentLoadedEventEnd>0&&(j.dce=l.domContentLoadedEventEnd-l.fetchStart),l.domComplete&&l.domComplete>0&&(j.dc=q(l.domComplete-l.fetchStart)),l.loadEventStart&&l.loadEventStart>0&&(j.ls=l.loadEventStart-l.fetchStart),l.loadEventEnd&&l.loadEventEnd>0&&(j.le=l.loadEventEnd-l.fetchStart),l.secureConnectionStart&&l.secureConnectionStart>0&&(j.scs=l.secureConnectionStart-l.connectStart-l.fetchStart,j.scs=j.scs>0?j.scs:0),j=R(j),y.paintPerformance&&y.paintPerformance.fp&&(j.fp=y.paintPerformance.fp,j.fcp=y.paintPerformance.fcp),j}function p(l,j){var V={du:q(l.duration),s:j+l.fetchStart};return l.domainLookupStart&&l.domainLookupStart>0&&(V.dls=l.domainLookupStart-l.fetchStart),l.domainLookupEnd&&l.domainLookupEnd>0&&(V.dle=l.domainLookupEnd-l.fetchStart),l.connectStart&&l.connectStart>0&&(V.cs=l.connectStart-l.fetchStart),l.connectEnd&&l.connectEnd>0&&(V.ce=l.connectEnd-l.fetchStart),l.responseStart&&l.responseStart>0&&(V.rps=l.responseStart-l.fetchStart),l.responseEnd&&l.responseEnd>0&&(V.rpe=l.responseEnd-l.fetchStart),l.secureConnectionStart&&l.secureConnectionStart>0&&(V.scs=l.secureConnectionStart-l.connectStart-l.fetchStart,V.scs=V.scs>0?V.scs:0),V=R(V)}function s(){var l=i.location.pathname,j=i.location.protocol+"//"+i.location.host+l;return j.length>800&&(j=j.substring(0,800)),{u:j,t:z(i.performance.timing),g:"p"}}function F(l,j,V){var ie=i.location.protocol+"//"+i.location.host+l;return ie.length>800&&(ie=ie.substring(0,800)),{u:ie,t:_(j,V),g:"r"}}function O(l,j){var V=l.name.split("?")[0];return V.length>800&&(V=V.substring(0,800)),{u:V,t:p(l,j?0:i.performance.timing.navigationStart),g:l.initiatorType==="xmlhttprequest"||l.initiatorType==="fetch"?"x":"s",z:l.decodedBodySize||l.transferSize||0}}function M(l,j){if(i.performance!==w&&i.performance.getEntriesByType)try{for(var V=i.performance.getEntriesByType("resource"),ie=T.offset;ie<V.length;ie++){var Q=V[ie].name.split("?")[0];Q.indexOf(T.atatusHost)!==0&&(Q.indexOf("favicon.ico")>0||Q.indexOf("about:blank")!==0&&(Q[0]!=="j"||Q.indexOf("avascript:")!==1)&&Q.indexOf("chrome-extension://")!==0&&Q.indexOf("res://")!==0&&Q.indexOf("file://")!==0&&V[ie].name&&l.push(O(V[ie],j)))}T.offset=V.length}catch{}}function h(l,j,V,ie){if(i.performance===w||i.performance.timing===w||i.performance.timing.fetchStart===w||isNaN(i.performance.timing.fetchStart))return null;var Q=[{rs:[]}];if(j&&(V&&(ie?Q[0].p=s():Q[0].rs.push(s())),M(Q[0].rs)),l){T.pendingVirtualPage&&(Q[0].r=T.pendingVirtualPage);var b=T.pendingVirtualPage==null;if(T.pendingVirtualPage=F(l,T.previousVirtualPageLoadTimestamp,T.initalStaticPageLoadTimestamp),!b&&Q.length>0)return Q}return Q}var S=y._helper,T=this,X={};y.sessionId=null,this.cookieName="atatus-sid",this.virtualPage=null,this.heartBeatInterval=null,this.offset=0,this.atatusHost=y.getAPIEndpoint(),this.maxVirtualPageDuration=18e5;var ne=3e5;this.existingTimestamp=null,this.stopSession=!1,this.sendSessionPayload=function(l){T.stopSession||y.sendSessionPerf(l)},this.sendSPAPayload=function(){},this.attach=function(){v(function(ie){setTimeout(function(){T.pageLoaded(ie)},5e3)});var l=function(){var ie=[{rs:[]}];if(M(ie[0].rs),ie[0].rs.length>0){var Q={data:ie};T.sendSessionPayload(Q)}},j=(function(){this.watchCookieTimestamp()}).bind(X),V=(function(){document.visibilityState==="visible"&&this.watchCookieTimestamp()}).bind(X);i.addEventListener?(i.addEventListener("click",j),document.addEventListener("visibilitychange",V),i.addEventListener("beforeunload",l)):i.attachEvent&&document.attachEvent("onclick",j)},this.pageLoaded=function(l){T.sendPerformance(!0,!0,l),T.heartBeat(),T.initalStaticPageLoadTimestamp=typeof i.performance=="object"&&typeof i.performance.now=="function"?i.performance.now():0},this.endSession=function(){T.stopSession=!0,S.createCookie(T.cookieName,y.sessionId,-1)},this.heartBeat=function(){T.heartBeatInterval=setInterval(function(){var l=[{rs:[]}];if(M(l[0].rs,T.virtualPage),l[0].rs.length>0){var j={data:l};T.sendSessionPayload(j)}},3e4)},this.virtualPageLoaded=function(l){var j=this.virtualPage==null;typeof l=="string"&&(l.length>0&&l[0]!=="/"&&(l+="/"),l.length>800&&(l=l.substring(0,800)),this.virtualPage=l),j?this.sendPerformance(!0,!1,!1):this.sendPerformance(!1,!1,!1),typeof l=="string"&&(this.previousVirtualPageLoadTimestamp=typeof i.performance=="object"&&typeof i.performance.now=="function"?i.performance.now():0)},this.sendPerformance=function(l,j,V){var ie=h(this.virtualPage,l,j,V);if(ie){var Q={data:ie};ie[0].r?T.sendSPAPayload(Q):ie[0].rs.length>0&&T.sendSessionPayload(Q)}},X.watchCookieTimestamp=P}}(window,window.atatus),function(i,y,w){w.__attachAjaxHooks=function(){var v=w._helper,P={queue:[],batchSize:25,processing:!1,bUnloaded:!1,push:function(p){typeof p.url=="string"&&(p.url.indexOf(".html")>0||p.url.indexOf("://")===-1||!w._isAllowedUrl(p.url)||(this.queue.push(p),this.queue.length>=this.batchSize&&this._processQueue()))},_processQueue:function(){if(!this.processing&&this.queue.length){this.processing=!0;try{for(var p={},s={},F=0;F<this.queue.length;F++){var O,M=this.queue[F],h=parseInt(M.status)||200;if(h>0){O=M.method+M.url;var S=M.respAvailTime-M.sendTime,T=M.respProcTime-M.respAvailTime,X=M.receivedSize?+M.receivedSize:0,ne=M.sendSize?+M.sendSize:0;0>S&&(S=0),0>T&&(T=0),isNaN(X)&&(X=0),isNaN(ne)&&(ne=0);var l=p[O];l?(l.st.push(h),l.rt.push(S),l.ct.push(T),l.rz.push(X),l.sz.push(ne),l.ts.push(M.sendTime||new Date().getTime())):p[O]={m:M.method,u:M.url,st:[h],rt:[S],ct:[T],rz:[X],sz:[ne],ts:[M.sendTime||new Date().getTime()]}}if(h>=400){O=M.method+h+M.url;var j=s[O];j&&j.sc?j.sc[h]?j.sc[h]++:j.sc[h]=1:(s[O]={m:M.method,u:M.url,sc:{}},s[O].sc[h]=1)}}var V={xhr:v.arrayFromObject(p),xhrError:v.arrayFromObject(s)};w.sendAjaxPerf(V)}catch(ie){v.log("Error while processing queue: ",ie)}finally{this.queue=[],this.processing=!1}}},beforeUnload:function(){P.bUnloaded||(P._processQueue(),P.bUnloaded=!0)}};v.addEventListener("beforeunload",P.beforeUnload,!1),setInterval(function(){P._processQueue()},3e4);var q={support:function(p){return!p||"apply"in p},around:function(p,s,F,O){return p=p||function(){},function(){var M,h=Array.prototype.slice.call(arguments);try{s&&(M=s.apply(this,h))}catch(T){v.log(O,T)}var S;try{S=p.apply(this,M||h)}finally{try{F&&F.apply(this,h)}catch(T){v.log(O,T)}}return S}},before:function(p,s){return q.around(p,s)},after:function(p,s){return q.around(p,null,s)},timeout:function(p){setTimeout(p,0)},wrapAddEventListener:function(){return function(p,s){if((p==="load"||p==="error")&&s&&this._atrumXhrData){var F;s.__atrumInterceptor?F=s.__atrumInterceptor:q.support(s)?(F=_.wrapXHR(s,this,"XHR.invokeEventListener"),s.__atrumInterceptor=F):F=null;var O;return F&&(O=Array.prototype.slice.call(arguments),O[1]=F),O}}},wrapRemoveEventListener:function(){return function(p,s){if(this._atrumXhrData){var F=Array.prototype.slice.call(arguments);return s.__atrumInterceptor&&(F[1]=s.__atrumInterceptor),F}}},aroundWithHandleEvent:function(p,s,F,O){var M=p;return p&&typeof p=="object"&&"toString"in p&&p.toString()==="[xpconnect wrapped nsIDOMEventListener]"&&"handleEvent"in p&&(M=function(){p.handleEvent.apply(this,Array.prototype.slice.call(arguments))}),q.around(M,s,F,O)},getFullyQualifiedUrl:function(p){var s=y.createElement("a");return s.href=p,s.href}};if(i.XMLHttpRequest&&i.XMLHttpRequest.prototype){var R=i.XMLHttpRequest.prototype;if(!("open"in R&&"send"in R)||!q.support(R.open)||!q.support(R.send))return;var _={};_.captureAjaxTimings=function(p){var s=p._atrumXhrData;if(s){var F=new Date().getTime();p.readyState===2?s.firstByteTime=s.firstByteTime||F:p.readyState===4&&(s.respAvailTime=s.respAvailTime||F,s.firstByteTime=s.firstByteTime||F)}},_.sendPayload=function(p,s){s.receivedSize=0,p.responseType&&p.responseType!=="text"||typeof p.responseText=="string"&&(s.receivedSize=p.responseText.length),s.status=p.status,P.push(s)},_.wrapXHR=function(p,s,F){return q.aroundWithHandleEvent(p,function(){_.captureAjaxTimings(this)},function(){var O=s._atrumXhrData;if(O&&s.readyState===4){var M=new Date().getTime();O.respProcTime=O.respProcTime||M,_.sendPayload(s,O),delete s._atrumXhrData}},F)},_.ajaxDone=function(p){if(p._atrumXhrData){var s=new Date().getTime()+15e4,F=function(){_.captureAjaxTimings(p);var O=p._atrumXhrData;if(O){var M=new Date().getTime();p.readyState===4?(O.respProcTime=O.respProcTime||M,_.sendPayload(p,O),delete p._atrumXhrData):s>M?setTimeout(F,50):delete p._atrumXhrData}};F()}},R.open=q.around(R.open,function(){var p=1<=arguments.length?String(arguments[0]):"",s=2<=arguments.length?String(arguments[1]):"";s=q.getFullyQualifiedUrl(s);var F=w._isAllowedUrl(s);F&&(s=s&&s.split("?")[0],this._atrumXhrData={method:p,url:s,sendTime:null,sendSize:null,firstByteTime:null,respAvailTime:null,respProcTime:null,receivedSize:null,parentPhase:null})},null,"XHR.open"),R.send=q.around(R.send,function(){var p=this,s=p._atrumXhrData;if(s){var F=new Date().getTime();if(s.sendTime=s.sendTime||F,s.sendSize=1<=arguments.length&&arguments[0]&&arguments[0].length||0,p.onreadystatechange&&typeof p.onreadystatechange=="function"){var O=0,M=function(){if(p.readyState===4)_.ajaxDone(p);else{var h=null;try{h=p.onreadystatechange}catch{return void _.ajaxDone(p)}O++,h?q.support(h)?p.onreadystatechange=_.wrapXHR(h,p,"XHR.onReadyStateChange"):_.ajaxDone(p):5>O?q.timeout(M):_.ajaxDone(p)}};M()}else p.addEventListener("readystatechange",function(){p.readyState===4&&_.ajaxDone(p)})}},null,"XHR.send"),"addEventListener"in R&&"removeEventListener"in R&&q.support(R.addEventListener)&&q.support(R.removeEventListener)&&(R.addEventListener=q.around(R.addEventListener,q.wrapAddEventListener(),null,"XHR.addEventListener"),R.removeEventListener=q.around(R.removeEventListener,q.wrapRemoveEventListener(),null,"XHR.removeEventListener"))}if("fetch"in i&&!i.fetch.polyfill){var z=i.fetch;i.fetch=function(p){return function(){for(var s=new Array(arguments.length),F=0;F<s.length;++F)s[F]=arguments[F];var O=s[0]&&s[0].method||s[1]&&s[1].method||"GET",M="Unknown URL";typeof s[0]=="string"?M=s[0]:s[0]&&s[0].url&&(M=s[0].url);var h=0;s[1]&&typeof s[1].body=="string"&&(h=s[1].body.length);var S={url:M,method:O,sendSize:h,receivedSize:0,sendTime:new Date().getTime(),respAvailTime:0,respProcTime:0};return p.apply(this,s).then(function(T){return S.respAvailTime=new Date().getTime(),w._isAllowedUrl(S.url)&&(S.respProcTime=S.respAvailTime,S.status=T.status,T.headers&&T.headers.get&&(S.receivedSize=T.headers.get("Content-Length")),P.push(S)),T}).catch(function(T){throw S.respAvailTime=new Date().getTime(),w._isAllowedUrl(S.url)&&(S.respProcTime=S.respAvailTime,S.status=408,S.receivedSize=0,P.push(S)),T})}}(z)}}}(window,document,window.atatus),function(i,y){function w(O,M,h){if(!(0>=M)){var S={data:[{t:{n:O,s:h,t:{du:M}}}]};y.sendTxnPerf(S)}}function v(O){return z+" "+O}function P(){try{return"localStorage"in i&&i.localStorage!==null}catch{return!1}}function q(O){var M=p.now();try{localStorage.setItem(v(O),M)}catch{}}function R(O){var M=null,h=v(O);try{M=localStorage.getItem(h),localStorage.removeItem(h)}catch{}var S=0;return M&&(S=p.now()-M),S}function _(O){try{var M=v(O);localStorage.removeItem(M)}catch{}}var z="atatus.com/",p=y._helper,s=1,F=0;y.beginTransaction=function(O){P()&&q(O)},y.endTransaction=function(O){if(P()){var M=R(O);w(O,M,s)}},y.failTransaction=function(O){if(P()){var M=R(O);w(O,M,F)}},y.cancelTransaction=function(O){P()&&_(O)},y.recordTransaction=function(O,M,h){P()&&O&&M&&w(O,M,h===!1?F:s)}}(window,window.atatus),function(i,y){function w(z){z=z||{};var p=z.name&&z.name.toLowerCase();p&&z.value&&(P[p]||q++,P[p]=z.value)}function v(){if(i.webVitals){i.webVitals.onFID(w),i.webVitals.onFCP(w),i.webVitals.onTTFB(w),i.webVitals.onLCP(w),i.webVitals.onCLS(w,{reportAllChanges:!0}),i.webVitals.onINP(w,{reportAllChanges:!0});var z=i.performance&&i.performance.timing;!P.ttfb&&z&&(P.ttfb=z.responseStart-z.navigationStart,P.ttfb&&q++)}}var P={},q=0,R=!1,_=function(){!R&&q>0&&(R=!0,y.sendWebVitals(P))};document.readyState!=="loading"?v():document.addEventListener("DOMContentLoaded",function(){v()}),i.addEventListener("beforeunload",function(){_()})}(window,window.atatus),function(i,y){i._atatusConfig&&i._atatusConfig.apikey&&y.config(i._atatusConfig.apikey,i._atatusConfig).install()}(window,window.atatus))})(),function(i){var y={};function w(v){if(y[v])return y[v].exports;var P=y[v]={i:v,l:!1,exports:{}};return i[v].call(P.exports,P,P.exports,w),P.l=!0,P.exports}w.m=i,w.c=y,w.d=function(v,P,q){w.o(v,P)||Object.defineProperty(v,P,{enumerable:!0,get:q})},w.r=function(v){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},w.t=function(v,P){if(1&P&&(v=w(v)),8&P||4&P&&typeof v=="object"&&v&&v.__esModule)return v;var q=Object.create(null);if(w.r(q),Object.defineProperty(q,"default",{enumerable:!0,value:v}),2&P&&typeof v!="string")for(var R in v)w.d(q,R,(function(_){return v[_]}).bind(null,R));return q},w.n=function(v){var P=v&&v.__esModule?function(){return v.default}:function(){return v};return w.d(P,"a",P),P},w.o=function(v,P){return Object.prototype.hasOwnProperty.call(v,P)},w.p="",w(w.s=2)}([function(i,y,w){i.exports=function(){function v(k){return typeof k=="function"}var P=Array.isArray?Array.isArray:function(k){return Object.prototype.toString.call(k)==="[object Array]"},q=0,R=void 0,_=void 0,z=function(k,C){S[q]=k,S[q+1]=C,(q+=2)===2&&(_?_(T):V())},p=typeof window<"u"?window:void 0,s=p||{},F=s.MutationObserver||s.WebKitMutationObserver,O=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",M=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function h(){var k=setTimeout;return function(){return k(T,1)}}var S=new Array(1e3);function T(){for(var k=0;k<q;k+=2){var C=S[k],Z=S[k+1];C(Z),S[k]=void 0,S[k+1]=void 0}q=0}var X,ne,l,j,V=void 0;function ie(k,C){var Z=this,Y=new this.constructor(A);Y[b]===void 0&&Re(Y);var te=Z._state;if(te){var ue=arguments[te-1];z(function(){return ve(te,Y,ue,Z._result)})}else pe(Z,Y,k,C);return Y}function Q(k){if(k&&typeof k=="object"&&k.constructor===this)return k;var C=new this(A);return re(C,k),C}V=O?function(){return process.nextTick(T)}:F?(ne=0,l=new F(T),j=document.createTextNode(""),l.observe(j,{characterData:!0}),function(){j.data=ne=++ne%2}):M?((X=new MessageChannel).port1.onmessage=T,function(){return X.port2.postMessage(0)}):p===void 0?function(){try{var k=Function("return this")().require("vertx");return(R=k.runOnLoop||k.runOnContext)===void 0?h():function(){R(T)}}catch{return h()}}():h();var b=Math.random().toString(36).substring(2);function A(){}var x=void 0,J=1,B=2;function ae(k,C,Z,Y){try{k.call(C,Z,Y)}catch(te){return te}}function fe(k,C,Z){var Y,te,ue,Te;C.constructor===k.constructor&&Z===ie&&C.constructor.resolve===Q?(ue=k,(Te=C)._state===J?se(ue,Te._result):Te._state===B?ce(ue,Te._result):pe(Te,void 0,function(be){return re(ue,be)},function(be){return ce(ue,be)})):Z===void 0?se(k,C):v(Z)?(Y=C,te=Z,z(function(be){var Ae=!1,Oe=ae(te,Y,function(Me){Ae||(Ae=!0,Y!==Me?re(be,Me):se(be,Me))},function(Me){Ae||(Ae=!0,ce(be,Me))},be._label);!Ae&&Oe&&(Ae=!0,ce(be,Oe))},k)):se(k,C)}function re(k,C){if(k===C)ce(k,new TypeError("You cannot resolve a promise with itself"));else if(te=typeof(Y=C),Y===null||te!=="object"&&te!=="function")se(k,C);else{var Z=void 0;try{Z=C.then}catch(ue){return void ce(k,ue)}fe(k,C,Z)}var Y,te}function oe(k){k._onerror&&k._onerror(k._result),Ie(k)}function se(k,C){k._state===x&&(k._result=C,k._state=J,k._subscribers.length!==0&&z(Ie,k))}function ce(k,C){k._state===x&&(k._state=B,k._result=C,z(oe,k))}function pe(k,C,Z,Y){var te=k._subscribers,ue=te.length;k._onerror=null,te[ue]=C,te[ue+J]=Z,te[ue+B]=Y,ue===0&&k._state&&z(Ie,k)}function Ie(k){var C=k._subscribers,Z=k._state;if(C.length!==0){for(var Y=void 0,te=void 0,ue=k._result,Te=0;Te<C.length;Te+=3)Y=C[Te],te=C[Te+Z],Y?ve(Z,Y,te,ue):te(ue);k._subscribers.length=0}}function ve(k,C,Z,Y){var te=v(Z),ue=void 0,Te=void 0,be=!0;if(te){try{ue=Z(Y)}catch(Ae){be=!1,Te=Ae}if(C===ue)return void ce(C,new TypeError("A promises callback cannot return that same promise."))}else ue=Y;C._state!==x||(te&&be?re(C,ue):be===!1?ce(C,Te):k===J?se(C,ue):k===B&&ce(C,ue))}var Ee=0;function Re(k){k[b]=Ee++,k._state=void 0,k._result=void 0,k._subscribers=[]}var Ce=function(){function k(C,Z){this._instanceConstructor=C,this.promise=new C(A),this.promise[b]||Re(this.promise),P(Z)?(this.length=Z.length,this._remaining=Z.length,this._result=new Array(this.length),this.length===0?se(this.promise,this._result):(this.length=this.length||0,this._enumerate(Z),this._remaining===0&&se(this.promise,this._result))):ce(this.promise,new Error("Array Methods must be provided an Array"))}return k.prototype._enumerate=function(C){for(var Z=0;this._state===x&&Z<C.length;Z++)this._eachEntry(C[Z],Z)},k.prototype._eachEntry=function(C,Z){var Y=this._instanceConstructor,te=Y.resolve;if(te===Q){var ue=void 0,Te=void 0,be=!1;try{ue=C.then}catch(Oe){be=!0,Te=Oe}if(ue===ie&&C._state!==x)this._settledAt(C._state,Z,C._result);else if(typeof ue!="function")this._remaining--,this._result[Z]=C;else if(Y===ke){var Ae=new Y(A);be?ce(Ae,Te):fe(Ae,C,ue),this._willSettleAt(Ae,Z)}else this._willSettleAt(new Y(function(Oe){return Oe(C)}),Z)}else this._willSettleAt(te(C),Z)},k.prototype._settledAt=function(C,Z,Y){var te=this.promise;te._state===x&&(this._remaining--,C===B?ce(te,Y):this._result[Z]=Y),this._remaining===0&&se(te,this._result)},k.prototype._willSettleAt=function(C,Z){var Y=this;pe(C,void 0,function(te){return Y._settledAt(J,Z,te)},function(te){return Y._settledAt(B,Z,te)})},k}(),ke=function(){function k(C){this[b]=Ee++,this._result=this._state=void 0,this._subscribers=[],A!==C&&(typeof C!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof k?function(Z,Y){try{Y(function(te){re(Z,te)},function(te){ce(Z,te)})}catch(te){ce(Z,te)}}(this,C):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return k.prototype.catch=function(C){return this.then(null,C)},k.prototype.finally=function(C){var Z=this.constructor;return v(C)?this.then(function(Y){return Z.resolve(C()).then(function(){return Y})},function(Y){return Z.resolve(C()).then(function(){throw Y})}):this.then(C,C)},k}();return ke.prototype.then=ie,ke.all=function(k){return new Ce(this,k).promise},ke.race=function(k){var C=this;return P(k)?new C(function(Z,Y){for(var te=k.length,ue=0;ue<te;ue++)C.resolve(k[ue]).then(Z,Y)}):new C(function(Z,Y){return Y(new TypeError("You must pass an array to race."))})},ke.resolve=Q,ke.reject=function(k){var C=new this(A);return ce(C,k),C},ke._setScheduler=function(k){_=k},ke._setAsap=function(k){z=k},ke._asap=z,ke.polyfill=function(){var k=void 0;if(typeof nt<"u")k=nt;else if(typeof self<"u")k=self;else try{k=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var C=k.Promise;if(C){var Z=null;try{Z=Object.prototype.toString.call(C.resolve())}catch{}if(Z==="[object Promise]"&&!C.cast)return}k.Promise=ke},ke.Promise=ke}()},function(i,y){var w=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(w){var v=new Uint8Array(16);i.exports=function(){return w(v),v}}else{var P=new Array(16);i.exports=function(){for(var q,R=0;R<16;R++)(3&R)==0&&(q=4294967296*Math.random()),P[R]=q>>>((3&R)<<3)&255;return P}}},function(i,y,w){w.r(y);for(var v=w(1),P=w.n(v),q=[].slice,R=[],_=0;_<256;++_)R[_]=(_+256).toString(16).substr(1);function z(a){if(a&&a.traceId&&a.id&&a.parentId){var o=a.sampled?"01":"00",e=a.sampled?a.id:a.parentId;return"00-"+a.traceId+"-"+e+"-"+o}}function p(a,o){var e=!1;return typeof o=="string"?e=a===o:Array.isArray(o)&&o.forEach(function(t){e||(e=p(a,t))}),e}function s(a){var o,e,t;return(o=P()(),e=0,[(t=R)[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]]].join("")).substr(0,a)}function F(){return typeof window<"u"&&typeof Array.prototype.forEach=="function"&&typeof JSON.stringify=="function"&&typeof Function.bind=="function"&&window.performance&&typeof window.performance.now=="function"&&"withCredentials"in new window.XMLHttpRequest}function O(a,o,e){if(e&&a){var t=V(a);return o&&(o=String(o)),e[t]=o,e}}var M=["fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"];function h(a){return a&&a.split("?")[0]}function S(a){return a!==null&&typeof a=="object"}function T(a,o,e){for(var t=0,u=o.length;t<u;++t){var c=o[t];if(S(c)||typeof c=="function")for(var d=Object.keys(c),f=0,g=d.length;f<g;f++){var E=d[f],D=c[E];e&&S(D)?(S(a[E])||(a[E]=Array.isArray(D)?[]:{}),T(a[E],[D],!1)):a[E]=D}}return a}function X(a){return T(a,q.call(arguments,1),!1)}function ne(a){return T(a,q.call(arguments,1),!0)}function l(a){return a===void 0}function j(){}function V(a){return a.replace(/[.*"]/g,"_")}function ie(){var a,o,e,t=(a=window.performance.timing,o=a.fetchStart,e={},M.forEach(function(d){var f=a[d];f&&o<=f&&(e[d]=f-o)}),e),u=function(){var d={},f=window.performance;if(f.getEntriesByType){var g=f.getEntriesByType("paint");if(0<g.length)for(var E=f.timing,D=E.fetchStart-E.navigationStart,ee=0;ee<g.length;ee++){var de=g[ee],we=0<=D?de.startTime-D:de.startTime;d[de.name]=we}}return d}(),c={timeToFirstByte:t.responseStart,domInteractive:t.domInteractive,domComplete:t.domComplete};return u["first-contentful-paint"]&&(c.firstContentfulPaint=u["first-contentful-paint"]),{navigationTiming:t,agent:c}}var Q={fetchInProgress:!1};function b(a){return"__apm_symbol__"+a}function A(a,o,e){for(var t=a;t&&!t.hasOwnProperty(o);)t=Object.getPrototypeOf(t);!t&&a[o]&&(t=a);var u,c,d,f,g=b(o);if(t&&!(u=t[g])){u=t[g]=t[o];var E=t&&Object.getOwnPropertyDescriptor(t,o);if(!(f=E)||f.writable!==!1&&(typeof f.get!="function"||f.set!==void 0)){var D=e(u,g,o);t[o]=function(){return D(this,arguments)},c=t[o],d=u,c[b("OriginalDelegate")]=d}}return u}var x=b("xhrIgnore"),J=b("xhrSync"),B=b("xhrURL"),ae=b("xhrMethod"),fe="schedule",re="invoke",oe="clear",se="addEventListener",ce="removeEventListener",pe=["link","css","script","img","xmlhttprequest","fetch","beacon","iframe"],Ie=3e5,ve="page-load",Ee="Unknown",Re=60,Ce=1024,ke="transaction:end",k="config:change",C="xmlhttprequest",Z="fetch",Y="history",te="error",ue=b("xhrTask"),Te=b("xhrListener"),be=b("xhrScheduled");function Ae(a){var o=XMLHttpRequest.prototype,e=o[se],t=o[ce];if(!e){var u=window.XMLHttpRequestEventTarget;if(u){var c=u.prototype;e=c[se],t=c[ce]}}var d="readystatechange";function f(ee){ee.state=re,ee.ignore||a(re,ee)}var g=A(o,"open",function(){return function(ee,de){return ee[ae]=de[0],ee[B]=de[1],ee[J]=de[2]===!1,g.apply(ee,de)}}),E=A(o,"send",function(){return function(ee,de){var we={source:C,state:"",type:"macroTask",ignore:ee[x],data:{target:ee,method:ee[ae],sync:ee[J],url:ee[B],args:de,aborted:!1}},he=function(ge){XMLHttpRequest[be]=!1,ge.state=fe,ge.ignore||a(fe,ge);var Ne=ge.data,Le=Ne.target,We=Le[Te];e||(e=Le[se],t=Le[ce]),We&&t.call(Le,d,We);var Be=Le[Te]=function(){Le.readyState===Le.DONE&&!Ne.aborted&&XMLHttpRequest[be]&&ge.state===fe&&f(ge)};e.call(Le,d,Be),Le[ue]||(Le[ue]=ge);var lt=E.apply(Le,Ne.args);return XMLHttpRequest[be]=!0,lt}(we);return ee[J]&&f(we),he}}),D=A(o,"abort",function(){return function(ee,de){var we,he=ee[ue];if(he&&typeof he.type=="string"){if(he.data&&he.data.aborted)return;(we=he).state=oe,a(oe,we),we.data.aborted=!0}return D.apply(ee,de)}})}var Oe=w(0);function Me(a){if(window.fetch&&window.Request){var o=window.fetch;window.fetch=function(t,u){var c,d,f=this,g=arguments,E=t instanceof URL;if(typeof t=="string"||E)c=new Request(t,u),d=E?c.url:t;else{if(!(t instanceof Request))return o.apply(f,g);d=(c=t).url}var D={source:Z,state:"",type:"macroTask",data:{target:c,method:c.method,sync:!1,url:d,args:g,aborted:!1}};return new Oe.Promise(function(ee,de){var we,he;Q.fetchInProgress=!0,(we=D).state=fe,a(fe,we);try{he=o.apply(f,[c])}catch(ge){return de(ge),D.data.error=ge,e(D),void(Q.fetchInProgress=!1)}he.then(function(ge){ee(ge),Oe.Promise.resolve().then(function(){D.data.response=ge,e(D)})},function(ge){de(ge),Oe.Promise.resolve().then(function(){D.data.error=ge,e(D)})}),Q.fetchInProgress=!1})}}function e(t){t.state=re,a(re,t)}}var ze=function(){function a(){this.observers={}}var o=a.prototype;return o.observe=function(e,t){var u=this;if(typeof t=="function")return this.observers[e]||(this.observers[e]=[]),this.observers[e].push(t),function(){var c=u.observers[e].indexOf(t);-1<c&&u.observers[e].splice(c,1)}},o.sendOnly=function(e,t){var u=this.observers[e];u&&u.forEach(function(c){try{c.apply(void 0,t)}catch(d){console.log(d,d.stack)}})},o.send=function(e,t){this.sendOnly(e+":before",t),this.sendOnly(e,t),this.sendOnly(e+":after",t)},a}(),H=new ze,W=!1;function K(){return W||(W=!0,Ae(function(a,o){H.send(C,[a,o])}),Me(function(a,o){H.send(Z,[a,o])}),function(a){if(window.history){var o=history.pushState;typeof o=="function"&&(history.pushState=function(e,t,u){a(re,{source:Y,data:{state:e,title:t,url:u}}),o.apply(this,arguments)})}}(function(a,o){H.send(Y,[a,o])})),H}var le=!1,$=!1,me=[["#","hash"],["?","query"],["/","path"],["@","auth",1],[NaN,"host",void 0,1]],xe=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,_e=function(){function a(e){var t,u=this.extractProtocol(e||""),c=u.protocol,d=u.address,f=u.slashes,g=!c&&!f,E=this.getLocation(),D=me.slice();d=d.replace("\\","/");for(var ee=0;ee<D.length;ee++){var de=D[ee],we=de[0],he=de[1];if(typeof we=="string"){if(~(t=d.indexOf(we))){var ge=de[2];if(ge){var Ne=d.lastIndexOf(we);t=Math.max(t,Ne),this[he]=d.slice(0,t),d=d.slice(t+ge)}else this[he]=d.slice(t),d=d.slice(0,t)}}else this[he]=d;this[he]=this[he]||g&&de[3]&&E[he]||"",de[3]&&(this[he]=this[he].toLowerCase())}this.relative=g,this.protocol=c||E.protocol||"",this.origin=this.protocol&&this.host&&this.protocol!=="file:"?this.protocol+"//"+this.host:"null",this.href=this.toString()}var o=a.prototype;return o.toString=function(){var e=this.protocol;if(e+="//",this.auth){var t="[REDACTED]",u=this.auth.split(":");e+=(u[0]?t:"")+(u[1]?":"+t:"")+"@"}return e+=this.host,e+=this.path,e+=this.query,e+=this.hash},o.getLocation=function(){var e={};return typeof window<"u"&&(e=window),e.location},o.extractProtocol=function(e){var t=xe.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],address:t[3]}},a}(),ye={service:{name:[Ce,!0],version:!0,agent:{version:[Ce,!0]},environment:!0}},je={"*":!0,headers:{"*":!0}},De={user:{id:!0,email:!0,username:!0},tags:{"*":!0},http:{response:je},response:je},qe={name:[Ce,!0],type:[Ce,!0],id:[Ce,!0],trace_id:[Ce,!0],parent_id:[Ce,!0],transaction_id:[Ce,!0],subtype:!0,action:!0,context:De},Fe={name:!0,parent_id:!0,type:[Ce,!0],id:[Ce,!0],trace_id:[Ce,!0],span_count:{started:[Ce,!0]},context:De};function Je(a){return a==null||a===""||a===void 0}function et(a,o,e){var t,u,c,d,f=(t=a[o],u=e[0],c=e[1],u===void 0&&(u=Ce),c===void 0&&(c=!1),d===void 0&&(d="N/A"),c&&Je(t)&&(t=d),typeof t=="string"?t.substring(0,u):t);Je(f)?delete a[o]:a[o]=f}function Ve(a,o,e){a===void 0&&(a={}),e===void 0&&(e=o);for(var t=Object.keys(a),u=[],c=function(f){var g=t[f],E=a[g]===!0?u:a[g];Array.isArray(E)?g==="*"?Object.keys(e).forEach(function(D){return et(e,D,E)}):et(e,g,E):Ve(E,o,e[g])},d=0;d<t.length;d++)c(d);return o}var it=function(){function a(e,t,u,c){this._apmServer=e,this._configService=t,this._logginService=u,this._transactionService=c}var o=a.prototype;return o.init=function(e){var t=this;e===void 0&&(e={}),this._configService.events.observe(ke+":after",function(u){var c=t.createTransactionPayload(u);c&&t._apmServer.addTransaction(c)}),e[Y]&&H.observe(Y,this.getHistorySub()),e[C]&&H.observe(C,this.getXHRSub()),e[Z]&&H.observe(Z,this.getFetchSub())},o.getHistorySub=function(){var e=this._transactionService;return function(t,u){u.source===Y&&t===re&&e.startTransaction(u.data.title,"route-change",{canReuse:!0})}},o.getXHRSub=function(){var e=this;return function(t,u){u.source!==C||Q.fetchInProgress||e.processAPICalls(t,u)}},o.getFetchSub=function(){var e=this;return function(t,u){u.source===Z&&e.processAPICalls(t,u)}},o.processAPICalls=function(e,t){var u=this._configService,c=this._transactionService,d=u.get("ignoreSpansForRoutes");if(e===fe&&t.data){var f=new _e(t.data.url);if(d&&d.test&&d.test(t.data.url))return;var g=t.data.method+" "+(f.relative?f.path:h(f.href)),E=c.startSpan(g,"external.http"),D=c.addTask();if(!E)return;var ee=u.get("distributedTracing"),de=u.get("distributedTracingOrigins"),we=new _e(window.location.href),he=p(f.origin,we.origin)||p(f.origin,de),ge=t.data.target;ee&&he&&ge&&this.injectDtHeader(E,ge),E.addContext({http:{method:t.data.method,url:f.href}}),E.sync=t.data.sync,t.data.span=E,t.id=D}e===re&&t.data&&t.data.span&&(t.data.target.status!==void 0?t.data.span.addContext({http:{status_code:t.data.target.status}}):t.data.response&&t.data.span.addContext({http:{status_code:t.data.response.status}}),t.data.span.end()),e===re&&t.id&&c.removeTask(t.id)},o.injectDtHeader=function(e,t){var u,c=this._configService,d=c.get("distributedTracingHeaderName"),f=c.get("distributedTracingHeaderValueCallback")(e),g=/^[\da-f]{2}-[\da-f]{32}-[\da-f]{16}-[\da-f]{2}$/.test(u=f)&&u.slice(3,35)!=="00000000000000000000000000000000"&&u.slice(36,52)!=="0000000000000000";d&&f&&g&&(typeof t.setRequestHeader=="function"?t.setRequestHeader(d,f):t.headers&&typeof t.headers.append=="function"?t.headers.append(d,f):t[d]=f)},o.extractDtHeader=function(e){var t=this._configService.get("distributedTracingHeaderName");if(e)return function(u){var c=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})$/.exec(u);if(c){var d=c[4]!=="00";return{traceId:c[2],id:c[3],sampled:d}}}(e[t])},o.setTransactionContext=function(e){var t=this._configService.get("context");t&&e.addContext(t)},o.filterTransaction=function(e){var t=this._configService.get("transactionDurationThreshold"),u=e.duration();if(!u||t<u||e.spans.length===0)return!1;e.sampled||e.resetSpans();var c=this._configService.get("browserResponsivenessInterval");if(this._configService.get("checkBrowserResponsiveness")&&!e.isHardNavigation){var d=this._configService.get("browserResponsivenessBuffer");if(!this.checkBrowserResponsiveness(e,c,d))return!1}return!0},o.adjustTransactionTime=function(e){var t=e.spans,u=function(E){for(var D=E[0],ee=1;ee<E.length;ee++){var de=E[ee];D._start>de._start&&(D=de)}return D}(t);u&&u._start<e._start&&(e._start=u._start);var c=function(E){for(var D=null,ee=0;ee<E.length;ee++){var de=E[ee];String(de.type).indexOf("external")===-1&&(!D||D._end<de._end)&&(D=de)}return D}(t);c&&c._end>e._end&&(e._end=c._end);for(var d=e._end,f=0;f<t.length;f++){var g=t[f];g._end>d&&(g._end=d,g.type+=".truncated"),g._start>d&&(g._start=d)}},o.prepareTransaction=function(e){if(e.spans.sort(function(u,c){return u._start-c._start}),this._configService.get("groupSimilarSpans")){var t=this._configService.get("similarSpanThreshold");e.spans=this.groupSmallContinuouslySimilarSpans(e,t)}e.spans=e.spans.filter(function(u){return 0<u.duration()&&u._start>=e._start&&u._end<=e._end}),this.setTransactionContext(e)},o.createTransactionDataModel=function(e){var t=this._configService.get("context"),u=e._start,c=e.spans.map(function(g){var E={id:g.id,transaction_id:e.id,parent_id:g.parentId||e.id,trace_id:e.traceId,name:g.name,type:g.type,subType:g.subType,action:g.action,sync:g.sync,start:g._start-u,duration:g.duration(),context:g.context};return Ve(qe,E)}),d=ne({},t,e.context),f={id:e.id,trace_id:e.traceId,name:e.name,type:e.type,duration:e.duration(),spans:c,context:d,marks:e.marks,span_count:{started:c.length},sampled:e.sampled};return Ve(Fe,f)},o.createTransactionPayload=function(e){if(this.adjustTransactionTime(e),this.prepareTransaction(e),this.filterTransaction(e))return this.createTransactionDataModel(e)},o.convertTransactionsToServerModel=function(e){var t=this;return e.map(function(u){return t.createTransactionDataModel(u)})},o.groupSmallContinuouslySimilarSpans=function(e,t){var u=e.duration(),c=[],d=1;return e.spans.forEach(function(f,g){if(c.length===0)c.push(f);else{var E=c[c.length-1],D=E.type===f.type&&E.subType===f.subType&&E.action===f.action&&E.name===f.name&&f.duration()/u<t&&(f._start-E._end)/u<t,ee=e.spans.length===g+1;D&&(d++,E._end=f._end),1<d&&(!D||ee)&&(E.name=d+"x "+E.name,d=1),D||c.push(f)}}),c},o.checkBrowserResponsiveness=function(e,t,u){var c=e.browserResponsivenessCounter;if(t===void 0||c===void 0)return!0;var d=e.duration();return Math.floor(d/t)<=c+u},a}(),tt=function(){function a(e,t,u){u===void 0&&(u={}),e||(e=Ee),t||(t="custom"),this.options=u,this.name=e,this.type=t,this.id=this.options.id||s(16),this.traceId=this.options.traceId,this.sampled=this.options.sampled,this.timestamp=this.options.timestamp||Date.now(),this.ended=!1,this._start=window.performance.now(),this._end=void 0,this.onEnd=this.options.onEnd}var o=a.prototype;return o.ensureContext=function(){this.context||(this.context={})},o.addTags=function(e){console.warn("addTags deprecated, please use addLabels"),this.addLabels(e)},o.addLabels=function(e){this.ensureContext();var t=this.context;t.tags||(t.tags={}),Object.keys(e).forEach(function(u){return O(u,e[u],t.tags)})},o.addContext=function(e){e&&(this.ensureContext(),ne(this.context,e))},o.end=function(){this.ended||(this.ended=!0,this._end=window.performance.now(),this.callOnEnd())},o.callOnEnd=function(){typeof this.onEnd=="function"&&this.onEnd(this)},o.duration=function(){if(l(this._end)||l(this._start))return null;var e=this._end-this._start;return parseFloat(e)},a}(),Xe=function(a){var o,e;function t(u,c,d){var f;if((f=a.call(this,u,c,d)||this).parentId=f.options.parentId,f.subType=void 0,f.action=void 0,f.type.indexOf(".")!==-1){var g=f.type.split(".",3);f.type=g[0],f.subType=g[1],f.action=g[2]}return f.sync=f.options.sync,f}return e=a,(o=t).prototype=Object.create(e.prototype),(o.prototype.constructor=o).__proto__=e,t}(tt),ot=function(a){var o,e;function t(c,d,f){var g;return(g=a.call(this,c,d,f)||this).traceId=s(),g.marks=void 0,g.spans=[],g._activeSpans={},g.nextAutoTaskId=1,g._scheduledTasks=[],g.isHardNavigation=!1,g.sampled=Math.random()<=g.options.transactionSampleRate,g}e=a,(o=t).prototype=Object.create(e.prototype),(o.prototype.constructor=o).__proto__=e;var u=t.prototype;return u.addMarks=function(c){this.marks=ne(this.marks||{},c)},u.mark=function(c){var d=V(c),f=window.performance.now()-this._start,g={};g[d]=f,this.addMarks({custom:g})},u.canReuse=function(c){return c===void 0&&(c=5e3),!!this.options.canReuse&&!this.ended&&performance.now()-this._start<c},u.redefine=function(c,d,f){c&&(this.name=c),d&&(this.type=d),f&&(this.options=X(this.options,f))},u.startSpan=function(c,d,f){var g=this;if(!this.ended){var E=X({},f);E.onEnd=function(ee){g._onSpanEnd(ee)},E.traceId=this.traceId,E.sampled=this.sampled,E.parentId||(E.parentId=this.id);var D=new Xe(c,d,E);return this._activeSpans[D.id]=D}},u.isFinished=function(){return this._scheduledTasks.length===0},u.detectFinish=function(){this.isFinished()&&this.end()},u.end=function(){if(!this.ended){for(var c in this.ended=!0,this._end=window.performance.now(),this._activeSpans){var d=this._activeSpans[c];d.type=d.type+".truncated",d.end()}var f={page:{referer:document.referrer,url:window.location.href}};this.addContext(f),this.callOnEnd()}},u.addTask=function(c){if(c===void 0&&(c="task"+this.nextAutoTaskId++),this._scheduledTasks.indexOf(c)==-1)return this._scheduledTasks.push(c),c},u.removeTask=function(c){var d=this._scheduledTasks.indexOf(c);-1<d&&this._scheduledTasks.splice(d,1),this.detectFinish()},u.resetSpans=function(){this.spans=[]},u._onSpanEnd=function(c){this.spans.push(c),delete this._activeSpans[c.id]},t}(tt),$e=[["domainLookupStart","domainLookupEnd","Domain lookup"],["connectStart","connectEnd","Making a connection to the server"],["requestStart","responseEnd","Requesting and receiving the document"],["domLoading","domInteractive","Parsing the document, executing sync. scripts"],["domContentLoadedEventStart","domContentLoadedEventEnd",'Fire "DOMContentLoaded" event'],["loadEventStart","loadEventEnd",'Fire "load" event']];function Ye(a,o,e,t){return typeof a=="number"&&typeof o=="number"&&e<=a&&a<o&&o-e<=t&&o-a<Ie&&a-e<Ie&&o-e<Ie}function Qe(a){var o={transfer_size:a.transferSize,encoded_body_size:a.encodedBodySize,decoded_body_size:a.decodedBodySize},e=function(t){t===void 0&&(t=[]);for(var u=[],c=0;c<t.length;c++){var d=t[c],f=d.name,g=d.duration,E=d.description,D=f;E&&(D+=";desc="+E),g&&(D+=";dur="+g),u.push(D)}return u.join(", ")}(a.serverTiming);return e&&(o.headers={"server-timing":e}),o}function at(a){var o=a.name,e=a.initiatorType,t=a.startTime,u=a.responseEnd,c="resource";e&&(c+="."+e);var d=h(o),f=new Xe(d,c);return f.addContext({http:{url:o,response:Qe(a)}}),f._start=t,f.end(),f._end=u,f}function pt(a){var o=window.performance;if(a.isHardNavigation&&o&&o.timing){var e=o.timing;if(a.marks&&a.marks.custom){var t=a.marks.custom;Object.keys(t).forEach(function(D){t[D]+=a._start})}a._start=0;var u=a._end;if(function(D,ee,de){for(var we=[],he=0;he<$e.length;he++){var ge=D[$e[he][0]],Ne=D[$e[he][1]];if(Ye(ge,Ne,ee,de)){var Le=new Xe($e[he][2],"hard-navigation.browser-timing");$e[he][0]==="requestStart"&&(Le.pageResponse=!0),Le._start=ge-ee,Le.ended=!0,Le._end=Ne-ee,we.push(Le)}}return we}(e,e.fetchStart,u).forEach(function(D){D.traceId=a.traceId,D.sampled=a.sampled,D.pageResponse&&a.options.pageLoadSpanId&&(D.id=a.options.pageLoadSpanId),a.spans.push(D)}),typeof o.getEntriesByType=="function"){for(var c=o.getEntriesByType("resource"),d=[],f=0;f<a.spans;f++){var g=a.spans[f];g.type==="external"&&g.subType==="http"||d.push(g.name.split(" ")[1])}(function(D,ee,de){for(var we=[],he=0;he<D.length;he++){var ge=D[he],Ne=ge.initiatorType,Le=ge.name,We=ge.startTime,Be=ge.responseEnd;if(Ne!=="xmlhttprequest"&&Ne!=="fetch"&&Le)if(pe.indexOf(Ne)!==-1){if(!Ye(We,Be,0,de))continue;we.push(at(D[he]))}else{if(Ne!=null)continue;for(var lt=!1,dt=0;dt<ee.length;dt++){var kt=Le.lastIndexOf(ee[dt]);if(-1<kt&&kt===Le.length-ee[dt].length){lt=!0;break}}!lt&&Ye(We,Be,0,de)&&we.push(at(D[he]))}}return we})(c,d,u).forEach(function(D){return a.spans.push(D)}),function(D,ee){for(var de=[],we=0;we<D.length;we++){var he=D[we],ge=he.name,Ne=he.startTime,Le=he.duration,We=Ne+Le;if(!(Le<=Re)&&Ye(Ne,We,0,ee)){var Be=new Xe(ge,"app");Be._start=Ne,Be.end(),Be._end=We,de.push(Be)}}return de}(o.getEntriesByType("measure"),u).forEach(function(D){return a.spans.push(D)});var E=o.getEntriesByType("navigation");E&&0<E.length&&(E=E[0],a.addContext({response:Qe(E)}))}}}var mt=function(){function a(e,t){this._config=t,this._logger=e,this.currentTransaction=void 0,this._alreadyCapturedPageLoad=!1}var o=a.prototype;return o.ensureCurrentTransaction=function(e){e||(e=this.createPerfOptions());var t=this.getCurrentTransaction();return t||(e.canReuse=!0,this.createTransaction(void 0,void 0,e))},o.getCurrentTransaction=function(){if(this.currentTransaction&&!this.currentTransaction.ended)return this.currentTransaction},o.setCurrentTransaction=function(e){this.currentTransaction=e},o.createTransaction=function(e,t,u){var c=new ot(e,t,u);return this.setCurrentTransaction(c),u.checkBrowserResponsiveness&&this.startCounter(c),c},o.startCounter=function(e){e.browserResponsivenessCounter=0;var t=this._config.get("browserResponsivenessInterval");if(t!==void 0)var u=setInterval(function(){e.ended?window.clearInterval(u):e.browserResponsivenessCounter++},t)},o.capturePageLoadMetrics=function(e){if(this._config.get("capturePageLoad")&&!this._alreadyCapturedPageLoad&&e.isHardNavigation)return pt(e),e.addMarks(ie()),self._alreadyCapturedPageLoad=!0},o.createPerfOptions=function(e){var t=this._config.config;return X({pageLoadTraceId:t.pageLoadTraceId,pageLoadSampled:t.pageLoadSampled,pageLoadSpanId:t.pageLoadSpanId,pageLoadTransactionName:t.pageLoadTransactionName,transactionSampleRate:t.transactionSampleRate,checkBrowserResponsiveness:t.checkBrowserResponsiveness},e)},o.startTransaction=function(e,t,u){var c=this,d=this.createPerfOptions(u),f=this.getCurrentTransaction();return f?f.canReuse()&&d.canReuse?f.redefine(e,void 0,d):(f.end(),f=this.createTransaction(e,t,d)):f=this.createTransaction(e,t,d),t===ve&&(f.isHardNavigation=!0,d.pageLoadTraceId&&(f.traceId=d.pageLoadTraceId),d.pageLoadSampled&&(f.sampled=d.pageLoadSampled),f.name===Ee&&d.pageLoadTransactionName&&(f.name=d.pageLoadTransactionName)),this._config.events.send("transaction:start",[f]),f.onEnd=function(){return Oe.Promise.resolve().then(function(){c.shouldIgnoreTransaction(f.name)||f.type===ve||c.add(f)},function(g){})},f},o.shouldIgnoreTransaction=function(e){var t=this._config.get("ignoreTransactions");if(t&&t.length)for(var u=0;u<t.length;u++){var c=t[u];if(typeof c.test=="function"){if(c.test(e))return!0}else if(c===e)return!0}return!1},o.startSpan=function(e,t,u){var c=this.ensureCurrentTransaction();if(c)return c.startSpan(e,t,u)},o.add=function(e){this._config.events.send(ke,[e])},o.addTask=function(e){var t=this.ensureCurrentTransaction();return t&&(e=t.addTask(e)),e},o.removeTask=function(e){var t=this.getCurrentTransaction();t&&t.removeTask(e)},o.detectFinish=function(){var e=this.getCurrentTransaction();e&&e.detectFinish()},a}(),vt=function(a){a.registerServiceCreator("TransactionService",function(){var o=a.getService("ConfigService"),e=a.getService("LoggingService");return new mt(e,o)}),a.registerServiceCreator("PerformanceMonitoring",function(){var o=a.getService("ConfigService"),e=a.getService("LoggingService"),t=a.getService("ApmServer"),u=a.getService("TransactionService");return new it(t,o,e,u)})},gt=function(){function a(e,t,u){t||(t={}),this.onFlush=e,this.routeDurationThreshold=t.routeDurationThreshold||500,this.queueLimit=t.queueLimit||-1,this.slowestTxnsQueueLimit=t.slowestTxnsQueueLimit||10,this.flushInterval=t.flushInterval||0,this.timeoutId=void 0,this.transactions={},this.slowestTxns=[],this.totalTrans=0,this.urlMaxLength=u.get("urlMaxLength")}var o=a.prototype;return o._setTimer=function(){var e=this;this.timeoutId=setTimeout(function(){e.flush()},this.flushInterval)},o.flush=function(){var e=Object.keys(this.transactions).map(function(c){var d=this.transactions[c],f={n:c,d:[d.duration.count,d.duration.total,d.duration.min,d.duration.max]};return f.spans=Object.keys(d.spans).map(function(g){var E=d.spans[g],D={};return D.n=g,D.t=E.type,D.d=[E.duration.count,E.duration.total,E.duration.min,E.duration.max],E.url&&E.method&&(D.u=E.url,D.m=E.method),D}),f},this),t=[];this.slowestTxns.forEach((function(c){var d=c.context&&c.context.page&&c.context.page.url;if(d){var f={r:c.txnName||"",n:d.slice(0,this.urlMaxLength),d:c.duration||0,spans:[]};c.spans=c.spans||[],c.spans.forEach((function(g){var E={n:g.name,d:g.duration,s:g.start,t:g.type};if(g.type==="external"){var D=g.context&&g.context.http||{};if(window.atatus&&window.atatus._isAllowedUrl&&!window.atatus._isAllowedUrl(D.url||""))return;E.m=D.method,E.st=D.status_code,E.u=D.url.slice(0,this.urlMaxLength),E.t="ajax"}f.spans.push(E)}).bind(this)),t.push(f)}}).bind(this));var u={data:e,slowestRoutes:t};this.onFlush(u),this._clear()},o._clear=function(){this.timeoutId!==void 0&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.transactions={},this.slowestTxns=[],this.totalTrans=0},o.addSlowestTxn=function(e){var t=this.slowestTxns.length;if(t<this.slowestTxnsQueueLimit)this.slowestTxns.push(e);else{var u=Math.floor(Math.random()*(t+2));u<this.slowestTxnsQueueLimit&&(this.slowestTxns[u]=e)}},o.add=function(e){var t=e.context&&e.context.page&&e.context.page.url,u="";try{window.atatus&&window.atatus.getTransformRouteUrlFn()&&(u=window.atatus.getTransformRouteUrlFn()(t))}catch{}if(u||(u=t.split("?")[0]),u&&(e.txnName=u,e.duration=e.duration||0,e.spans=e.spans||[],e.spans.length||!(4e3<e.duration))){var c=this.transactions[u]||{duration:{total:0,min:e.duration,max:e.duration,count:0},spans:{}};(this.transactions[u]=c).duration.total+=e.duration,c.duration.max=e.duration>=c.duration.max?e.duration:c.duration.max,c.duration.min=e.duration<c.duration.min?e.duration:c.duration.min,c.duration.count++,this.totalTrans++,e.spans.forEach(function(d){var f=d.name;if(f){var g=d.context&&d.context.http&&d.context.http.url||"";if(!window.atatus||!window.atatus._isAllowedUrl||window.atatus._isAllowedUrl(g)){d.duration=d.duration||0;var E=c.spans[f]||{duration:{total:0,min:d.duration,max:d.duration,count:0}};d.type==="external"?(E.method=d.context&&d.context.http&&d.context.http.method,E.url=g.split("?")[0],E.type="ajax"):E.type=d.type||"",E.duration.total+=d.duration,E.duration.max=d.duration>=E.duration.max?d.duration:E.duration.max,E.duration.min=d.duration<E.duration.min?d.duration:E.duration.min,E.duration.count++,c.spans[f]=E}}},this),e.duration>=this.routeDurationThreshold&&this.addSlowestTxn(e),this.queueLimit!==-1&&this.totalTrans>=this.queueLimit?this.flush():this.timeoutId===void 0&&this._setTimer()}},a}(),yt=function(){function a(e,t){t||(t={}),this.onFlush=e,this.items=[],this.queueLimit=t.queueLimit||-1,this.flushInterval=t.flushInterval||0,this.timeoutId=void 0}var o=a.prototype;return o._setTimer=function(){var e=this;this.timeoutId=setTimeout(function(){e.flush()},this.flushInterval)},o.flush=function(){this.onFlush(this.items),this._clear()},o._clear=function(){this.timeoutId!==void 0&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.items=[]},o.add=function(e){this.items.push(e),this.queueLimit!==-1&&this.items.length>=this.queueLimit?this.flush():this.timeoutId===void 0&&this._setTimer()},a}(),st=function(a,o,e){var t,u=e.context||this,c=e.limit,d=e.interval,f=e.countFn||function(){},g=0;return function(){var E=typeof f=="function"&&f.apply(u,arguments);return typeof E!="number"&&(E=1),g+=E,t===void 0&&(t=setTimeout(function(){t=void(g=0)},d)),c<g?typeof o=="function"?o.apply(u,arguments):void 0:a.apply(u,arguments)}},Pe=function(){function a(){}return a.stringify=function(o){return JSON.stringify(o)+`
`},a}(),He=function(){function a(e,t){this._configService=e,this._loggingService=t,this.errorQueue=void 0,this.transactionQueue=void 0,this.throttleAddError=void 0,this.throttleAddTransaction=void 0,this.initialized=!1,this.ndjsonSpan={}}var o=a.prototype;return o.init=function(){this.initialized||(this.initialized=!0,this.initErrorQueue(),this.initTransactionQueue())},o.createMetaData=function(){var e=this._configService,t={service:{name:e.get("serviceName"),version:e.get("serviceVersion"),agent:{name:"js-base",version:e.version},language:{name:"javascript"},environment:e.get("environment")}};return Ve(ye,t)},o._postJson=function(e,t){return this._makeHttpRequest("POST",e,t,{"Content-Type":"application/x-ndjson"})},o._constructError=function(e){var t=e.url,u=e.status,c=(e.responseText,t+" HTTP status: "+u);return new Error(c)},o._makeHttpRequest=function(e,t,u,c){return new Oe.Promise(function(d,f){var g=new window.XMLHttpRequest;if(g[x]=!0,g.open(e,t,!0),g.timeout=1e4,c)for(var E in c)c.hasOwnProperty(E)&&g.setRequestHeader(E,c[E]);g.onreadystatechange=function(){if(g.readyState===4){var D=g.status,ee=g.responseText;D===0||399<D&&D<600?f({url:t,status:D,responseText:ee}):d(ee)}},g.onerror=function(){var D=g.status,ee=g.responseText;f({url:t,status:D,responseText:ee})},g.send(u)})},o._createQueue=function(e){var t=this._configService.get("queueLimit"),u=this._configService.get("flushInterval");return new yt(e,{queueLimit:t,flushInterval:u})},o._createTransactionQueue=function(e){var t=this._configService.get("queueLimit"),u=this._configService.get("flushInterval");return new gt(e,{queueLimit:t,flushInterval:u},this._configService)},o.initErrorQueue=function(){var e=this;this.errorQueue&&this.errorQueue.flush(),this.errorQueue=this._createQueue(function(c){var d=e.sendErrors(c);d&&d.catch(function(f){e._loggingService.warn("Failed sending errors!",e._constructError(f))})});var t=this._configService.get("errorThrottleLimit"),u=this._configService.get("errorThrottleInterval");this.throttleAddError=st(this.errorQueue.add.bind(this.errorQueue),function(){return e._loggingService.warn("Dropped error due to throttling!")},{limit:t,interval:u})},o.initTransactionQueue=function(){var e=this;this.transactionQueue&&this.transactionQueue.flush(),this.transactionQueue=this._createTransactionQueue(function(c){var d=e.sendTransactions(c);d&&d.catch(function(f){e._loggingService.warn("Failed sending transactions!",e._constructError(f))})});var t=this._configService.get("transactionThrottleLimit"),u=this._configService.get("transactionThrottleInterval");this.throttleAddTransaction=st(this.transactionQueue.add.bind(this.transactionQueue),function(){return e._loggingService.warn("Dropped transaction due to throttling!")},{limit:t,interval:u})},o.addError=function(e){this.errorQueue||this.initErrorQueue(),this.throttleAddError(e)},o.addTransaction=function(e){this.transactionQueue||this.initTransactionQueue(),this.throttleAddTransaction(e)},o.ndjsonErrors=function(e){return e.map(function(t){return Pe.stringify({error:t})})},o.ndjsonTransactions=function(e){var t=this.ndjsonSpan;return e.map(function(u){var c="";return u.spans&&(c=u.spans.map(function(d){return t.span=d,Pe.stringify(t)}).join(""),delete u.spans),Pe.stringify({transaction:u})+c})},o._send=function(e,t){if(e===void 0&&(e=[]),t===void 0&&(t="transaction"),e.length!==0){var u={service:this.createMetaData().service,data:e},c=this._configService.applyFilters(u);if(c){var d,f=this._configService.getEndpointUrl();if(t==="errors")d=this.ndjsonErrors(c.data);else{if(t!=="transaction")return;d=this.ndjsonTransactions(c.data)}d.unshift(Pe.stringify({metadata:{service:c.service}}));var g=d.join("");return this._postJson(f,g)}this._loggingService.warn("Dropped payload due to filtering!")}},o.sendTransactions=function(e){window.atatus.sendSPAPerf(e)},o.sendErrors=function(e){},a}(),ct=function(){function a(){this.config={},this.defaults={serviceName:"",serviceVersion:"",environment:"",serverUrl:"https://br-rx.atatus.com",serverUrlPrefix:"/browser/track",active:!0,instrument:!0,disableInstrumentations:[te,ve],debug:!1,logLevel:"warn",browserResponsivenessInterval:500,browserResponsivenessBuffer:3,checkBrowserResponsiveness:!0,groupSimilarSpans:!0,similarSpanThreshold:.05,capturePageLoad:!0,ignoreTransactions:[],errorThrottleLimit:20,errorThrottleInterval:3e4,transactionThrottleLimit:20,transactionThrottleInterval:3e4,transactionDurationThreshold:6e4,queueLimit:-1,flushInterval:3e4,sendPageLoadTransaction:!0,distributedTracing:!0,distributedTracingOrigins:[],distributedTracingHeaderValueCallback:z,distributedTracingHeaderName:"atatus-apm-traceparent",pageLoadTraceId:"",pageLoadSpanId:"",pageLoadSampled:!1,pageLoadTransactionName:"",transactionSampleRate:1,context:{},urlMaxLength:250,ignoreSpansForRoutes:null},this.events=new ze,this.filters=[],this.version=""}var o=a.prototype;return o.init=function(){this.setConfig({})},o.isActive=function(){return this.get("active")},o.setVersion=function(e){this.version=e},o.setIgnoreSpansForRoutes=function(e){this.config.ignoreSpansForRoutes=e},o.addFilter=function(e){if(typeof e!="function")throw new Error("Argument to must be function");this.filters.push(e)},o.applyFilters=function(e){for(var t=0;t<this.filters.length;t++)if(!(e=this.filters[t](e)))return;return e},o.get=function(e){return e.split(".").reduce(function(t,u){return t&&t[u]},this.config)},o.getEndpointUrl=function(){return this.config.serverUrl+this.config.serverUrlPrefix},o.set=function(e,t){for(var u=e.split("."),c=u.length-1,d=this.config,f=0;f<c+1;f++){var g=u[f];if(g)if(f===c)d[g]=t;else{var E=d[g]||{};d[g]=E,d=E}}},o.setUserContext=function(e){e===void 0&&(e={});var t={},u=e,c=u.id,d=u.username,f=u.email;typeof c!="number"&&typeof c!="string"||(t.id=c),typeof d=="string"&&(t.username=d),typeof f=="string"&&(t.email=f),this.set("context.user",t)},o.setCustomContext=function(e){e&&typeof e=="object"&&this.set("context.custom",e)},o.addLabels=function(e){var t=this;this.config.context.tags||(this.config.context.tags={}),Object.keys(e).forEach(function(u){return O(u,e[u],t.config.context.tags)})},o.setConfig=function(e){e===void 0&&(e={}),this.config=ne({},this.defaults,this.config,e),this.config.urlMaxLength=this.config.urlMaxLength||250,this.events.send(k,[this.config])},o.validate=function(e){e===void 0&&(e={});var t=["serviceName","serverUrl"],u={missing:[],invalid:[]};return Object.keys(e).forEach(function(c){t.indexOf(c)===-1||e[c]||u.missing.push(c)}),e.serviceName&&!/^[a-zA-Z0-9 _-]+$/.test(e.serviceName)&&u.invalid.push({key:"serviceName",value:e.serviceName,allowed:"a-z, A-Z, 0-9, _, -, <space>"}),u},a}(),N=function(){function a(e){e||(e={}),this.levels=["trace","debug","info","warn","error"],this.level=e.level||"info",this.prefix=e.prefix||"",this.resetLogMethods()}var o=a.prototype;return o.shouldLog=function(e){return this.levels.indexOf(e)>=this.levels.indexOf(this.level)},o.setLevel=function(e){this.level=e,this.resetLogMethods()},o.resetLogMethods=function(){var e=this;this.levels.forEach(function(t){e[t]=e.shouldLog(t)?function(){var u,c=e.prefix;switch(t){case"trace":case"debug":u="info";break;default:u=t}var d=arguments;if(c&&(typeof c=="function"&&(c=c(t)),d[0]=c+d[0]),console){var f=console[u]?console[u]:console.log;typeof f=="function"&&f.apply(console,d)}}:j})},a}(),Ge=function(){function a(){this._serviceCreators={},this._serviceInstances={},this.initialized=!1}var o=a.prototype;return o.registerCoreServices=function(){var e=this;this.registerServiceCreator("ConfigService",function(){return new ct}),this.registerServiceCreator("LoggingService",function(){return new N}),this.registerServiceCreator("ApmServer",function(){return new He(e.getService("ConfigService"),e.getService("LoggingService"))})},o.init=function(){if(!this.initialized){this.initialized=!0;var e=this.getService("ConfigService");e.init();var t=this.getService("LoggingService");u(t,e),e.events.observe(k,function(){u(t,e)}),this.getService("ApmServer").init()}function u(c,d){var f=d.get("debug"),g=d.get("logLevel");f===!0&&g!=="trace"?c.setLevel("debug"):c.setLevel(g)}},o.registerServiceCreator=function(e,t){this._serviceCreators[e]=t},o.registerServiceInstance=function(e,t){this._serviceInstances[e]=t},o.getService=function(e){if(!this._serviceInstances[e]){if(typeof this._serviceCreators[e]!="function")throw new Error("Can not get service, No creator for: "+e);this._serviceInstances[e]=this._serviceCreators[e](this)}return this._serviceInstances[e]},a}(),ut=function(){function a(e,t){this._disable=t,this.serviceFactory=e,this._initialized=!1}var o=a.prototype;return o.init=function(e){if(this.isEnabled()&&!this._initialized){this._initialized=!0;var t=this.serviceFactory.getService("ConfigService");t.setVersion("4.0.2"),this.config(e);var u=this.serviceFactory.getService("LoggingService");if(!t.isActive())return u.info("Atatus agent is inactive"),this;this.serviceFactory.init();var c=(d=t.get("instrument"),f=t.get("disableInstrumentations"),(g={})[C]=!1,g[Z]=!1,g[Y]=!1,g[ve]=!1,g[te]=!1,E=g,d&&Object.keys(E).forEach(function(D){f.indexOf(D)===-1&&(E[D]=!0)}),E);this.serviceFactory.getService("PerformanceMonitoring").init(c),c[te]&&this.serviceFactory.getService("ErrorLogging").registerGlobalEventListener(),c[ve]&&t.get("sendPageLoadTransaction")&&this._sendPageLoadMetrics()}var d,f,g,E;return this},o._sendPageLoadMetrics=function(){var e=this.serviceFactory.getService("TransactionService").startTransaction(void 0,ve,{canReuse:!0});e&&e.addTask(ve);var t=function(){setTimeout(function(){e&&e.removeTask(ve)})};document.readyState==="complete"?t():window.addEventListener("load",t)},o.isEnabled=function(){return!this._disable},o.observe=function(e,t){this.serviceFactory.getService("ConfigService").events.observe(e,t)},o.config=function(e){var t=this.serviceFactory.getService("ConfigService"),u=t.validate(e),c=u.missing,d=u.invalid;if(c.length===0&&d.length===0)t.setConfig(e);else{var f=this.serviceFactory.getService("LoggingService"),g="RUM Agent isn't correctly configured: ";0<c.length&&(g+="Missing config - "+c.join(", "),0<d.length&&(g+=", ")),d.forEach(function(E,D){var ee=E.key,de=E.value,we=E.allowed;g+=ee+' "'+de+'" contains invalid characters! (allowed: '+we+")"+(D!==d.length-1?", ":"")}),f.error(g),t.setConfig({active:!1})}},o.setIgnoreSpansForRoutes=function(e){this.serviceFactory.getService("ConfigService").setIgnoreSpansForRoutes(e)},o.setUserContext=function(e){this.serviceFactory.getService("ConfigService").setUserContext(e)},o.setCustomContext=function(e){this.serviceFactory.getService("ConfigService").setCustomContext(e)},o.addTags=function(e){this.serviceFactory.getService("LoggingService").warn("addTags deprecated, please use addLabels"),this.addLabels(e)},o.addLabels=function(e){this.serviceFactory.getService("ConfigService").addLabels(e)},o.setInitialPageLoadName=function(e){this.isEnabled()&&this.serviceFactory.getService("ConfigService").setConfig({pageLoadTransactionName:e})},o.startTransaction=function(e,t,u){if(this.isEnabled())return this.serviceFactory.getService("TransactionService").startTransaction(e,t,u)},o.startSpan=function(e,t){if(this.isEnabled())return this.serviceFactory.getService("TransactionService").startSpan(e,t)},o.getCurrentTransaction=function(){if(this.isEnabled())return this.serviceFactory.getService("TransactionService").getCurrentTransaction()},o.getTransactionService=function(){if(this.isEnabled())return this.serviceFactory.getService("TransactionService")},o.addFilter=function(e){this.serviceFactory.getService("ConfigService").addFilter(e)},a}();w.d(y,"init",function(){return m}),w.d(y,"apmBase",function(){return r}),w.d(y,"apm",function(){return r}),w.d(y,"ApmBase",function(){return ut});var Ke,G=(le||(le=!0,F()?(K(),$=!0):typeof window<"u"&&console.log("APM: Platform is not supported!")),$),n=((Ke=new Ge).registerCoreServices(),vt(Ke),Ke),r=new ut(n,!G);typeof window<"u"&&window.atatus&&(window.atatus.spa=r,window.atatus.VERSION&&(window.atatus.VERSION+="-spa"));var m=r.init.bind(r);y.default=m}])}(Tt)),Tt.exports}var Ue=wn();const Sn=Ot(Ue),ht=$t({__proto__:null,default:Sn},[Ue]),Tn=(L,I={})=>{try{typeof ht<"u"&&Ue.notify?Ue.notify(L,I):console.warn("Atatus not available for error:",L)}catch(i){console.error("Failed to notify Atatus:",i)}},xn=L=>{try{typeof ht<"u"&&Ue.setUser&&Ue.setUser(L)}catch(I){console.error("Failed to set Atatus user:",I)}},jt=(L,I="info",i={})=>{try{typeof ht<"u"&&Ue.notify?Ue.notify(new Error(`Custom Event: ${L}`),{severity:I,customData:{eventType:"custom",eventName:L,...i}}):console.log(`[Event] ${L}:`,{severity:I,...i})}catch(y){console.error("Failed to log Atatus event:",y)}};function En(){const[L,I]=Se.useState([]),[i,y]=Se.useState(32),[w,v]=Se.useState([]),[P,q]=Se.useState("See all cities"),[R,_]=Se.useState(""),[z,p]=Se.useState(""),[s,F]=Se.useState(""),[O,M]=Se.useState(!1),[h,S]=Se.useState(!0),[T,X]=Se.useState(null),[ne,l]=Se.useState(!1);Se.useEffect(()=>{const Q=A=>{A.preventDefault(),X(A),l(!0)},b=()=>{X(null),l(!1),_("Meet App installed successfully! ")};return window.addEventListener("beforeinstallprompt",Q),window.addEventListener("appinstalled",b),()=>{window.removeEventListener("beforeinstallprompt",Q),window.removeEventListener("appinstalled",b)}},[]);const j=async()=>{if(!T)return;T.prompt();const{outcome:Q}=await T.userChoice;_(Q==="accepted"?"App installation started! ":"App installation cancelled."),X(null),l(!1)};Se.useEffect(()=>{let Q=!1;(async()=>{if(Q){console.log("OAuth processing already in progress, skipping...");return}const x=new URLSearchParams(window.location.search).get("code");if(x){if(sessionStorage.getItem("processed_oauth_code")===x){console.log("OAuth code already processed, skipping..."),St();return}Q=!0;try{sessionStorage.setItem("processing_oauth_code",x),await fn(x),sessionStorage.setItem("processed_oauth_code",x),sessionStorage.removeItem("processing_oauth_code"),M(!0),_("Successfully logged in with Google!"),St()}catch(B){console.error("OAuth token exchange failed:",B),sessionStorage.removeItem("processing_oauth_code"),pn(),B.message.includes("invalid_grant")?p("Authorization code expired or invalid. Please try logging in again."):B.message.includes("400")?p("Authentication failed. Please try again."):p("Login failed. Please check your connection and try again."),St()}finally{Q=!1}}else{const J=mn();M(J)}})()},[]),Se.useEffect(()=>{const Q=async()=>{try{S(!0),navigator.onLine?F(""):F("You are offline. Events displayed may not be up to date.");const x=await vn();if(!x||!Array.isArray(x)){p("Invalid data received. Please try again later."),S(!1);return}p("");const J=P==="See all cities"?x:x.filter(B=>B&&B.location===P);I(J.slice(0,i)),v(yn(x)),S(!1)}catch(x){console.error("Error fetching events:",x),p("Failed to load events. Please try again later."),S(!1),typeof jt=="function"&&jt("API Error","error",{errorMessage:x.message,currentCity:P,numberOfEvents:i,isOnline:navigator.onLine})}};Q();const b=()=>{F(""),Q()},A=()=>{F("You are offline. Events displayed may not be up to date.")};return window.addEventListener("online",b),window.addEventListener("offline",A),()=>{window.removeEventListener("online",b),window.removeEventListener("offline",A)}},[P,i]);const V=async()=>{try{const Q=await Dt();window.location.href=Q}catch{p("Failed to initiate login. Please try again.")}},ie=()=>{hn(),M(!1),_("You have been logged out successfully."),window.location.reload()};return U.jsxs("div",{className:"App",children:[U.jsxs("div",{className:"alerts-container",children:[R.length?U.jsx(cn,{text:R}):null,z.length?U.jsx(un,{text:z}):null,s.length?U.jsx(ln,{text:s}):null]}),U.jsxs("header",{className:"app-header",children:[U.jsx("h1",{children:"Meet App"}),U.jsx("p",{children:"Find events in your city"}),U.jsxs("div",{className:"auth-controls",children:[ne&&U.jsx("button",{className:"auth-button install",onClick:j,children:" Install App"}),O?U.jsxs(U.Fragment,{children:[U.jsx("span",{className:"auth-status",children:" Logged in with Google"}),U.jsx("button",{className:"auth-button logout",onClick:ie,children:"Logout"})]}):U.jsx("button",{className:"auth-button login",onClick:V,children:"Login with Google"})]})]}),h?U.jsx("div",{className:"loading-container",children:U.jsx("p",{children:"Loading events..."})}):U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:"app-controls",children:[U.jsx(tn,{allLocations:w,setCurrentCity:q,setInfoAlert:_}),U.jsx(on,{currentNOE:i,setCurrentNOE:y,setErrorAlert:p})]}),U.jsxs("div",{className:"charts-container",children:[U.jsx("div",{className:"chart-section",children:U.jsx(an,{allLocations:w,events:L})}),U.jsx("div",{className:"chart-section",children:U.jsx(sn,{events:L})})]}),U.jsx("div",{className:"event-list-container",children:U.jsx(rn,{events:L})})]})]})}class kn extends Nt.Component{constructor(I){super(I),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(I,i){this.setState({error:I,errorInfo:i}),Tn(I,{severity:"error",customData:{errorBoundary:!0,componentStack:i.componentStack,errorStack:I.stack}}),console.error("ErrorBoundary caught an error:",I,i)}render(){return this.state.hasError?U.jsx("div",{className:"error-boundary",children:U.jsxs("div",{className:"error-boundary-content",children:[U.jsx("h2",{children:"Oops! Something went wrong."}),U.jsx("p",{children:"We're sorry for the inconvenience. The error has been reported and we're working on a fix."}),U.jsx("button",{onClick:()=>window.location.reload(),className:"error-boundary-button",children:"Reload Page"}),!1]})}):this.props.children}}const bn=!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function It(L){"serviceWorker"in navigator&&window.addEventListener("load",async()=>{await _n();const i=window.location.hostname==="souravdas090300.github.io"?"/meet/service-worker.js":"/service-worker.js";bn?(Ln(i,L),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):Mt(i,L)})}async function _n(){try{const I=(await navigator.serviceWorker.getRegistrations()).map(i=>(console.log("Unregistering existing service worker:",i.scope),i.unregister()));await Promise.all(I),console.log("All existing service workers unregistered")}catch(L){console.warn("Failed to unregister existing service workers:",L)}}function Mt(L,I){const y=window.location.hostname==="souravdas090300.github.io"?"/meet/":"/";console.log("Registering service worker:",L,"with scope:",y),navigator.serviceWorker.register(L,{scope:y}).then(w=>{console.log("Service worker registered successfully:",w),w.onupdatefound=()=>{const v=w.installing;v!=null&&(v.onstatechange=()=>{v.state==="installed"&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),I&&I.onUpdate&&I.onUpdate(w)):(console.log("Content is cached for offline use."),I&&I.onSuccess&&I.onSuccess(w)))})}}).catch(w=>{console.error("Error during service worker registration:",w)})}function Ln(L,I){fetch(L,{headers:{"Service-Worker":"script"}}).then(i=>{const y=i.headers.get("content-type");i.status===404||y!=null&&y.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(w=>{w.unregister().then(()=>{window.location.reload()})}):Mt(L,I)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}let Rt=!1;window.atatusInitialized=!1;try{const L="93a094075aa3483186cf248030fdad97";L&&L!=="undefined"&&typeof Ue.config=="function"?(Ue.config(L).install(),Rt=!0,window.atatusInitialized=!0,window.atatusInstance=ht,console.log(" Atatus monitoring initialized successfully"),setTimeout(()=>{xn({id:"anonymous-user",email:"anonymous@example.com",name:"Anonymous User"})},100)):console.warn(" Atatus license key not found or Atatus not available")}catch(L){console.error(" Failed to initialize Atatus:",L),Rt=!1,window.atatusInitialized=!1}en.createRoot(document.getElementById("root")).render(U.jsx(Nt.StrictMode,{children:U.jsx(kn,{children:U.jsx(En,{})})}));typeof It=="function"?It():console.warn("Service worker registration function not available");
