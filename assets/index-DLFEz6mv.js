import{r as qt,a as zt,g as Ot,c as nt}from"./vendor-C6Ba5J37.js";import{r as Se,R as Pt,B as Bt,C as Zt,X as Ht,Y as Wt,T as Jt,a as Vt,P as Xt,b as $t,c as Qt,d as Nt}from"./charts-Dn52J62n.js";function Gt(I,j){for(var i=0;i<j.length;i++){const p=j[i];if(typeof p!="string"&&!Array.isArray(p)){for(const y in p)if(y!=="default"&&!(y in I)){const g=Object.getOwnPropertyDescriptor(p,y);g&&Object.defineProperty(I,y,g.get?g:{enumerable:!0,get:()=>p[y]})}}}return Object.freeze(Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}))}(function(){const j=document.createElement("link").relList;if(j&&j.supports&&j.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))p(y);new MutationObserver(y=>{for(const g of y)if(g.type==="childList")for(const P of g.addedNodes)P.tagName==="LINK"&&P.rel==="modulepreload"&&p(P)}).observe(document,{childList:!0,subtree:!0});function i(y){const g={};return y.integrity&&(g.integrity=y.integrity),y.referrerPolicy&&(g.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?g.credentials="include":y.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function p(y){if(y.ep)return;y.ep=!0;const g=i(y);fetch(y.href,g)}})();var wt={exports:{}},rt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bt;function Yt(){if(bt)return rt;bt=1;var I=qt(),j=Symbol.for("react.element"),i=Symbol.for("react.fragment"),p=Object.prototype.hasOwnProperty,y=I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function P(z,R,_){var q,m={},s=null,F=null;_!==void 0&&(s=""+_),R.key!==void 0&&(s=""+R.key),R.ref!==void 0&&(F=R.ref);for(q in R)p.call(R,q)&&!g.hasOwnProperty(q)&&(m[q]=R[q]);if(z&&z.defaultProps)for(q in R=z.defaultProps,R)m[q]===void 0&&(m[q]=R[q]);return{$$typeof:j,type:z,key:s,ref:F,props:m,_owner:y.current}}return rt.Fragment=i,rt.jsx=P,rt.jsxs=P,rt}var _t;function Kt(){return _t||(_t=1,wt.exports=Yt()),wt.exports}var U=Kt(),ft={},Lt;function en(){if(Lt)return ft;Lt=1;var I=zt();return ft.createRoot=I.createRoot,ft.hydrateRoot=I.hydrateRoot,ft}var tn=en();const nn=Ot(tn),rn=({allLocations:I=[],setCurrentCity:j,setInfoAlert:i})=>{const[p,y]=Se.useState(!1),[g,P]=Se.useState(""),[z,R]=Se.useState([]),_=s=>{const F=s.target.value;if(P(F),F===""){R([]),y(!1),j("See all cities"),i("");return}const O=I.filter(M=>M.toLowerCase().includes(F.toLowerCase()));R(O),y(!0),O.length===0?i("We cannot find the city you are looking for. Please try another city."):i("")},q=s=>{P(s),j(s),y(!1),R([]),i("")},m=()=>{y(!0),g===""&&R(I)};return U.jsxs("div",{id:"city-search",className:"city-search",children:[U.jsx("label",{htmlFor:"city-search-input",children:"Search for a city:"}),U.jsx("input",{id:"city-search-input","data-testid":"city-search-input",type:"text",className:"city",placeholder:"Search for a city",value:g,onChange:_,onFocus:m}),p&&U.jsxs("ul",{className:"suggestions",children:[z.map((s,F)=>U.jsx("li",{onClick:()=>q(s),className:"suggestion-item",children:s},F)),U.jsx("li",{onClick:()=>q("See all cities"),className:"suggestion-item",children:U.jsx("b",{children:"See all cities"})},"See all cities")]})]})},on=({event:I})=>{const[j,i]=Se.useState(!1);return I?U.jsxs("li",{className:"event",children:[U.jsx("h1",{children:I.summary||"No title"}),U.jsx("p",{children:I.created||""}),U.jsx("p",{children:I.location||""}),U.jsx("button",{className:"details-btn",onClick:()=>{i(!j)},children:j?"Hide Details":"Show Details"}),j&&U.jsxs("div",{className:"event-details",children:[U.jsx("h2",{children:"About event:"}),U.jsx("p",{className:"event-description",children:I.description||"No description available"}),I.htmlLink&&U.jsx("a",{href:I.htmlLink,target:"_blank",rel:"noopener noreferrer",className:"event-link",children:"See details on Google Calendar"})]})]}):null},an=({events:I=[]})=>U.jsx("ul",{id:"event-list",className:"event-list",children:!I||I.length===0?U.jsx("li",{children:U.jsx("p",{children:"No events found."})}):I.map(j=>U.jsx(on,{event:j},j.id))}),sn=({currentNOE:I,setCurrentNOE:j,setErrorAlert:i})=>{const p=y=>{let g=y.target.value;if(g===""){i("");return}const P=parseInt(g,10);if(isNaN(P)){i("");return}if(P<=0){i("Only positive numbers are allowed");return}if(P>100){i("Please enter a number between 1 and 100");return}i(""),j(P)};return U.jsxs("div",{id:"number-of-events",className:"number-of-events",children:[U.jsx("label",{htmlFor:"number-of-events-input",children:"Number of Events:"}),U.jsx("input",{id:"number-of-events-input","data-testid":"numberOfEventsInput",type:"number",className:"number-of-events-input",value:I,onChange:p,min:"1",max:"100",placeholder:"32"})]})},cn=({allLocations:I,events:j})=>{const[i,p]=Se.useState([]),[y,g]=Se.useState(()=>typeof window<"u"?window.innerWidth:375),[P,z]=Se.useState(!1);Se.useEffect(()=>{let h;const S=()=>{h&&clearTimeout(h),h=setTimeout(()=>{typeof window<"u"&&(g(window.innerWidth),z(!0))},100)};typeof window<"u"&&(g(window.innerWidth),z(!0));const T=setTimeout(()=>{typeof window<"u"&&g(window.innerWidth)},50);return typeof window<"u"?(window.addEventListener("resize",S,{passive:!0}),window.addEventListener("orientationchange",S,{passive:!0}),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",S,{passive:!0}):S(),()=>{h&&clearTimeout(h),clearTimeout(T),window.removeEventListener("resize",S),window.removeEventListener("orientationchange",S),document.removeEventListener("DOMContentLoaded",S)}):()=>{h&&clearTimeout(h),clearTimeout(T)}},[]);const R=Se.useCallback(()=>!I||!j||!Array.isArray(I)||!Array.isArray(j)?[]:I.map(S=>{const T=j.filter(X=>X&&X.location===S).length;return{city:S.split(/, | - /)[0],count:Math.max(0,T)}}).filter(S=>S.city&&typeof S.count=="number"&&S.count>=0),[I,j]);Se.useEffect(()=>{p(R())},[R]);const _=y<=768,q=y<=480,m=y>481&&y<=767,s=Math.max(300,q?350:_?400:500),F=Math.max(80,q?140:_?120:80),O=Math.max(20,_?20:25),M=q&&i.length>6?i.slice(0,6):_&&i.length>8?i.slice(0,8):i;return U.jsxs("div",{"data-testid":"city-events-chart",children:[U.jsx("h4",{children:"Events by City"}),U.jsxs("div",{style:{fontSize:"10px",color:"#999",marginBottom:"10px"},children:["Screen: ",y,"px | Mobile: ",_?"Yes":"No"," | Small: ",q?"Yes":"No"," | Tablet: ",m?"Yes":"No"," | Data: ",i?.length||0," items | Init: ",P?"Yes":"No"]}),!i||i.length===0?U.jsx("div",{"data-testid":"no-data",style:{textAlign:"center",padding:"40px",color:"#666"},children:U.jsx("p",{children:"No city data available"})}):!P||y<200||s<200?U.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:U.jsx("p",{children:"Initializing chart..."})}):U.jsx("div",{"data-testid":"chart-container",children:U.jsx(Pt,{width:"100%",height:s,minWidth:Math.max(320,_?320:400),minHeight:300,debounceMs:50,children:U.jsxs(Bt,{data:M,margin:{top:Math.max(30,30),right:Math.max(30,30),bottom:F,left:Math.max(25,O)},width:void 0,height:void 0,children:[U.jsx(Zt,{strokeDasharray:"3 3"}),U.jsx(Ht,{type:"category",dataKey:"city",name:"City",angle:q?50:_?45:60,interval:0,tick:{dx:20,dy:40,fontSize:q?8:_?10:14}}),U.jsx(Wt,{type:"number",dataKey:"count",name:"Number of events",allowDecimals:!1,domain:[0,"dataMax + 1"],tickCount:5}),U.jsx(Jt,{cursor:{strokeDasharray:"3 3"}}),U.jsx(Vt,{name:"Events",dataKey:"count",fill:"#8884d8"})]})})})]})},un=({events:I})=>{const[j,i]=Se.useState([]),[p,y]=Se.useState(!1),g=Se.useMemo(()=>["React","JavaScript","Node","jQuery","Angular"],[]),P=["#DD0000","#00DD00","#0000DD","#DDDD00","#DD00DD"];Se.useEffect(()=>{const R=()=>{y(window.innerWidth<=768)};return R(),window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),Se.useEffect(()=>{i(g.map(q=>{const m=I.filter(s=>s.summary.includes(q));return{name:q,value:m.length}}))},[I,g]);const z=({cx:R,cy:_,midAngle:q,outerRadius:m,percent:s,index:F})=>{const O=Math.PI/180,M=m,h=R+M*Math.cos(-q*O)*1.02,S=_+M*Math.sin(-q*O)*1.02;return s?U.jsx("text",{x:h,y:S,fill:"#8884d8",textAnchor:h>R?"start":"end",dominantBaseline:"central",fontSize:"12",children:`${g[F]} ${(s*100).toFixed(0)}%`}):null};return U.jsxs("div",{"data-testid":"event-genres-chart",children:[U.jsx("h4",{children:"Events by Genre"}),j.length===0||j.every(R=>R.value===0)?U.jsx("div",{"data-testid":"no-data",children:"No data available"}):U.jsx("div",{"data-testid":"chart-container",children:U.jsx(Pt,{width:"100%",height:p?300:400,children:U.jsx(Xt,{children:U.jsx($t,{data:j,dataKey:"value",fill:"#8884d8",labelLine:!1,label:z,outerRadius:p?100:150,children:j.map((R,_)=>U.jsx(Qt,{fill:P[_%P.length]},`cell-${_}`))})})})})]})};class xt extends Se.Component{constructor(j){super(j),this.color=null,this.bgColor=null}getStyle=()=>({color:this.color,backgroundColor:this.bgColor,border:`2px solid ${this.color}`,fontSize:"12px",margin:"10px 0",padding:"10px",borderRadius:"7px",textAlign:"center"});render(){return U.jsx("div",{className:"Alert",children:U.jsx("p",{style:this.getStyle(),children:this.props.text})})}}class ln extends xt{constructor(j){super(j),this.color="rgb(0, 0, 255)",this.bgColor="rgb(220, 220, 255)"}}class dn extends xt{constructor(j){super(j),this.color="rgb(255, 0, 0)",this.bgColor="rgb(255, 220, 220)"}}class fn extends xt{constructor(j){super(j),this.color="rgb(255, 165, 0)",this.bgColor="rgb(255, 235, 205)"}}const Et="https://pkpsfh72t5.execute-api.eu-central-1.amazonaws.com/dev",Dt=()=>{let I;window.history.pushState&&window.location.pathname?(I=window.location.protocol+"//"+window.location.host+window.location.pathname,window.history.pushState("","",I)):(I=window.location.protocol+"//"+window.location.host,window.history.pushState("","",I))},hn=async I=>{try{return await(await fetch(`https://www.googleapis.com/oauth2/v1/tokeninfo?access_token=${I}`)).json()}catch(j){return console.error("Error checking token:",j),{error:"Failed to validate token"}}},Mt=async I=>{try{const j=encodeURIComponent(I),i=`${Et}/api/token/${j}`;console.log("Requesting token from:",i);const p=await fetch(i,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(console.log("Response status:",p.status),console.log("Response headers:",Object.fromEntries(p.headers.entries())),!p.ok){let g=`Failed to get access token: ${p.status}`;try{const P=await p.json();console.error("Token error response:",P),g+=` - ${JSON.stringify(P)}`}catch(P){console.error("Could not parse error response:",P)}throw new Error(g)}const{access_token:y}=await p.json();return y&&localStorage.setItem("access_token",y),y}catch(j){throw console.error("Error getting access token:",j),console.error("Error details:",{message:j.message,stack:j.stack,name:j.name}),j instanceof TypeError&&j.message.includes("Failed to fetch")&&(console.error("This appears to be a CORS or network connectivity issue"),console.error("Check:"),console.error("1. Network connectivity"),console.error("2. CORS configuration on the server"),console.error("3. Server availability")),j}},Ft=async()=>{try{const I=`${Et}/api/get-auth-url`;console.log("Requesting auth URL from:",I);const j=await fetch(I,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(console.log("Auth URL response status:",j.status),console.log("Auth URL response headers:",Object.fromEntries(j.headers.entries())),!j.ok)throw new Error(`Failed to get auth URL: ${j.status}`);const i=await j.json(),{authUrl:p}=i;return p}catch(I){throw console.error("Error getting auth URL:",I),I instanceof TypeError&&I.message.includes("Failed to fetch")&&(console.error("This appears to be a CORS or network connectivity issue"),console.error("Check:"),console.error("1. Network connectivity"),console.error("2. CORS configuration on the server"),console.error("3. Server availability")),I}},pn=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("lastEvents"),localStorage.removeItem("lastEventsTimestamp"),localStorage.removeItem("lastOAuthRedirect")},mn=()=>!!localStorage.getItem("access_token"),Fe=[{kind:"calendar#event",etag:'"3181161784712000"',id:"4eahs9ghkhrvkld72hogu9ph3e_20200519T140000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=NGVhaHM5Z2hraHJ2a2xkNzJob2d1OXBoM2VfMjAyMDA1MTlUMTQwMDAwWiB0ZXN0LmNhcmVlckZvdW5kcnlAZ21haWwuY29t",created:"2020-05-19T19:17:46.000Z",updated:"2020-05-27T12:01:32.356Z",summary:"Learn JavaScript",description:`Have you wondered how you can ask Google to show you the list of the top ten must-see places in London? And how Google presents you the list? How can you submit the details of an application? Well, JavaScript is doing these. :) 

Javascript offers interactivity to a dull, static website. Come, learn JavaScript with us and make those beautiful websites.`,location:"London, UK",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-19T16:00:00+02:00",timeZone:"Europe/Berlin"},end:{dateTime:"2020-05-19T17:00:00+02:00",timeZone:"Europe/Berlin"},recurringEventId:"4eahs9ghkhrvkld72hogu9ph3e",originalStartTime:{dateTime:"2020-05-19T16:00:00+02:00",timeZone:"Europe/Berlin"},iCalUID:"4eahs9ghkhrvkld72hogu9ph3e@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181159875584000"',id:"3qtd6uscq4tsi6gc7nmmtpqlct_20200520T120000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=M3F0ZDZ1c2NxNHRzaTZnYzdubW10cHFsY3RfMjAyMDA1MjBUMTIwMDAwWiB0ZXN0LmNhcmVlckZvdW5kcnlAZ21haWwuY29t",created:"2020-05-19T19:14:30.000Z",updated:"2020-05-27T11:45:37.792Z",summary:"React is Fun",description:`Love HTML, CSS, and JS? Want to become a cool front-end developer? 

React is one of the most popular front-end frameworks. There is a huge number of job openings for React developers in most cities. 

Join us in our free React training sessions and give your career a new direction. `,location:"Berlin, Germany",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-20T14:00:00+02:00",timeZone:"Europe/Berlin"},end:{dateTime:"2020-05-20T15:00:00+02:00",timeZone:"Europe/Berlin"},recurringEventId:"3qtd6uscq4tsi6gc7nmmtpqlct",originalStartTime:{dateTime:"2020-05-20T14:00:00+02:00",timeZone:"Europe/Berlin"},iCalUID:"3qtd6uscq4tsi6gc7nmmtpqlct@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181161784712000"',id:"4eahs9ghkhrvkld72hogu9ph3e_20200521T140000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=NGVhaHM5Z2hraHJ2a2xkNzJob2d1OXBoM2VfMjAyMDA1MjFUMTQwMDAwWiB0ZXN0LmNhcmVlckZvdW5kcnlAZ21haWwuY29t",created:"2020-05-19T19:17:46.000Z",updated:"2020-05-27T12:01:32.356Z",summary:"Learn JavaScript",description:`Have you wondered how you can ask Google to show you the list of the top ten must-see places in London? And how Google presents you the list? How can you submit the details of an application? Well, JavaScript is doing these. :) 

Javascript offers interactivity to a dull, static website. Come, learn JavaScript with us and make those beautiful websites.`,location:"London, UK",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-21T16:00:00+02:00",timeZone:"Europe/Berlin"},end:{dateTime:"2020-05-21T17:00:00+02:00",timeZone:"Europe/Berlin"},recurringEventId:"4eahs9ghkhrvkld72hogu9ph3e",originalStartTime:{dateTime:"2020-05-21T16:00:00+02:00",timeZone:"Europe/Berlin"},iCalUID:"4eahs9ghkhrvkld72hogu9ph3e@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181159875584000"',id:"3qtd6uscq4tsi6gc7nmmtpqlct_20200522T120000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=M3F0ZDZ1c2NxNHRzaTZnYzdubW10cHFsY3RfMjAyMDA1MjJUMTIwMDAwWiB0ZXN0LmNhcmVlckZvdW5kcnlAZ21haWwuY29t",created:"2020-05-19T19:14:30.000Z",updated:"2020-05-27T11:45:37.792Z",summary:"React is Fun",description:`Love HTML, CSS, and JS? Want to become a cool front-end developer? 

React is one of the most popular front-end frameworks. There is a huge number of job openings for React developers in most cities. 

Join us in our free React training sessions and give your career a new direction. `,location:"Berlin, Germany",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-22T14:00:00+02:00",timeZone:"Europe/Berlin"},end:{dateTime:"2020-05-22T15:00:00+02:00",timeZone:"Europe/Berlin"},recurringEventId:"3qtd6uscq4tsi6gc7nmmtpqlct",originalStartTime:{dateTime:"2020-05-22T14:00:00+02:00",timeZone:"Europe/Berlin"},iCalUID:"3qtd6uscq4tsi6gc7nmmtpqlct@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181161784712000"',id:"4eahs9ghkhrvkld72hogu9ph3e_20200523T140000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=NGVhaHM5Z2hraHJ2a2xkNzJob2d1OXBoM2VfMjAyMDA1MjNUMTQwMDAwWiB0ZXN0LmNhcmVlckZvdW5kcnlAZ21haWwuY29t",created:"2020-05-19T19:17:46.000Z",updated:"2020-05-27T12:01:32.356Z",summary:"Learn JavaScript",description:`Have you wondered how you can ask Google to show you the list of the top ten must-see places in London? And how Google presents you the list? How can you submit the details of an application? Well, JavaScript is doing these. :) 

Javascript offers interactivity to a dull, static website. Come, learn JavaScript with us and make those beautiful websites.`,location:"London, UK",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-23T16:00:00+02:00",timeZone:"Europe/Berlin"},end:{dateTime:"2020-05-23T17:00:00+02:00",timeZone:"Europe/Berlin"},recurringEventId:"4eahs9ghkhrvkld72hogu9ph3e",originalStartTime:{dateTime:"2020-05-23T16:00:00+02:00",timeZone:"Europe/Berlin"},iCalUID:"4eahs9ghkhrvkld72hogu9ph3e@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181159875584000"',id:"3qtd6uscq4tsi6gc7nmmtpqlct_20200524T120000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=M3F0ZDZ1c2NxNHRzaTZnYzdubW10cHFsY3RfMjAyMDA1MjRUMTIwMDAwWiB0ZXN0LmNhcmVlckZvdW5kcnlAZ21haWwuY29t",created:"2020-05-19T19:14:30.000Z",updated:"2020-05-27T11:45:37.792Z",summary:"React is Fun",description:`Love HTML, CSS, and JS? Want to become a cool front-end developer? 

React is one of the most popular front-end frameworks. There is a huge number of job openings for React developers in most cities. 

Join us in our free React training sessions and give your career a new direction. `,location:"Berlin, Germany",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-24T14:00:00+02:00",timeZone:"Europe/Berlin"},end:{dateTime:"2020-05-24T15:00:00+02:00",timeZone:"Europe/Berlin"},recurringEventId:"3qtd6uscq4tsi6gc7nmmtpqlct",originalStartTime:{dateTime:"2020-05-24T14:00:00+02:00",timeZone:"Europe/Berlin"},iCalUID:"3qtd6uscq4tsi6gc7nmmtpqlct@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181159875584000"',id:"7cbmsqfircdnb9ic86r5dk3lvo_20200525T120000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=N2NibXNxZmlyY2RuYjlpYzg2cjVkazNsdm9fMjAyMDA1MjVUMTIwMDAwWiB0ZXN0LmNhcmVlckZvdW5kcnlAZ21haWwuY29t",created:"2020-05-19T19:14:30.000Z",updated:"2020-05-27T11:45:37.792Z",summary:"NodeJS Workshop",description:"Join us for an intensive workshop on Node.js, the popular JavaScript runtime that's revolutionizing server-side development. Learn how to build scalable network applications.",location:"New York, NY, USA",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-25T14:00:00-04:00",timeZone:"America/New_York"},end:{dateTime:"2020-05-25T17:00:00-04:00",timeZone:"America/New_York"},recurringEventId:"7cbmsqfircdnb9ic86r5dk3lvo",originalStartTime:{dateTime:"2020-05-25T14:00:00-04:00",timeZone:"America/New_York"},iCalUID:"7cbmsqfircdnb9ic86r5dk3lvo@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181159875584000"',id:"8efgh3klmno4pqr7stuv8wxyz1_20200526T120000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=OGVmZ2gza2xtbm80cHFyN3N0dXY4d3h5ejFfMjAyMDA1MjZUMTIwMDAwWiB0ZXN0LmNhcmVlckZvdW5kcnlAZ21haWwuY29t",created:"2020-05-19T19:14:30.000Z",updated:"2020-05-27T11:45:37.792Z",summary:"Python for Beginners",description:"Discover the power of Python! This beginner-friendly workshop will introduce you to one of the most popular programming languages in the world. Perfect for data science, web development, and automation.",location:"San Francisco, CA, USA",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-26T10:00:00-07:00",timeZone:"America/Los_Angeles"},end:{dateTime:"2020-05-26T13:00:00-07:00",timeZone:"America/Los_Angeles"},recurringEventId:"8efgh3klmno4pqr7stuv8wxyz1",originalStartTime:{dateTime:"2020-05-26T10:00:00-07:00",timeZone:"America/Los_Angeles"},iCalUID:"8efgh3klmno4pqr7stuv8wxyz1@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181159875584000"',id:"9abcd2efgh5ijkl8mnop1qrst4_20200527T120000Z",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=OWFiY2QyZWZnaDVpamtsOG1ub3AxcXJzdDRfMjAyMDA1MjdUMTIwMDAwWiB0ZXN0LmNhcmVlckZvdW5kcnlAZ21haWwuY29t",created:"2020-05-19T19:14:30.000Z",updated:"2020-05-27T11:45:37.792Z",summary:"Data Science Meetup",description:"Join data enthusiasts from around the world! Learn about machine learning, statistical analysis, and data visualization. Network with professionals and discover new career opportunities in data science.",location:"Sydney, NSW, Australia",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-27T18:00:00+10:00",timeZone:"Australia/Sydney"},end:{dateTime:"2020-05-27T21:00:00+10:00",timeZone:"Australia/Sydney"},recurringEventId:"9abcd2efgh5ijkl8mnop1qrst4",originalStartTime:{dateTime:"2020-05-27T18:00:00+10:00",timeZone:"Australia/Sydney"},iCalUID:"9abcd2efgh5ijkl8mnop1qrst4@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"},{kind:"calendar#event",etag:'"3181159875584000"',id:"1xyz7uvw2abc8def3ghi9jkl4mno",status:"confirmed",htmlLink:"https://www.google.com/calendar/event?eid=MXh5ejd1dncyYWJjOGRlZjNnaGk5amtsNG1ub18yMDIwMDUyOFQxMjAwMDBaIHRlc3QuY2FyZWVyRm91bmRyeUBnbWFpbC5jb20",created:"2020-05-19T19:14:30.000Z",updated:"2020-05-27T11:45:37.792Z",summary:"CSS Grid Workshop",description:"Master modern CSS layout with CSS Grid! Learn how to create responsive, flexible layouts that work perfectly across all devices. From basic concepts to advanced techniques.",location:"Toronto, ON, Canada",creator:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},organizer:{email:"fullstack-webdev@careerfoundry.com",displayName:"CareerFoundry"},start:{dateTime:"2020-05-28T13:00:00-04:00",timeZone:"America/Toronto"},end:{dateTime:"2020-05-28T16:00:00-04:00",timeZone:"America/Toronto"},iCalUID:"1xyz7uvw2abc8def3ghi9jkl4mno@google.com",sequence:0,reminders:{useDefault:!0},eventType:"default"}],vn=async()=>{if(!navigator.onLine){const p=localStorage.getItem("lastEvents");if(p){console.log("Loading events from cache (offline mode)");try{const y=JSON.parse(p);return Array.isArray(y)?y:Fe}catch(y){return console.error("Error parsing cached events:",y),Fe}}return console.log("No cached events found, using mock data"),Fe}const j=new URLSearchParams(window.location.search).get("code");if(j&&j.trim()!==""){Dt();try{const p=await Mt(j);return localStorage.removeItem("lastOAuthRedirect"),await Ct(p)}catch(p){if(console.error("Error fetching events:",p),p.message&&p.message.includes("invalid_grant"))return console.log("Authorization code expired or invalid, redirecting to OAuth..."),localStorage.removeItem("access_token"),await St();const y=localStorage.getItem("lastEvents");if(y){console.log("Using cached events due to API error");try{const g=JSON.parse(y);return Array.isArray(g)?g:Fe}catch(g){return console.error("Error parsing cached events:",g),Fe}}return Fe}}const i=localStorage.getItem("access_token");return i?(await hn(i)).error?(localStorage.removeItem("access_token"),await St()):await Ct(i):await St()},St=async()=>{if(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")return console.log("Development mode: Using mock data. In production, user would be redirected to OAuth."),Fe;const I=localStorage.getItem("lastOAuthRedirect"),j=Date.now();if(I&&j-parseInt(I)<1e4)return console.warn("Recent OAuth redirect detected, using mock data to prevent infinite loop"),Fe;try{localStorage.setItem("lastOAuthRedirect",j.toString());const i=await Ft();return window.location.href=i,[]}catch(i){return console.error("Failed to redirect to OAuth:",i),localStorage.removeItem("lastOAuthRedirect"),Fe}},Ct=async I=>{try{const j=`${Et}/api/get-events/${I}`;console.log("Fetching events from:",j);const i=await fetch(j,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(console.log("Events API response status:",i.status),console.log("Events API response headers:",Object.fromEntries(i.headers.entries())),!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const y=(await i.json()).events||[];try{localStorage.setItem("lastEvents",JSON.stringify(y)),localStorage.setItem("lastEventsTimestamp",Date.now().toString()),console.log("Real events cached for offline use")}catch(g){console.warn("Failed to cache events:",g)}return y}catch(j){console.error("Error fetching events from Google Calendar API:",j),j instanceof TypeError&&j.message.includes("Failed to fetch")&&(console.error("This appears to be a CORS or network connectivity issue"),console.error("Check:"),console.error("1. Network connectivity"),console.error("2. CORS configuration on the server"),console.error("3. Server availability"));const i=localStorage.getItem("lastEvents");if(i){console.log("API failed, loading events from cache");try{const p=JSON.parse(i);return Array.isArray(p)?p:Fe}catch(p){return console.error("Error parsing cached events:",p),Fe}}return console.log("API failed and no cache available, using mock data"),Fe}},gn=I=>{if(!I||!Array.isArray(I))return[];const j=I.filter(p=>p&&p.location).map(p=>p.location);return[...new Set(j)].sort()};var Tt={exports:{}};/*! AtatusJs - v4.6.5 - 2025-07-24
* Copyright (c) 2025 Atatus */var At;function yn(){return At||(At=1,function(I,j){(function(){typeof window<"u"&&(function(i){function p(_,q){return Object.prototype.hasOwnProperty.call(_,q)}function y(_){return typeof _>"u"}if(i){var g={},P=i.TraceKit,z=[].slice,R="?";g.noConflict=function(){return i.TraceKit=P,g},g.wrap=function(_){function q(){try{return _.apply(this,arguments)}catch(m){throw g.report(m),m}}try{if(typeof _!="function"||!_.apply)return _}catch{return _}return q},g.report=function(){function _(l){F(),T.push(l)}function q(l){for(var A=T.length-1;A>=0;--A)T[A]===l&&T.splice(A,1)}function m(l,A,J){var ie=null;if(!A||g.collectWindowErrors){for(var ee in T)if(p(T,ee))try{T[ee](l,A,J)}catch(b){ie=b}if(ie)throw ie}}function s(l,A,J,ie,ee){var b=null;if(ne)g.computeStackTrace.augmentStackTraceWithInitialElement(ne,A,J,l),O();else if(ee)b=g.computeStackTrace(ee),m(b,!0,ee);else{var L={url:A,line:J,column:ie};L.func=g.computeStackTrace.guessFunctionName(L.url,L.line),L.context=g.computeStackTrace.gatherContext(L.url,L.line),b={mode:"onerror",message:l,stack:[L]},m(b,!0,null)}return h?h.apply(this,arguments):!1}function F(){S!==!0&&(h=i.onerror,i.onerror=s,S=!0)}function O(){var l=ne,A=X;ne=null,X=null,m(l,!1,A)}function M(l){if(ne){if(X===l)return;O()}var A=g.computeStackTrace(l);throw ne=A,X=l,i.setTimeout(function(){X===l&&O()},A.incomplete?2e3:0),l}var h,S,T=[],X=null,ne=null;return M.subscribe=_,M.unsubscribe=q,M}(),g.computeStackTrace=function(){function _(b){return typeof b!="string"?[]:""}function q(b){if(typeof b!="string")return[];if(!p(ee,b)){var L="",x="";try{x=i.document.domain}catch{}var V=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(b);V&&V[2]===x&&(L=_(b)),ee[b]=L?L.split(`
`):[]}return ee[b]}function m(b,L){var x,V=/function ([^(]*)\(([^)]*)\)/,W=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,ae="",fe=10,re=q(b);if(!re.length)return R;for(var oe=0;fe>oe;++oe)if(ae=re[L-oe]+ae,!y(ae)&&((x=W.exec(ae))||(x=V.exec(ae))))return x[1];return R}function s(b,L){var x=q(b);if(!x.length)return null;var V=[],W=Math.floor(g.linesOfContext/2),ae=W+g.linesOfContext%2,fe=Math.max(0,L-W-1),re=Math.min(x.length,L+ae-1);L-=1;for(var oe=fe;re>oe;++oe)y(x[oe])||V.push(x[oe]);return V.length>0?V:null}function F(b){return b.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function O(b){return F(b).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function M(b,L){for(var x,V,W=0,ae=L.length;ae>W;++W)if((x=q(L[W])).length&&(x=x.join(`
`),V=b.exec(x)))return{url:L[W],line:x.substring(0,V.index).split(`
`).length,column:V.index-x.lastIndexOf(`
`,V.index)-1};return null}function h(b,L,x){var V,W=q(L),ae=new RegExp("\\b"+F(b)+"\\b");return x-=1,W&&W.length>x&&(V=ae.exec(W[x]))?V.index:null}function S(b){if(!y(i&&i.document)){for(var L,x,V,W,ae=[i.location.href],fe=i.document.getElementsByTagName("script"),re=""+b,oe=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,se=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,ce=0;ce<fe.length;++ce){var pe=fe[ce];pe.src&&ae.push(pe.src)}if(V=oe.exec(re)){var Ie=V[1]?"\\s+"+V[1]:"",ve=V[2].split(",").join("\\s*,\\s*");L=F(V[3]).replace(/;$/,";?"),x=new RegExp("function"+Ie+"\\s*\\(\\s*"+ve+"\\s*\\)\\s*{\\s*"+L+"\\s*}")}else x=new RegExp(F(re).replace(/\s+/g,"\\s+"));if(W=M(x,ae))return W;if(V=se.exec(re)){var Ee=V[1];if(L=O(V[2]),x=new RegExp("on"+Ee+`=[\\'"]\\s*`+L+`\\s*[\\'"]`,"i"),(W=M(x,ae[0]))||(x=new RegExp(L),W=M(x,ae)))return W}return null}}function T(b){if(!b.stack)return null;for(var L,x,V=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|webpack|eval).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,W=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,ae=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,fe=b.stack.split(`
`),re=[],oe=/^(.*) is undefined$/.exec(b.message),se=0,ce=fe.length;ce>se;++se){if(L=V.exec(fe[se])){var pe=L[2]&&L[2].indexOf("native")!==-1;x={url:pe?null:L[2],func:L[1]||R,args:pe?[L[2]]:[],line:L[3]?+L[3]:null,column:L[4]?+L[4]:null}}else if(L=ae.exec(fe[se]))x={url:L[2],func:L[1]||R,args:[],line:+L[3],column:L[4]?+L[4]:null};else{if(!(L=W.exec(fe[se])))continue;x={url:L[3],func:L[1]||R,args:L[2]?L[2].split(","):[],line:L[4]?+L[4]:null,column:L[5]?+L[5]:null}}!x.func&&x.line&&(x.func=m(x.url,x.line)),x.line&&(x.context=s(x.url,x.line)),re.push(x)}return re.length?(re[0]&&re[0].line&&!re[0].column&&oe?re[0].column=h(oe[1],re[0].url,re[0].line):re[0].column||y(b.columnNumber)||(re[0].column=b.columnNumber+1),{mode:"stack",name:b.name,message:b.message,stack:re}):null}function X(b){var L=b.stacktrace;if(L){for(var x,V=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,W=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,ae=L.split(`
`),fe=[],re=0;re<ae.length;re+=2){var oe=null;if((x=V.exec(ae[re]))?oe={url:x[2],line:+x[1],column:null,func:x[3],args:[]}:(x=W.exec(ae[re]))&&(oe={url:x[6],line:+x[1],column:+x[2],func:x[3]||x[4],args:x[5]?x[5].split(","):[]}),oe){if(!oe.func&&oe.line&&(oe.func=m(oe.url,oe.line)),oe.line)try{oe.context=s(oe.url,oe.line)}catch{}oe.context||(oe.context=[ae[re+1]]),fe.push(oe)}}return fe.length?{mode:"stacktrace",name:b.name,message:b.message,stack:fe}:null}}function ne(b){var L=b.message.split(`
`);if(L.length<4)return null;var x,V=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,W=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,ae=/^\s*Line (\d+) of function script\s*$/i,fe=[],re=i&&i.document&&i.document.getElementsByTagName("script"),oe=[];for(var se in re)p(re,se)&&!re[se].src&&oe.push(re[se]);for(var ce=2;ce<L.length;ce+=2){var pe=null;if(x=V.exec(L[ce]))pe={url:x[2],func:x[3],args:[],line:+x[1],column:null};else if(x=W.exec(L[ce])){pe={url:x[3],func:x[4],args:[],line:+x[1],column:null};var Ie=+x[1],ve=oe[x[2]-1];if(ve){var Ee=q(pe.url);if(Ee){Ee=Ee.join(`
`);var Re=Ee.indexOf(ve.innerText);Re>=0&&(pe.line=Ie+Ee.substring(0,Re).split(`
`).length)}}}else if(x=ae.exec(L[ce])){var Ce=i.location.href.replace(/#.*$/,""),ke=new RegExp(O(L[ce+1])),k=M(ke,[Ce]);pe={url:Ce,func:"",args:[],line:k?k.line:x[1],column:null}}if(pe){pe.func||(pe.func=m(pe.url,pe.line));var C=s(pe.url,pe.line),B=C?C[Math.floor(C.length/2)]:null;pe.context=C&&B.replace(/^\s*/,"")===L[ce+1].replace(/^\s*/,"")?C:[L[ce+1]],fe.push(pe)}}return fe.length?{mode:"multiline",name:b.name,message:L[0],stack:fe}:null}function l(b,L,x,V){var W={url:L,line:x};if(W.url&&W.line){b.incomplete=!1,W.func||(W.func=m(W.url,W.line)),W.context||(W.context=s(W.url,W.line));var ae=/ '([^']+)' /.exec(V);if(ae&&(W.column=h(ae[1],W.url,W.line)),b.stack.length>0&&b.stack[0].url===W.url){if(b.stack[0].line===W.line)return!1;if(!b.stack[0].line&&b.stack[0].func===W.func)return b.stack[0].line=W.line,b.stack[0].context=W.context,!1}return b.stack.unshift(W),b.partial=!0,!0}return b.incomplete=!0,!1}function A(b,L){for(var x,V,W,ae=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,fe=[],re={},oe=!1,se=A.caller;se&&!oe;se=se.caller)if(se!==J&&se!==g.report){if(V={url:null,func:R,args:[],line:null,column:null},se.name?V.func=se.name:(x=ae.exec(se.toString()))&&(V.func=x[1]),typeof V.func>"u")try{V.func=x.input.substring(0,x.input.indexOf("{"))}catch{}if(W=S(se)){V.url=W.url,V.line=W.line,V.func===R&&(V.func=m(V.url,V.line));var ce=/ '([^']+)' /.exec(b.message||b.description);ce&&(V.column=h(ce[1],W.url,W.line))}re[""+se]?oe=!0:re[""+se]=!0,fe.push(V)}L&&fe.splice(0,L);var pe={mode:"callers",name:b.name,message:b.message,stack:fe};return l(pe,b.sourceURL||b.fileName,b.line||b.lineNumber,b.message||b.description),pe}function J(b,L){var x=null;L=L==null?0:+L;try{if(x=X(b))return x}catch{}try{if(x=T(b))return x}catch{}try{if(x=ne(b))return x}catch{}try{if(x=A(b,L+1))return x}catch{}return{mode:"failed"}}function ie(b){b=(b==null?0:+b)+1;try{throw new Error}catch(L){return J(L,b+1)}}var ee={};return J.augmentStackTraceWithInitialElement=l,J.guessFunctionName=m,J.gatherContext=s,J.ofCaller=ie,J.getSource=q,J}(),g.extendToAsynchronousCallbacks=function(){var _=function(q){var m=i[q];i[q]=function(){var s=z.call(arguments),F=s[0];return typeof F=="function"&&(s[0]=g.wrap(F)),m.apply?m.apply(this,s):m(s[0],s[1])}};_("setTimeout"),_("setInterval")},g.remoteFetching||(g.remoteFetching=!0),g.collectWindowErrors||(g.collectWindowErrors=!0),(!g.linesOfContext||g.linesOfContext<1)&&(g.linesOfContext=11),i.TraceKit=g}}(typeof window<"u"?window:nt),function(i,p){if(i&&i.event&&i.event.add){var y=i.event.add;i.event.add=function(z,R,_,q,m){if(typeof _!="function"&&typeof _.handler!="function")return y.call(this,z,R,_,q,m);var s;return _.handler?(s=_.handler,_.handler=p.wrap(_.handler)):(s=_,_=p.wrap(_)),_.guid=s.guid?s.guid:s.guid=i.guid++,y.call(this,z,R,_,q,m)};var g=i.fn.ready;i.fn.ready=function(z){return g.call(this,p.wrap(z))};var P=i.ajax;i.ajax=function(z,R){typeof z=="object"&&(R=z,z=void 0),R=R||{};for(var _,q=["complete","error","success"];_=q.pop();)i.isFunction(R[_])&&(R[_]=p.wrap(R[_]));try{return z?P.call(this,z,R):P.call(this,R)}catch(m){throw p.report(m),m}}}}(window.jQuery,window.TraceKit),window.webVitals=function(i){var p,y,g,P,z,R=-1,_=function(Z){addEventListener("pageshow",function(H){H.persisted&&(R=H.timeStamp,Z(H))},!0)},q=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},m=function(){var Z=q();return Z&&Z.activationStart||0},s=function(Z,H){var Y=q(),le="navigate";return R>=0?le="back-forward-cache":Y&&(document.prerendering||m()>0?le="prerender":document.wasDiscarded?le="restore":Y.type&&(le=Y.type.replace(/_/g,"-"))),{name:Z,value:H===void 0?-1:H,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:le}},F=function(Z,H,Y){try{if(PerformanceObserver.supportedEntryTypes.includes(Z)){var le=new PerformanceObserver(function($){Promise.resolve().then(function(){H($.getEntries())})});return le.observe(Object.assign({type:Z,buffered:!0},Y||{})),le}}catch{}},O=function(Z,H,Y,le){var $,me;return function(xe){H.value>=0&&(xe||le)&&((me=H.value-($||0))||$===void 0)&&($=H.value,H.delta=me,H.rating=function(_e,ye){return _e>ye[1]?"poor":_e>ye[0]?"needs-improvement":"good"}(H.value,Y),Z(H))}},M=function(Z){requestAnimationFrame(function(){return requestAnimationFrame(function(){return Z()})})},h=function(Z){var H=function(Y){Y.type!=="pagehide"&&document.visibilityState!=="hidden"||Z(Y)};addEventListener("visibilitychange",H,!0),addEventListener("pagehide",H,!0)},S=function(Z){var H=!1;return function(Y){H||(Z(Y),H=!0)}},T=-1,X=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},ne=function(Z){document.visibilityState==="hidden"&&T>-1&&(T=Z.type==="visibilitychange"?Z.timeStamp:0,A())},l=function(){addEventListener("visibilitychange",ne,!0),addEventListener("prerenderingchange",ne,!0)},A=function(){removeEventListener("visibilitychange",ne,!0),removeEventListener("prerenderingchange",ne,!0)},J=function(){return 0>T&&(T=X(),l(),_(function(){setTimeout(function(){T=X(),l()},0)})),{get firstHiddenTime(){return T}}},ie=function(Z){document.prerendering?addEventListener("prerenderingchange",function(){return Z()},!0):Z()},ee=[1800,3e3],b=function(Z,H){H=H||{},ie(function(){var Y,le=J(),$=s("FCP"),me=F("paint",function(xe){xe.forEach(function(_e){_e.name==="first-contentful-paint"&&(me.disconnect(),_e.startTime<le.firstHiddenTime&&($.value=Math.max(_e.startTime-m(),0),$.entries.push(_e),Y(!0)))})});me&&(Y=O(Z,$,ee,H.reportAllChanges),_(function(xe){$=s("FCP"),Y=O(Z,$,ee,H.reportAllChanges),M(function(){$.value=performance.now()-xe.timeStamp,Y(!0)})}))})},L=[.1,.25],x=function(Z,H){H=H||{},b(S(function(){var Y,le=s("CLS",0),$=0,me=[],xe=function(ye){ye.forEach(function(je){if(!je.hadRecentInput){var De=me[0],qe=me[me.length-1];$&&je.startTime-qe.startTime<1e3&&je.startTime-De.startTime<5e3?($+=je.value,me.push(je)):($=je.value,me=[je])}}),$>le.value&&(le.value=$,le.entries=me,Y())},_e=F("layout-shift",xe);_e&&(Y=O(Z,le,L,H.reportAllChanges),h(function(){xe(_e.takeRecords()),Y(!0)}),_(function(){$=0,le=s("CLS",0),Y=O(Z,le,L,H.reportAllChanges),M(function(){return Y()})}),setTimeout(Y,0))}))},V={passive:!0,capture:!0},W=new Date,ae=function(Z,H){p||(p=H,y=Z,g=new Date,oe(removeEventListener),fe())},fe=function(){if(y>=0&&g-W>y){var Z={entryType:"first-input",name:p.type,target:p.target,cancelable:p.cancelable,startTime:p.timeStamp,processingStart:p.timeStamp+y};P.forEach(function(H){H(Z)}),P=[]}},re=function(Z){if(Z.cancelable){var H=(Z.timeStamp>1e12?new Date:performance.now())-Z.timeStamp;Z.type=="pointerdown"?function(Y,le){var $=function(){ae(Y,le),xe()},me=function(){xe()},xe=function(){removeEventListener("pointerup",$,V),removeEventListener("pointercancel",me,V)};addEventListener("pointerup",$,V),addEventListener("pointercancel",me,V)}(H,Z):ae(H,Z)}},oe=function(Z){["mousedown","keydown","touchstart","pointerdown"].forEach(function(H){return Z(H,re,V)})},se=[100,300],ce=function(Z,H){H=H||{},ie(function(){var Y,le=J(),$=s("FID"),me=function(ye){ye.startTime<le.firstHiddenTime&&($.value=ye.processingStart-ye.startTime,$.entries.push(ye),Y(!0))},xe=function(ye){ye.forEach(me)},_e=F("first-input",xe);Y=O(Z,$,se,H.reportAllChanges),_e&&h(S(function(){xe(_e.takeRecords()),_e.disconnect()})),_e&&_(function(){var ye;$=s("FID"),Y=O(Z,$,se,H.reportAllChanges),P=[],y=-1,p=null,oe(addEventListener),ye=me,P.push(ye),fe()})})},pe=0,Ie=1/0,ve=0,Ee=function(Z){Z.forEach(function(H){H.interactionId&&(Ie=Math.min(Ie,H.interactionId),ve=Math.max(ve,H.interactionId),pe=ve?(ve-Ie)/7+1:0)})},Re=function(){return z?pe:performance.interactionCount||0},Ce=function(){"interactionCount"in performance||z||(z=F("event",Ee,{type:"event",buffered:!0,durationThreshold:0}))},ke=[200,500],k=0,C=function(){return Re()-k},B=[],G={},te=function(Z){var H=B[B.length-1],Y=G[Z.interactionId];if(Y||B.length<10||Z.duration>H.latency){if(Y)Y.entries.push(Z),Y.latency=Math.max(Y.latency,Z.duration);else{var le={id:Z.interactionId,latency:Z.duration,entries:[Z]};G[le.id]=le,B.push(le)}B.sort(function($,me){return me.latency-$.latency}),B.splice(10).forEach(function($){delete G[$.id]})}},ue=function(Z,H){H=H||{},ie(function(){var Y;Ce();var le,$=s("INP"),me=function(_e){_e.forEach(function(De){De.interactionId&&te(De),De.entryType==="first-input"&&!B.some(function(qe){return qe.entries.some(function(Ue){return De.duration===Ue.duration&&De.startTime===Ue.startTime})})&&te(De)});var ye,je=(ye=Math.min(B.length-1,Math.floor(C()/50)),B[ye]);je&&je.latency!==$.value&&($.value=je.latency,$.entries=je.entries,le())},xe=F("event",me,{durationThreshold:(Y=H.durationThreshold)!==null&&Y!==void 0?Y:40});le=O(Z,$,ke,H.reportAllChanges),xe&&("interactionId"in PerformanceEventTiming.prototype&&xe.observe({type:"first-input",buffered:!0}),h(function(){me(xe.takeRecords()),$.value<0&&C()>0&&($.value=0,$.entries=[]),le(!0)}),_(function(){B=[],k=Re(),$=s("INP"),le=O(Z,$,ke,H.reportAllChanges)}))})},Te=[2500,4e3],be={},Ae=function(Z,H){H=H||{},ie(function(){var Y,le=J(),$=s("LCP"),me=function(ye){var je=ye[ye.length-1];je&&je.startTime<le.firstHiddenTime&&($.value=Math.max(je.startTime-m(),0),$.entries=[je],Y())},xe=F("largest-contentful-paint",me);if(xe){Y=O(Z,$,Te,H.reportAllChanges);var _e=S(function(){be[$.id]||(me(xe.takeRecords()),xe.disconnect(),be[$.id]=!0,Y(!0))});["keydown","click"].forEach(function(ye){addEventListener(ye,function(){return setTimeout(_e,0)},!0)}),h(_e),_(function(ye){$=s("LCP"),Y=O(Z,$,Te,H.reportAllChanges),M(function(){$.value=performance.now()-ye.timeStamp,be[$.id]=!0,Y(!0)})})}})},Oe=[800,1800],Me=function Z(H){document.prerendering?ie(function(){return Z(H)}):document.readyState!=="complete"?addEventListener("load",function(){return Z(H)},!0):setTimeout(H,0)},Be=function(Z,H){H=H||{};var Y=s("TTFB"),le=O(Z,Y,Oe,H.reportAllChanges);Me(function(){var $=q();if($){var me=$.responseStart;if(0>=me||me>performance.now())return;Y.value=Math.max(me-m(),0),Y.entries=[$],le(!0),_(function(){Y=s("TTFB",0),(le=O(Z,Y,Oe,H.reportAllChanges))(!0)})}})};return i.CLSThresholds=L,i.FCPThresholds=ee,i.FIDThresholds=se,i.INPThresholds=ke,i.LCPThresholds=Te,i.TTFBThresholds=Oe,i.getCLS=x,i.getFCP=b,i.getFID=ce,i.getINP=ue,i.getLCP=Ae,i.getTTFB=Be,i.onCLS=x,i.onFCP=b,i.onFID=ce,i.onINP=ue,i.onLCP=Ae,i.onTTFB=Be,Object.defineProperty(i,"__esModule",{value:!0}),i}({}),function(i,p,y,g){function P(){try{W=null,h()&&localStorage.removeItem(De),ae=null,N.createCookie(qe,"",-1)}catch(n){N.log("Atatus Reset User",n)}}function z(n,r,v,a){if(n){W={},n&&(W.id=""+n),r&&(W.email=""+r),v&&(W.name=""+v),a&&(W.anonymous=a);try{h()&&localStorage.setItem(De,JSON.stringify(W)),ae=null,N.createCookie(qe,"",-1)}catch(o){N.log("Atatus Set User: Invalid JSON object in LocalStorage",o)}}}function R(){try{var n;if(h()&&(n=localStorage.getItem(De)),n)W=JSON.parse(n),ae=null;else{var r,v=N.readCookie(qe);v&&(r=N.readCookieElement(v,"id")),r&&r!=="undefined"?ae=r:(ae=N.uuid4(),N.createCookie(qe,ae))}}catch(a){N.log("Atatus Get User: Invalid JSON object in LocalStorage",a)}}function _(n){var r=n,v=n.split("//")[1];if(v){var a=v.indexOf("?"),o=v.toString().substring(0,a),e=o.split("/").slice(0,4).join("/"),t=o.substring(0,48);r=e.length<t.length?e:t,r!==o&&(r+="..")}return r}function q(n,r,v,a){if(r.status!==0&&r.getAllResponseHeaders()){var o="AJAX Error: "+(r.statusText||"unknown")+" "+(v.type||"unknown")+" "+(_(v.url)||"unknown");Q.send(a||n.type,{status:r.status,statusText:r.statusText,type:v.type,url:v.url,ajaxErrorMessage:o,contentType:v.contentType,requestData:v.data&&v.data.slice?v.data.slice(0,10240):g,responseData:r.responseText&&r.responseText.slice?r.responseText.slice(0,10240):g,activeTarget:n.target&&n.target.activeElement&&n.target.activeElement.outerHTML&&n.target.activeElement.outerHTML.slice?n.target.activeElement.outerHTML.slice(0,10240):g})}}function m(n){if(N.log("Atatus: Caught unhandled promise rejection:",n),n){var r=n.reason||"<no reason specified>";r&&(r instanceof Error||r.message)?Q.notify(r):(r=typeof r=="object"?"<object>":typeof r=="function"?"<function>":r,Q.notify(new Error("UnhandledRejection: "+r)))}}function s(){"addEventListener"in i&&i.addEventListener("unhandledrejection",m)}function F(){"removeEventListener"in i&&i.removeEventListener("unhandledrejection",m)}function O(){return x&&x!==""?!0:(N.log("Atatus API key has not been configured, make sure you call atatus.config(yourApiKey)"),!1)}function M(){var n=p.documentElement,r=p.getElementsByTagName("body")[0],v=i.innerWidth||n.clientWidth||r.clientWidth,a=i.innerHeight||n.clientHeight||r.clientHeight;return{width:v,height:a}}function h(){try{return"localStorage"in i&&i.localStorage!==null}catch{return!1}}function S(n){try{if(h()&&localStorage.length<50){var r=new Date().toJSON(),v="atatusjs="+r+"="+N.getRandomInt();typeof localStorage[v]>"u"&&(localStorage[v]=n)}else N.log("Atatus: Reached local storage limit.")}catch{N.log("Atatus: LocalStorage full, cannot save exception")}}function T(){try{if(h()&&localStorage.length>0){for(var n in localStorage)if(n.substring(0,9)==="atatusjs="){try{var r=JSON.parse(localStorage[n]);"apikey"in r&&l(Je,r)}catch{N.log("Atatus: Invalid JSON object in LocalStorage")}localStorage.removeItem(n)}}}catch(v){N.log("Atatus sendSavedErrors: LocalStorage read failed!",v)}}function X(n,r){if(r=N.isObject(r)?r:{},!n||!n.stack||!n.stack.length)return void N.log("Atatus: Canceling send due to no stacktrace.");N.isObject(r.customData)||(r.customData=g),N.isArray(r.tags)||(r.tags=g);var v=r.customData&&r.customData.ajaxErrorMessage||n.message;if(v&&v.indexOf("Uncaught ")===0&&(v=n.message.substring(9)),v=v||r.status||"Script error.",Re&&Re.test(v))return void N.log("Atatus: canceling send due to Script error or ignored errors.");v=v.substr(0,at);var a=[];n.stack&&n.stack.length&&N.forEach(n.stack,function(f,w){N.endsWith(w.url,"/atatus.js")||N.endsWith(w.url,"/atatus-spa.js")||N.endsWith(w.url,"/atatus-spa.min.js")||N.endsWith(w.url,"/atatus.min.js")||a.push({ln:parseInt(w.line||0),cn:parseInt(w.column||0),f:w.url||"anonymous",m:w.func||"[anonymous]"})});var o=[n.name,v,JSON.stringify(a)].join("|");if(o===Ce){if(ye++,ye>=je)return void N.log("Atatus: canceling send due to duplicate errors")}else Ce=o,ye=0;var e=r.customData;try{JSON.stringify(e)}catch{var t="Cannot add custom data; may contain circular reference";e={error:t},N.log("Atatus: "+t)}var u=Ke.getAllEvents();Ge.clear();var c={class:n.name,url:p.location.href,message:v,name:v,backTraces:a,breadCrumbs:u,customData:e||null,tags:r.tags,ts:new Date().getTime()};if(typeof k=="function"&&(c.groupingKey=k(c)),typeof B=="function"){var d=B(c);d&&(delete c.name,ne(c))}else delete c.name,ne(c)}function ne(n){return oe?void N.log("Error Tracking is disabled."):void l(Je,{customData:V||null,errors:[n]})}function l(n,r){if(O()){if(!Q._isAllowedUrl(location.href))return void N.log("Atatus: canceling send due to not an allowed domain/url.");if(!r.ts){var v=i.screen||M();r.ts=new Date().getTime(),r.apikey=x,r.request={url:p.location.href,ua:navigator.userAgent,w:v.width,h:v.height},r.connection=He,r.tags=r.tags||Me,r.user=W&&W.id?W:null,r.aid=ae||null,r.sid=Q.sessionId||"",r.v=fe||"",r._v=Q.VERSION||be}if(C){var a=C(r);if(!a)return void N.log("Atatus: canceling send due to false from beforeSend callback.")}if(ke&&ke(r),N.log("Sending data to Atatus Receiver:",r),n===et)ie(n,r);else if(n===it){if(!r.sid)return void N.log("Atatus: canceling session send due to empty session id.");if(Pe.session>=vt)return void N.log("Atatus: Canceling session send. Reached maximum number of requests!");Pe.session+=1,b(n,r)}else if(n===tt){if(Pe.spa>=yt)return void N.log("Atatus: Canceling SPA send. Reached maximum number of requests!");Pe.spa+=1,Pe.ajax=0,b(n,r)}else if(n===ot){if(Pe.webvitals>=st)return void N.log("Atatus: Canceling web vitals send. Reached maximum number of requests!");Pe.webvitals+=1,L(n,r)}else if(n===Ve){if(Pe.ajax>=mt)return void N.log("Atatus: Canceling AJAX send. Reached maximum number of requests!");Pe.ajax+=1,b(n,r)}else{if(n===Je){if(Pe.error>=pt)return void N.log("Atatus: Canceling error send. Reached maximum number of requests!");Pe.error+=1}else if(n===Xe){if(Pe.txn>=gt)return void N.log("Atatus: Canceling transaction send. Reached maximum number of requests!");Pe.txn+=1}J(n,r)}}}function A(n){return"apikey="+n.apikey+"&v="+n._v}function J(n,r){var v=Ue+n+"?data="+encodeURIComponent(JSON.stringify(r))+"&"+A(r);if(v.length>$e)return void N.log("Atatus: Canceling request send due to large payload size.");var a=new Image;a.crossOrigin="anonymous",a.onload=function(){T()},a.onerror=a.onabort=function(){$&&n===Je&&S(JSON.stringify(r))},a.src=v}function ie(n,r){var v=p.createElement("script"),a=Ue+n+"?data="+encodeURIComponent(JSON.stringify(r))+"&callback=atatus._setFeatures&"+A(r);v.type="text/javascript",v.src=a;var o=p.getElementsByTagName("script")[0];o.parentNode.insertBefore(v,o)}function ee(n,r){var v;return v=new i.XMLHttpRequest,"withCredentials"in v?v.open(n,r,!0):i.XDomainRequest&&(r=N.getTargetUrl(r),v=new i.XDomainRequest,v.open(n,r)),v.timeout=1e4,v}function b(n,r){var v=Ue+n+"?"+A(r),a=ee("POST",v);return a?(typeof a.setRequestHeader=="function"&&a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),"withCredentials"in a?(a.onreadystatechange=function(){a.readyState},a.onload=function(){N.log("Sent data to Atatus. Status - "+a.status)}):i.XDomainRequest&&(a.ontimeout=function(){},a.onload=function(){N.log("Sent data to Atatus. Status - "+a.status)}),a.onerror=function(){N.log("Failed to send to Atatus. Status - "+a.status)},void a.send(JSON.stringify(r))):void N.log("XHR is not supported!")}function L(n,r){var v=Object.prototype.toString.call(i&&i.navigator)==="[object Navigator]",a=v&&typeof i.navigator.sendBeacon=="function";if(a){var o=i.navigator.sendBeacon.bind(i.navigator),e=Ue+n;return o(e,JSON.stringify(r))}J(n,r)}var x,V,W,ae,fe,re,oe,se,ce,pe,Ie,ve,Ee,Re,Ce,ke,k,C,B,G,te,ue,Te,be="4.6.5",Ae=i.TraceKit.noConflict(),Oe=i.atatus,Me=[],Be=!1,Z=[],H=[],Y=[],le=!1,$=!1,me=!1,xe=!0,_e=!1,ye=0,je=0,De="atatus-user",qe="atatus-aid",Ue="https://bm-rx.atatus.com",Je="/track/browser/errors",et="/track/browser/perf/pageload",Ve="/track/browser/perf/ajax",it="/track/browser/perf/session",tt="/track/browser/perf/spa",Xe="/track/browser/perf/txn",ot="/track/browser/perf/webvitals",$e=4e4,Ye=10,Qe=500,at=1e3,pt=20,mt=5,vt=10,gt=100,yt=100,st=3,Pe={error:0,ajax:0,session:0,txn:0,spa:0,webvitals:0},He=null,ct=["google-analytics.com","mixpanel.com","bam.nr-data.net","br-rx.atatus.com","bm-rx.atatus.com","segment.io","hotjar.io","hotjar.com","amplitude.com","fullstory.com","autopilothq.com","smartlook.com","charmerly.com","googleapis.com","logrocket.io","taboola.com","sentry.io","doubleclick.net","logentries.com","rb-collector.com","js.hs-banner.com","clarity.ms","lr-ingest.io","collector.replaybird.com","rum.browser-intake-datadoghq.com"];y&&(Te=y(p));var N={isBoolean:function(n){return typeof n<"u"&&typeof n=="boolean"},isString:function(n){return typeof n=="string"},isNumber:function(n){return typeof n=="number"},isFunction:function(n){return typeof n=="function"},isArray:function(n){return Object.prototype.toString.call(n)==="[object Array]"},isObject:function(n){return Object.prototype.toString.call(n)==="[object Object]"},serialize:function(n){if(!n)return"";if(N.isString(n)||N.isNumber(n)||N.isBoolean(n)||N.isFunction(n))return""+n;if(typeof n=="object")try{return JSON.stringify(n)}catch{return"Unserializable Object"}return""},endsWith:function(n,r){return n&&r?n.indexOf(r,n.length-r.length)!==-1:!1},joinRegExp:function(n){if(n.length===0)return null;for(var r,v=[],a=0,o=n.length;o>a;a++)r=n[a],N.isString(r)?v.push(r.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):r&&r.source&&v.push(r.source);return new RegExp(v.join("|"),"i")},getTargetUrl:function(n){return i.XDomainRequest&&le&&(n=n.slice(6)),n},now:function(){return new Date().getTime()},pad:function(n){return n=String(n),n.length===1&&(n="0"+n),n},merge:function(n,r){var v,a={};for(v in n)a[v]=n[v];for(v in r)a[v]=r[v];return a},mergeArray:function(n,r){return r!=null?n.concat(r):n},forEach:function(n,r){for(var v=0;v<n.length;v++)r.call(null,v,n[v])},isEmpty:function(n){for(var r in n)if(n.hasOwnProperty(r))return!1;return!0},getRandomInt:function(){return Math.floor(9007199254740992*Math.random())},log:function(n,r){Be&&i.console&&i.console.log&&(i.console.log(n),r&&i.console.log(r))},bind:function(n,r){return function(){return n.apply(r,Array.prototype.slice.call(arguments))}},canAllowInsecureSubmissions:function(){var n=i.navigator.userAgent,r=n.match(/Trident\/([\d.]+)/),v=r&&r[1]==="7.0"?11:(n=n.match(/MSIE ([\d.]+)/))?parseInt(n[1],10):!1;return v&&9>=v},uuid4:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(n){var r=16*Math.random()|0,v=n==="x"?r:3&r|8;return v.toString(16)})},addEventListener:function(n,r,v){return typeof i.attachEvent<"u"?i.attachEvent("on"+n,r):i.addEventListener?i.addEventListener(n,r,v):void 0},arrayFromObject:function(n){var r=[];for(var v in n)n.hasOwnProperty(v)&&r.push(n[v]);return r},createCookie:function(n,r,v,a,o){try{var e,t;if(v){var u=new Date;u.setTime(u.getTime()+60*v*60*1e3),e="; expires="+u.toGMTString()}else e="";var c=a?"; SameSite=Lax; secure":"; SameSite=Lax",d=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,f="";if(o){var w=p.location.hostname.match(d),E=w?w[0]:"";f=E?"; domain=."+E:""}return t=new Date().toISOString(),p.cookie=n+"=id|"+r+"&timestamp|"+t+e+"; path=/"+f+c,t}catch(D){N.log("Creating cookie failed.",D)}},clearCookie:function(n){this.createCookie(n,"",-1)},readCookieElement:function(n,r){var v=n.split(/[|&]/);return r==="id"?v[1]:r==="timestamp"?v[3]:void 0},readCookie:function(n){try{for(var r=n+"=",v=p.cookie.split(";"),a=0;a<v.length;a++){for(var o=v[a];o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(r)===0)return o.substring(r.length,o.length)}return null}catch(e){N.log("Reading cookie failed.",e)}}},Ge={eventObject:{},all:function(n){for(var r=this.getEventObject(n),v=[],a=0;a<r.length;a++)v.push(r[a].value);return v},clear:function(){for(var n in this.eventObject)this.eventObject.hasOwnProperty(n)&&(this.eventObject[n].length=0)},add:function(n,r){var v=this.getEventObject(n),a=N.uuid4();return r.m?r.m=r.m.length<=Qe?r.m:r.m.substr(0,Qe):r.e&&(r.e=r.e.length<=Qe?r.e:r.e.substr(0,Qe)),v.push({key:a,value:r}),this.truncateEventObject(n,Ye),a},get:function(n,r){for(var v=this.getEventObject(n),a=0;a<v.length;a++)if(v[a].key===r)return v[a].value;return!1},getEventObject:function(n){return this.eventObject[n]||(this.eventObject[n]=[]),this.eventObject[n]},truncateEventObject:function(n,r){var v=this.getEventObject(n);v.length>r&&(this.eventObject[n]=v.slice(v.length-r))}},ut={attach:function(n,r,v,a,o){n=n||i.console||{};for(var e=o||["log","debug","info","warn","error"],t=e.pop(),u=function(c,d,f){r&&Ge.add("timeline",{ts:N.now(),c:"console",l:c,m:N.serialize(d)}),c==="error"&&a&&Q.notify(new Error(d),f)};t;)this.wrapConsoleMethod(n,t,v,u),t=e.pop()},wrapConsoleMethod:function(n,r,v,a){var o=n[r],e=n;r in n&&(n[r]=function(){var t=[].slice.call(arguments),u=""+t.join(" "),c={level:r,logger:"console"};a&&a(r,u,c),o&&v&&Function.prototype.apply.call(o,e,t)})}},Ke={attach:function(){var n=N.bind(this.onDocumentClicked,this),r=N.bind(this.onInputChanged,this);p.addEventListener?(p.addEventListener("click",n,!0),p.addEventListener("blur",r,!0)):p.attachEvent&&(p.attachEvent("onclick",n),p.attachEvent("onfocusout",r))},writeUserEvent:function(n,r,v,a){this.getElementType(n)==="password"&&(v=void 0),Ge.add("timeline",{ts:N.now(),a:r,e:this.getOuterHTML(n),v:this.getValueKind(v,a)})},onDocumentClicked:function(n){var r=this.getElementFromEvent(n);r&&r.tagName&&(this.isTarget(r,"a")||this.isTarget(r,"button")||this.isTarget(r,"input",["button","submit"])?this.writeUserEvent(r,"click"):this.isTarget(r,"input",["checkbox","radio"])&&this.writeUserEvent(r,"check",r.value,r.checked))},onInputChanged:function(n){var r=this.getElementFromEvent(n);r&&r.tagName&&(this.isTarget(r,"textarea")?this.writeUserEvent(r,"input",r.value):this.isTarget(r,"select")&&r.options&&r.options.length?this.onSelectInputChanged(r):this.isTarget(r,"input")&&!this.isTarget(r,"input",["button","submit","hidden","checkbox","radio"])&&this.writeUserEvent(r,"input",r.value))},onSelectInputChanged:function(n){if(n.multiple){for(var r=0;r<n.options.length;r++)if(n.options[r].selected){this.writeUserEvent(n,"select",n.options[r].value);break}}else 0<=n.selectedIndex&&n.options[n.selectedIndex]&&this.writeUserEvent(n,"select",n.options[n.selectedIndex].value)},getElementFromEvent:function(n){return n.target||p.elementFromPoint(n.clientX,n.clientY)},isTarget:function(n,r,v){if(n.tagName.toLowerCase()!==r.toLowerCase())return!1;if(!v)return!0;for(var a=this.getElementType(n),o=0;o<v.length;o++)if(v[o]===a)return!0;return!1},getElementType:function(n){return(n.getAttribute("type")||"").toLowerCase()},getOuterHTML:function(n){for(var r="<"+n.tagName.toLowerCase(),v=n.attributes,a=0,o=v.length;o>a;a++){var e=v[a].name;e.toLowerCase()!=="value"&&(r+=" "+e+'="'+v[a].value+'"')}return r+=" >"},getValueKind:function(n,r){return n==null?null:{length:n.length,checked:r,pattern:this.matchInputPattern(n)}},matchInputPattern:function(n){return n===""?"empty":/^[a-z0-9!#$%&'*+=?\^_`{|}~\-]+(?:\.[a-z0-9!#$%&'*+=?\^_`{|}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/.test(n)?"email":/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(n)||/^(\d{4}[\/\-](0?[1-9]|1[012])[\/\-]0?[1-9]|[12][0-9]|3[01])$/.test(n)?"date":/^(?:(?:\+?1\s*(?:[.\-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.\-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.\-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(n)?"phone":/^\s*$/.test(n)?"whitespace":/^\d*$/.test(n)?"numeric":"character"},getAllEvents:function(){return Ge.all("timeline")}},Q={VERSION:be,paintPerformance:{},noConflict:function(){return i.atatus=Oe,Q},isConfigured:function(){return!!x},config:function(n,r){r=r||{},x=n,Ae.remoteFetching=!1,Re=[],Q.setCustomData(r.customData),Q.setTags(r.tags),Be=!!r.debugMode,me=!!r.reportAjaxErrors,xe=r.reportUnhandledRejections===g?!0:!!r.reportUnhandledRejections,_e=!!r.allowChromeExtension,re=!!r.disableBreadcrumbs,oe=!!r.disableErrorTracking,ve=!!r.disableRUM,ce=!!r.disableAjaxMonitoring,pe=r.disableSession===g?!1:r.disableSession,Ie=r.disableSPA===g?!1:r.disableSPA,ue=r.urlMaxLength,r.maxDuplicateErrors&&(je=r.maxDuplicateErrors>10?10:r.maxDuplicateErrors||0),le=N.canAllowInsecureSubmissions(),Q.setIgnoreUrls(r.ignoreUrls),Q.setWhitelistUrls(r.whitelistUrls),Q.setAllowedDomains(r.allowedDomains),Q.setVersion(r.version),Q.enableOffline(r.enableOffline||r.offline),Q.onBeforeSend(r.beforeSend),Q.onBeforeErrorSend(r.beforeErrorSend),Q.onTransformRouteUrl(r.transformRouteUrl),Q.setGroupingKeyCallback(r.groupingKeyCallback),r.ignoreErrors&&N.isArray(r.ignoreErrors)&&(Re=r.ignoreErrors),Re.push(/^Script error\.?$/),Re.push(/^Javascript error: Script error\.? on line 0$/),Re=N.joinRegExp(Re),T(),Ee={enabled:!1,timeline:!0,display:!0,error:!0,levels:null},N.isBoolean(r.console)&&(Ee.enabled=r.console),N.isBoolean(r.consoleTimeline)&&(Ee.timeline=r.consoleTimeline),N.isBoolean(r.consoleDisplay)&&(Ee.display=r.consoleDisplay),N.isBoolean(r.consoleErrorNotify)&&(Ee.error=r.consoleErrorNotify),N.isArray(r.consoleTimelineLevels)&&(Ee.levels=r.consoleTimelineLevels),Ee.enabled&&"console"in i&&i.console.log&&ut.attach(i.console,Ee.timeline,Ee.display,Ee.error,Ee.levels),Q.setHashRoutes(r.hashRoutes);var v=i.navigator.connection||i.navigator.mozConnection||i.navigator.webkitConnection;return v&&(He={},He.dlk=v.downlink,He.eft=v.effectiveType,He.rtt=v.rtt,He.type=v.type),Q},install:function(){if(!O()||!_e&&p.location.href.indexOf("chrome-extension://")!==-1)return Q;if(R(),re||Ke.attach(),oe||(Ae.report.subscribe(X),Ae.extendToAsynchronousCallbacks(),Te&&me&&Te.ajaxError(q),xe&&s()),ce||ve||Q.__attachAjaxHooks(),!pe&&!ve&&Q.SessionTracking){var n=function(){te=new Q.SessionTracking,te.attach()};i.addEventListener?i.addEventListener("load",n):i.attachEvent("onload",n)}return Ie||ve||!Q.spa||Q.spa.init({logLevel:Be?"debug":"warn",urlMaxLength:ue}),Q},uninstall:function(){return x=null,oe||(Ae.report.unsubscribe(X),Te&&me&&Te.unbind("ajaxError",q),xe&&F()),Q},setCustomData:function(n){return n?N.isObject(n)?V=n:N.log("Custom data must be an object."):V=null,Q},setTags:function(n){return n?N.isArray(n)?Me=n:N.log("Tags must be an array of string."):Me=[],Q},setHashRoutes:function(n){return n?(ke=function(r){if(r&&r.request&&r.request.url&&(r.request.url=r.request.url.replace("/#/","/").replace("#/","/")),r&&r.data&&r.data[0]&&r.data[0].spans)for(var v=0;v<r.data.length;v++)r.data[v].n=(r.data[v].n||"").replace("/#/","/").replace("#","");if(r&&r.slowestRoutes&&r.slowestRoutes[0])for(var a=0;a<r.slowestRoutes.length;a++)r.slowestRoutes[a].n=(r.slowestRoutes[a].n||"").replace("/#/","/").replace("#","")},Q):(ke=null,Q)},setIgnoreUrls:function(n){return n&&N.isArray(n)?Array.prototype.push.apply(n,ct):n=ct,H=N.joinRegExp(n),Q},getIgnoreUrls:function(){return H},setWhitelistUrls:function(n){return n&&N.isArray(n)&&(Y=N.joinRegExp(n)),Q},getWhitelistUrls:function(){return Y},setAllowedDomains:function(n){return n&&N.isArray(n)&&(Z=N.joinRegExp(n)),Q},getAllowedDomains:function(){return Z},setUser:function(n,r,v,a){return z(n,r,v,a),Q},resetUser:function(){return P(),Q},setVersion:function(n){return n&&(fe=""+n),Q},enableOffline:function(n){return N.isBoolean(n)&&($=n),Q},onBeforeSend:function(n){return N.isFunction(n)&&(C=n),Q},onBeforeErrorSend:function(n){return N.isFunction(n)&&(B=n),Q},onTransformRouteUrl:function(n){return N.isFunction(n)&&(G=n),Q},setGroupingKeyCallback:function(n){return N.isFunction(n)&&(k=n),Q},setAPIEndpoint:function(n){return Ue=n,Q},getAPIEndpoint:function(){return Ue},getTransformRouteUrlFn:function(){return G},init:function(n,r,v){return v&&(r=r||{},r.customData=v),Q.config(n,r)},withCustomData:function(n){return Q.setCustomData(n)},withTags:function(n){return Q.setTags(n)},attach:function(){return Q.install()},detach:function(){return Q.uninstall()},endSession:function(){return te&&te.endSession(),Q},endPageLoad:function(){i.atatus._pageLoadEndTime=Date.now()},_setFeatures:function(n){N.isObject(n)&&(ce=!!n.daj,pe=!!n.dss,Ie=!!n.dspa,ve=!!n.drum,oe=!!n.derror,se=!!n.dtxn,n.error&&N.log("Error in sending data to Atatus",n.error))},measureRoute:function(n){return te&&n&&te.virtualPageLoaded(n),Q},leaveBreadcrumb:function(n,r){return n?(Ge.add("timeline",{ts:N.now(),c:"breadcrumb",l:r||"info",m:N.serialize(n)}),Q):void 0},notify:function(n,r,v){return typeof n=="string"?void N.log("atatus.notify() was called with a string. Expected instance of Error."):Q.send(n,r,v)},sendPerf:function(n){return ve?void N.log("RUM is disabled."):l(et,n)},sendAjaxPerf:function(n){return ve||ce?void N.log("AJAX monitoring is disabled."):l(Ve,n)},sendSessionPerf:function(n){return ve||pe?void N.log("Session Tracking is disabled."):l(it,n)},sendSPAPerf:function(n){return ve||Ie?void N.log("SPA Tracking is disabled."):l(tt,n)},sendTxnPerf:function(n){return ve||se?void N.log("Transaction monitoring is disabled."):l(Xe,n)},sendWebVitals:function(n){return ve?void N.log("Web vitals is disabled."):l(ot,n)},send:function(n,r,v){try{X(Ae.computeStackTrace(n),{customData:r,tags:v})}catch(a){if(n!==a)throw a}return Q},_isAllowedUrl:function(n){return n=n||"",H&&H.test&&H.test(n)?!1:Y&&Y.test?!!Y.test(n):Z&&Z.test?!!Z.test(n):!0},_helper:N};i.atatus=Q,I.exports=Q,typeof nt<"u"&&(nt.atatus=Q)}(window,document,window.jQuery),function(i,p,y,g){function P(h){h.pl<=0||(h.nt=h.nt>0?h.nt:0,h.dp=h.dp>0?h.dp:0,h.pr=h.pr>0?h.pr:0,y.sendPerf(h))}function z(h,S){return typeof i.performance=="object"&&typeof i.performance[h]===S}function R(h){if(!z("getEntriesByName","function"))return h;var S=i.performance.getEntriesByName("first-paint");S.length>0&&S[0].startTime>0?h.fp=+S[0].startTime.toFixed(0):i.performance.timing&&i.performance.timing.msFirstPaint&&(h.fp=+(i.performance.timing.msFirstPaint-i.performance.timing.fetchStart).toFixed(0));var T=i.performance.getEntriesByName("first-contentful-paint");return T.length>0&&T[0].startTime>0&&(h.fcp=+T[0].startTime.toFixed(0)),y.paintPerformance={fp:h.fp,fcp:h.fcp},h}function _(){var h=i.performance||i.mozPerformance||i.msPerformance||i.webkitPerformance,S=h.timing;if(S.loadEventEnd===0)return!1;clearInterval(F),F=null;var T=S.navigationStart;0>=T&&(T=S.fetchStart);var X={};for(var ne in O)if(X[O[ne]]=-1,ne in S&&!(S[ne]<=0))if(i.atatus&&i.atatus._pageLoadEndTime){var l=S.loadEventEnd-T,A=i.atatus._pageLoadEndTime-T;X[O[ne]]=Math.round((S[ne]-T)*(A/l))}else X[O[ne]]=S[ne]-T;var J={nt:X.rps-X.ns,dp:X.dce-X.rps,pr:X.le-X.dce,pl:X.le-X.ns,timing:X};try{R(J)}catch{}P(J)}function q(){if(!s||!s.bDone)return!1;clearInterval(F),F=!1;var h=s.getMeasures();if(h!=null&&h.backend!=null&&h.frontend!=null&&h["page load time"]!=null&&h["total load time"]!=null){var S=h.backend,T=h.backend+h.frontend,X={nt:S,dp:T-S,pr:h["total load time"]-T,fe:h["total load time"]-S,pl:h["total load time"]};P(X)}}var m=new Date().getTime(),s=s||{};s.q=s.q||[],s.version="0.3",s.targetOrigin=p.location.protocol+"//"+p.location.hostname,s.bPostMessage=!1,s.beaconUrl=s.beaconUrl||"/images/beacon.gif",s.autorun=!1,s.init=function(){if(s.bDone=!1,s.bUnloaded=!1,s.marks={},s.measures={},s.starts={},s.findStartTime(),s.addEventListener("beforeunload",s.beforeUnload,!1),s.addEventListener("pagehide",s.beforeUnload,!1),s.addEventListener("unload",s.beforeUnload,!1),s.processQ(),p.readyState==="complete"){var h=i.performance||i.mozPerformance||i.msPerformance||i.webkitPerformance;h&&typeof h.timing<"u"&&typeof h.timing.loadEventEnd<"u"&&(s.mark("firstbyte",h.timing.responseStart),s.mark("onload",h.timing.loadEventEnd)),s.done()}else s.addEventListener("load",s.onload,!1)},s.processQ=function(){for(var h=s.q.length,S=0;h>S;S++){var T=s.q[S],X=T[0];X==="mark"?s.mark(T[1],T[2]):X==="measure"?s.measure(T[1],T[2],T[3]):X==="done"&&s.done(T[1])}},s.mark=function(h,S){return s.dprint("RUM_EPISODES.mark: "+h+", "+S),h?(s.marks[h]=parseInt(S||new Date().getTime()),s.bPostMessage&&i.postMessage("RUM_EPISODES:mark:"+h+":"+S,s.targetOrigin),void(h==="firstbyte"?s.measure("backend","starttime","firstbyte"):h==="onload"?(s.measure("frontend","firstbyte","onload"),s.measure("page load time","starttime","onload")):h==="done"&&s.measure("total load time","starttime","done"))):void s.dprint("Error: markName is undefined in RUM_EPISODES.mark.")},s.measure=function(h,S,T){if(s.dprint("RUM_EPISODES.measure: "+h+", "+S+", "+T),!h)return void s.dprint("Error: episodeName is undefined in RUM_EPISODES.measure.");var X;if(typeof S>"u")X=typeof s.marks[h]=="number"?s.marks[h]:new Date().getTime();else if(typeof s.marks[S]=="number")X=s.marks[S];else{if(typeof S!="number")return void s.dprint("Error: unexpected startNameOrTime in RUM_EPISODES.measure: "+S);X=S}var ne;if(typeof T>"u")ne=new Date().getTime();else if(typeof s.marks[T]=="number")ne=s.marks[T];else{if(typeof T!="number")return void s.dprint("Error: unexpected endNameOrTime in RUM_EPISODES.measure: "+T);ne=T}s.starts[h]=parseInt(X),s.measures[h]=parseInt(ne-X),s.bPostMessage&&i.postMessage("RUM_EPISODES:measure:"+h+":"+X+":"+ne,s.targetOrigin)},s.done=function(h){s.bDone=!0,s.mark("done"),s.bPostMessage&&i.postMessage("RUM_EPISODES:done",s.targetOrigin),typeof h=="function"&&h()},s.getMarks=function(){return s.marks},s.getMeasures=function(){return s.measures},s.getStarts=function(){return s.starts},s.findStartTime=function(){var h=s.findStartWebTiming()||s.findStartCookie();h&&s.mark("starttime",h)},s.findStartWebTiming=function(){var h,S=i.performance||i.mozPerformance||i.msPerformance||i.webkitPerformance;return S&&typeof S.timing<"u"&&typeof S.timing.navigationStart<"u"&&(h=S.timing.navigationStart,s.dprint("RUM_EPISODES.findStartWebTiming: startTime = "+h)),h},s.findStartCookie=function(){try{for(var h=p.cookie.split(" "),S=0;S<h.length;S++)if(h[S].indexOf("RUM_EPISODES=")===0){for(var T,X,ne=h[S].substring(13).split("&"),l=0;l<ne.length;l++)if(ne[l].indexOf("s=")===0)T=ne[l].substring(2);else if(ne[l].indexOf("r=")===0){var A=ne[l].substring(2);A=A.replace(/;$/,""),X=i.escape(p.referrer)===A}if(X&&T)return s.dprint("RUM_EPISODES.findStartCookie: startTime = "+T),T}}catch{}return g},s.beforeUnload=function(){try{if(s.bUnloaded)return;p.cookie="RUM_EPISODES=s="+Number(new Date)+"&r="+i.escape(p.location)+"; path=/",s.bUnloaded=!0}catch{}},s.onload=function(){s.mark("onload"),s.done()},s.addEventListener=function(h,S,T){return typeof i.attachEvent<"u"?i.attachEvent("on"+h,S):i.addEventListener?i.addEventListener(h,S,T):void 0},s.dprint=function(){},s.init();var F=null,O={navigationStart:"ns",redirectStart:"rds",redirectEnd:"rde",unloadEventStart:"us",unloadEventEnd:"ue",fetchStart:"fs",domainLookupStart:"dls",domainLookupEnd:"dle",connectStart:"cs",secureConnectionStart:"scs",connectEnd:"ce",handshakeStart:"hs",requestStart:"rqs",responseStart:"rps",responseEnd:"rpe",domLoading:"dl",domInteractive:"di",domContentLoadedEventStart:"dcs",domContentLoadedEventEnd:"dce",domComplete:"dc",loadEventStart:"ls",loadEventEnd:"le"},M=i.performance||i.mozPerformance||i.msPerformance||i.webkitPerformance;M&&typeof M.timing<"u"&&typeof M.navigation<"u"?F=setInterval(_,100):(s.mark("firstbyte",m),F=setInterval(q,100))}(window,document,window.atatus),function(i,p,y){p.SessionTracking=function(){function g(l){p.sessionId=S.uuid4(),T.existingTimestamp=S.createCookie(T.cookieName,p.sessionId),l(!0)}function P(){var l;if(T.existingTimestamp){var A=new Date(new Date-ne);l=T.existingTimestamp<A}l&&(T.stopSession=!0)}function z(l){return Math.min(l,3e5)}function R(l){for(var A in l)(isNaN(l[A])&&typeof l[A]!="string"||l[A]<0)&&(l[A]=0);return l}function _(l,A){var J;return J=typeof i.performance=="object"&&typeof i.performance.now=="function"?i.performance.now():0,{du:Math.min(T.maxVirtualPageDuration,J-(l||A)),o:Math.min(T.maxVirtualPageDuration,J-A)}}function q(l){var A={du:l.loadEventEnd-l.navigationStart,s:l.fetchStart};if(i.atatus&&i.atatus._pageLoadEndTime){var J=i.atatus._pageLoadEndTime-l.navigationStart;J<A.du&&(A.du=J)}return l.domainLookupStart&&l.domainLookupStart>0&&(A.dls=l.domainLookupStart-l.fetchStart),l.domainLookupEnd&&l.domainLookupEnd>0&&(A.dle=l.domainLookupEnd-l.fetchStart),l.connectStart&&l.connectStart>0&&(A.cs=l.connectStart-l.fetchStart),l.connectEnd&&l.connectEnd>0&&(A.ce=l.connectEnd-l.fetchStart),l.responseStart&&l.responseStart>0&&(A.rps=l.responseStart-l.fetchStart),l.responseEnd&&l.responseEnd>0&&(A.rpe=l.responseEnd-l.fetchStart),l.domLoading&&l.domLoading>0&&(A.dl=l.domLoading-l.fetchStart),l.domInteractive&&l.domInteractive>0&&(A.di=l.domInteractive-l.fetchStart),l.domContentLoadedEventEnd&&l.domContentLoadedEventEnd>0&&(A.dce=l.domContentLoadedEventEnd-l.fetchStart),l.domComplete&&l.domComplete>0&&(A.dc=z(l.domComplete-l.fetchStart)),l.loadEventStart&&l.loadEventStart>0&&(A.ls=l.loadEventStart-l.fetchStart),l.loadEventEnd&&l.loadEventEnd>0&&(A.le=l.loadEventEnd-l.fetchStart),l.secureConnectionStart&&l.secureConnectionStart>0&&(A.scs=l.secureConnectionStart-l.connectStart-l.fetchStart,A.scs=A.scs>0?A.scs:0),A=R(A),p.paintPerformance&&p.paintPerformance.fp&&(A.fp=p.paintPerformance.fp,A.fcp=p.paintPerformance.fcp),A}function m(l,A){var J={du:z(l.duration),s:A+l.fetchStart};return l.domainLookupStart&&l.domainLookupStart>0&&(J.dls=l.domainLookupStart-l.fetchStart),l.domainLookupEnd&&l.domainLookupEnd>0&&(J.dle=l.domainLookupEnd-l.fetchStart),l.connectStart&&l.connectStart>0&&(J.cs=l.connectStart-l.fetchStart),l.connectEnd&&l.connectEnd>0&&(J.ce=l.connectEnd-l.fetchStart),l.responseStart&&l.responseStart>0&&(J.rps=l.responseStart-l.fetchStart),l.responseEnd&&l.responseEnd>0&&(J.rpe=l.responseEnd-l.fetchStart),l.secureConnectionStart&&l.secureConnectionStart>0&&(J.scs=l.secureConnectionStart-l.connectStart-l.fetchStart,J.scs=J.scs>0?J.scs:0),J=R(J)}function s(){var l=i.location.pathname,A=i.location.protocol+"//"+i.location.host+l;return A.length>800&&(A=A.substring(0,800)),{u:A,t:q(i.performance.timing),g:"p"}}function F(l,A,J){var ie=i.location.protocol+"//"+i.location.host+l;return ie.length>800&&(ie=ie.substring(0,800)),{u:ie,t:_(A,J),g:"r"}}function O(l,A){var J=l.name.split("?")[0];return J.length>800&&(J=J.substring(0,800)),{u:J,t:m(l,A?0:i.performance.timing.navigationStart),g:l.initiatorType==="xmlhttprequest"||l.initiatorType==="fetch"?"x":"s",z:l.decodedBodySize||l.transferSize||0}}function M(l,A){if(i.performance!==y&&i.performance.getEntriesByType)try{for(var J=i.performance.getEntriesByType("resource"),ie=T.offset;ie<J.length;ie++){var ee=J[ie].name.split("?")[0];ee.indexOf(T.atatusHost)!==0&&(ee.indexOf("favicon.ico")>0||ee.indexOf("about:blank")!==0&&(ee[0]!=="j"||ee.indexOf("avascript:")!==1)&&ee.indexOf("chrome-extension://")!==0&&ee.indexOf("res://")!==0&&ee.indexOf("file://")!==0&&J[ie].name&&l.push(O(J[ie],A)))}T.offset=J.length}catch{}}function h(l,A,J,ie){if(i.performance===y||i.performance.timing===y||i.performance.timing.fetchStart===y||isNaN(i.performance.timing.fetchStart))return null;var ee=[{rs:[]}];if(A&&(J&&(ie?ee[0].p=s():ee[0].rs.push(s())),M(ee[0].rs)),l){T.pendingVirtualPage&&(ee[0].r=T.pendingVirtualPage);var b=T.pendingVirtualPage==null;if(T.pendingVirtualPage=F(l,T.previousVirtualPageLoadTimestamp,T.initalStaticPageLoadTimestamp),!b&&ee.length>0)return ee}return ee}var S=p._helper,T=this,X={};p.sessionId=null,this.cookieName="atatus-sid",this.virtualPage=null,this.heartBeatInterval=null,this.offset=0,this.atatusHost=p.getAPIEndpoint(),this.maxVirtualPageDuration=18e5;var ne=3e5;this.existingTimestamp=null,this.stopSession=!1,this.sendSessionPayload=function(l){T.stopSession||p.sendSessionPerf(l)},this.sendSPAPayload=function(){},this.attach=function(){g(function(ie){setTimeout(function(){T.pageLoaded(ie)},5e3)});var l=function(){var ie=[{rs:[]}];if(M(ie[0].rs),ie[0].rs.length>0){var ee={data:ie};T.sendSessionPayload(ee)}},A=(function(){this.watchCookieTimestamp()}).bind(X),J=(function(){document.visibilityState==="visible"&&this.watchCookieTimestamp()}).bind(X);i.addEventListener?(i.addEventListener("click",A),document.addEventListener("visibilitychange",J),i.addEventListener("beforeunload",l)):i.attachEvent&&document.attachEvent("onclick",A)},this.pageLoaded=function(l){T.sendPerformance(!0,!0,l),T.heartBeat(),T.initalStaticPageLoadTimestamp=typeof i.performance=="object"&&typeof i.performance.now=="function"?i.performance.now():0},this.endSession=function(){T.stopSession=!0,S.createCookie(T.cookieName,p.sessionId,-1)},this.heartBeat=function(){T.heartBeatInterval=setInterval(function(){var l=[{rs:[]}];if(M(l[0].rs,T.virtualPage),l[0].rs.length>0){var A={data:l};T.sendSessionPayload(A)}},3e4)},this.virtualPageLoaded=function(l){var A=this.virtualPage==null;typeof l=="string"&&(l.length>0&&l[0]!=="/"&&(l+="/"),l.length>800&&(l=l.substring(0,800)),this.virtualPage=l),A?this.sendPerformance(!0,!1,!1):this.sendPerformance(!1,!1,!1),typeof l=="string"&&(this.previousVirtualPageLoadTimestamp=typeof i.performance=="object"&&typeof i.performance.now=="function"?i.performance.now():0)},this.sendPerformance=function(l,A,J){var ie=h(this.virtualPage,l,A,J);if(ie){var ee={data:ie};ie[0].r?T.sendSPAPayload(ee):ie[0].rs.length>0&&T.sendSessionPayload(ee)}},X.watchCookieTimestamp=P}}(window,window.atatus),function(i,p,y){y.__attachAjaxHooks=function(){var g=y._helper,P={queue:[],batchSize:25,processing:!1,bUnloaded:!1,push:function(m){typeof m.url=="string"&&(m.url.indexOf(".html")>0||m.url.indexOf("://")===-1||!y._isAllowedUrl(m.url)||(this.queue.push(m),this.queue.length>=this.batchSize&&this._processQueue()))},_processQueue:function(){if(!this.processing&&this.queue.length){this.processing=!0;try{for(var m={},s={},F=0;F<this.queue.length;F++){var O,M=this.queue[F],h=parseInt(M.status)||200;if(h>0){O=M.method+M.url;var S=M.respAvailTime-M.sendTime,T=M.respProcTime-M.respAvailTime,X=M.receivedSize?+M.receivedSize:0,ne=M.sendSize?+M.sendSize:0;0>S&&(S=0),0>T&&(T=0),isNaN(X)&&(X=0),isNaN(ne)&&(ne=0);var l=m[O];l?(l.st.push(h),l.rt.push(S),l.ct.push(T),l.rz.push(X),l.sz.push(ne),l.ts.push(M.sendTime||new Date().getTime())):m[O]={m:M.method,u:M.url,st:[h],rt:[S],ct:[T],rz:[X],sz:[ne],ts:[M.sendTime||new Date().getTime()]}}if(h>=400){O=M.method+h+M.url;var A=s[O];A&&A.sc?A.sc[h]?A.sc[h]++:A.sc[h]=1:(s[O]={m:M.method,u:M.url,sc:{}},s[O].sc[h]=1)}}var J={xhr:g.arrayFromObject(m),xhrError:g.arrayFromObject(s)};y.sendAjaxPerf(J)}catch(ie){g.log("Error while processing queue: ",ie)}finally{this.queue=[],this.processing=!1}}},beforeUnload:function(){P.bUnloaded||(P._processQueue(),P.bUnloaded=!0)}};g.addEventListener("beforeunload",P.beforeUnload,!1),setInterval(function(){P._processQueue()},3e4);var z={support:function(m){return!m||"apply"in m},around:function(m,s,F,O){return m=m||function(){},function(){var M,h=Array.prototype.slice.call(arguments);try{s&&(M=s.apply(this,h))}catch(T){g.log(O,T)}var S;try{S=m.apply(this,M||h)}finally{try{F&&F.apply(this,h)}catch(T){g.log(O,T)}}return S}},before:function(m,s){return z.around(m,s)},after:function(m,s){return z.around(m,null,s)},timeout:function(m){setTimeout(m,0)},wrapAddEventListener:function(){return function(m,s){if((m==="load"||m==="error")&&s&&this._atrumXhrData){var F;s.__atrumInterceptor?F=s.__atrumInterceptor:z.support(s)?(F=_.wrapXHR(s,this,"XHR.invokeEventListener"),s.__atrumInterceptor=F):F=null;var O;return F&&(O=Array.prototype.slice.call(arguments),O[1]=F),O}}},wrapRemoveEventListener:function(){return function(m,s){if(this._atrumXhrData){var F=Array.prototype.slice.call(arguments);return s.__atrumInterceptor&&(F[1]=s.__atrumInterceptor),F}}},aroundWithHandleEvent:function(m,s,F,O){var M=m;return m&&typeof m=="object"&&"toString"in m&&m.toString()==="[xpconnect wrapped nsIDOMEventListener]"&&"handleEvent"in m&&(M=function(){m.handleEvent.apply(this,Array.prototype.slice.call(arguments))}),z.around(M,s,F,O)},getFullyQualifiedUrl:function(m){var s=p.createElement("a");return s.href=m,s.href}};if(i.XMLHttpRequest&&i.XMLHttpRequest.prototype){var R=i.XMLHttpRequest.prototype;if(!("open"in R&&"send"in R)||!z.support(R.open)||!z.support(R.send))return;var _={};_.captureAjaxTimings=function(m){var s=m._atrumXhrData;if(s){var F=new Date().getTime();m.readyState===2?s.firstByteTime=s.firstByteTime||F:m.readyState===4&&(s.respAvailTime=s.respAvailTime||F,s.firstByteTime=s.firstByteTime||F)}},_.sendPayload=function(m,s){s.receivedSize=0,m.responseType&&m.responseType!=="text"||typeof m.responseText=="string"&&(s.receivedSize=m.responseText.length),s.status=m.status,P.push(s)},_.wrapXHR=function(m,s,F){return z.aroundWithHandleEvent(m,function(){_.captureAjaxTimings(this)},function(){var O=s._atrumXhrData;if(O&&s.readyState===4){var M=new Date().getTime();O.respProcTime=O.respProcTime||M,_.sendPayload(s,O),delete s._atrumXhrData}},F)},_.ajaxDone=function(m){if(m._atrumXhrData){var s=new Date().getTime()+15e4,F=function(){_.captureAjaxTimings(m);var O=m._atrumXhrData;if(O){var M=new Date().getTime();m.readyState===4?(O.respProcTime=O.respProcTime||M,_.sendPayload(m,O),delete m._atrumXhrData):s>M?setTimeout(F,50):delete m._atrumXhrData}};F()}},R.open=z.around(R.open,function(){var m=1<=arguments.length?String(arguments[0]):"",s=2<=arguments.length?String(arguments[1]):"";s=z.getFullyQualifiedUrl(s);var F=y._isAllowedUrl(s);F&&(s=s&&s.split("?")[0],this._atrumXhrData={method:m,url:s,sendTime:null,sendSize:null,firstByteTime:null,respAvailTime:null,respProcTime:null,receivedSize:null,parentPhase:null})},null,"XHR.open"),R.send=z.around(R.send,function(){var m=this,s=m._atrumXhrData;if(s){var F=new Date().getTime();if(s.sendTime=s.sendTime||F,s.sendSize=1<=arguments.length&&arguments[0]&&arguments[0].length||0,m.onreadystatechange&&typeof m.onreadystatechange=="function"){var O=0,M=function(){if(m.readyState===4)_.ajaxDone(m);else{var h=null;try{h=m.onreadystatechange}catch{return void _.ajaxDone(m)}O++,h?z.support(h)?m.onreadystatechange=_.wrapXHR(h,m,"XHR.onReadyStateChange"):_.ajaxDone(m):5>O?z.timeout(M):_.ajaxDone(m)}};M()}else m.addEventListener("readystatechange",function(){m.readyState===4&&_.ajaxDone(m)})}},null,"XHR.send"),"addEventListener"in R&&"removeEventListener"in R&&z.support(R.addEventListener)&&z.support(R.removeEventListener)&&(R.addEventListener=z.around(R.addEventListener,z.wrapAddEventListener(),null,"XHR.addEventListener"),R.removeEventListener=z.around(R.removeEventListener,z.wrapRemoveEventListener(),null,"XHR.removeEventListener"))}if("fetch"in i&&!i.fetch.polyfill){var q=i.fetch;i.fetch=function(m){return function(){for(var s=new Array(arguments.length),F=0;F<s.length;++F)s[F]=arguments[F];var O=s[0]&&s[0].method||s[1]&&s[1].method||"GET",M="Unknown URL";typeof s[0]=="string"?M=s[0]:s[0]&&s[0].url&&(M=s[0].url);var h=0;s[1]&&typeof s[1].body=="string"&&(h=s[1].body.length);var S={url:M,method:O,sendSize:h,receivedSize:0,sendTime:new Date().getTime(),respAvailTime:0,respProcTime:0};return m.apply(this,s).then(function(T){return S.respAvailTime=new Date().getTime(),y._isAllowedUrl(S.url)&&(S.respProcTime=S.respAvailTime,S.status=T.status,T.headers&&T.headers.get&&(S.receivedSize=T.headers.get("Content-Length")),P.push(S)),T}).catch(function(T){throw S.respAvailTime=new Date().getTime(),y._isAllowedUrl(S.url)&&(S.respProcTime=S.respAvailTime,S.status=408,S.receivedSize=0,P.push(S)),T})}}(q)}}}(window,document,window.atatus),function(i,p){function y(O,M,h){if(!(0>=M)){var S={data:[{t:{n:O,s:h,t:{du:M}}}]};p.sendTxnPerf(S)}}function g(O){return q+" "+O}function P(){try{return"localStorage"in i&&i.localStorage!==null}catch{return!1}}function z(O){var M=m.now();try{localStorage.setItem(g(O),M)}catch{}}function R(O){var M=null,h=g(O);try{M=localStorage.getItem(h),localStorage.removeItem(h)}catch{}var S=0;return M&&(S=m.now()-M),S}function _(O){try{var M=g(O);localStorage.removeItem(M)}catch{}}var q="atatus.com/",m=p._helper,s=1,F=0;p.beginTransaction=function(O){P()&&z(O)},p.endTransaction=function(O){if(P()){var M=R(O);y(O,M,s)}},p.failTransaction=function(O){if(P()){var M=R(O);y(O,M,F)}},p.cancelTransaction=function(O){P()&&_(O)},p.recordTransaction=function(O,M,h){P()&&O&&M&&y(O,M,h===!1?F:s)}}(window,window.atatus),function(i,p){function y(q){q=q||{};var m=q.name&&q.name.toLowerCase();m&&q.value&&(P[m]||z++,P[m]=q.value)}function g(){if(i.webVitals){i.webVitals.onFID(y),i.webVitals.onFCP(y),i.webVitals.onTTFB(y),i.webVitals.onLCP(y),i.webVitals.onCLS(y,{reportAllChanges:!0}),i.webVitals.onINP(y,{reportAllChanges:!0});var q=i.performance&&i.performance.timing;!P.ttfb&&q&&(P.ttfb=q.responseStart-q.navigationStart,P.ttfb&&z++)}}var P={},z=0,R=!1,_=function(){!R&&z>0&&(R=!0,p.sendWebVitals(P))};document.readyState!=="loading"?g():document.addEventListener("DOMContentLoaded",function(){g()}),i.addEventListener("beforeunload",function(){_()})}(window,window.atatus),function(i,p){i._atatusConfig&&i._atatusConfig.apikey&&p.config(i._atatusConfig.apikey,i._atatusConfig).install()}(window,window.atatus))})(),function(i){var p={};function y(g){if(p[g])return p[g].exports;var P=p[g]={i:g,l:!1,exports:{}};return i[g].call(P.exports,P,P.exports,y),P.l=!0,P.exports}y.m=i,y.c=p,y.d=function(g,P,z){y.o(g,P)||Object.defineProperty(g,P,{enumerable:!0,get:z})},y.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},y.t=function(g,P){if(1&P&&(g=y(g)),8&P||4&P&&typeof g=="object"&&g&&g.__esModule)return g;var z=Object.create(null);if(y.r(z),Object.defineProperty(z,"default",{enumerable:!0,value:g}),2&P&&typeof g!="string")for(var R in g)y.d(z,R,(function(_){return g[_]}).bind(null,R));return z},y.n=function(g){var P=g&&g.__esModule?function(){return g.default}:function(){return g};return y.d(P,"a",P),P},y.o=function(g,P){return Object.prototype.hasOwnProperty.call(g,P)},y.p="",y(y.s=2)}([function(i,p,y){i.exports=function(){function g(k){return typeof k=="function"}var P=Array.isArray?Array.isArray:function(k){return Object.prototype.toString.call(k)==="[object Array]"},z=0,R=void 0,_=void 0,q=function(k,C){S[z]=k,S[z+1]=C,(z+=2)===2&&(_?_(T):J())},m=typeof window<"u"?window:void 0,s=m||{},F=s.MutationObserver||s.WebKitMutationObserver,O=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",M=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function h(){var k=setTimeout;return function(){return k(T,1)}}var S=new Array(1e3);function T(){for(var k=0;k<z;k+=2){var C=S[k],B=S[k+1];C(B),S[k]=void 0,S[k+1]=void 0}z=0}var X,ne,l,A,J=void 0;function ie(k,C){var B=this,G=new this.constructor(L);G[b]===void 0&&Re(G);var te=B._state;if(te){var ue=arguments[te-1];q(function(){return ve(te,G,ue,B._result)})}else pe(B,G,k,C);return G}function ee(k){if(k&&typeof k=="object"&&k.constructor===this)return k;var C=new this(L);return re(C,k),C}J=O?function(){return process.nextTick(T)}:F?(ne=0,l=new F(T),A=document.createTextNode(""),l.observe(A,{characterData:!0}),function(){A.data=ne=++ne%2}):M?((X=new MessageChannel).port1.onmessage=T,function(){return X.port2.postMessage(0)}):m===void 0?function(){try{var k=Function("return this")().require("vertx");return(R=k.runOnLoop||k.runOnContext)===void 0?h():function(){R(T)}}catch{return h()}}():h();var b=Math.random().toString(36).substring(2);function L(){}var x=void 0,V=1,W=2;function ae(k,C,B,G){try{k.call(C,B,G)}catch(te){return te}}function fe(k,C,B){var G,te,ue,Te;C.constructor===k.constructor&&B===ie&&C.constructor.resolve===ee?(ue=k,(Te=C)._state===V?se(ue,Te._result):Te._state===W?ce(ue,Te._result):pe(Te,void 0,function(be){return re(ue,be)},function(be){return ce(ue,be)})):B===void 0?se(k,C):g(B)?(G=C,te=B,q(function(be){var Ae=!1,Oe=ae(te,G,function(Me){Ae||(Ae=!0,G!==Me?re(be,Me):se(be,Me))},function(Me){Ae||(Ae=!0,ce(be,Me))},be._label);!Ae&&Oe&&(Ae=!0,ce(be,Oe))},k)):se(k,C)}function re(k,C){if(k===C)ce(k,new TypeError("You cannot resolve a promise with itself"));else if(te=typeof(G=C),G===null||te!=="object"&&te!=="function")se(k,C);else{var B=void 0;try{B=C.then}catch(ue){return void ce(k,ue)}fe(k,C,B)}var G,te}function oe(k){k._onerror&&k._onerror(k._result),Ie(k)}function se(k,C){k._state===x&&(k._result=C,k._state=V,k._subscribers.length!==0&&q(Ie,k))}function ce(k,C){k._state===x&&(k._state=W,k._result=C,q(oe,k))}function pe(k,C,B,G){var te=k._subscribers,ue=te.length;k._onerror=null,te[ue]=C,te[ue+V]=B,te[ue+W]=G,ue===0&&k._state&&q(Ie,k)}function Ie(k){var C=k._subscribers,B=k._state;if(C.length!==0){for(var G=void 0,te=void 0,ue=k._result,Te=0;Te<C.length;Te+=3)G=C[Te],te=C[Te+B],G?ve(B,G,te,ue):te(ue);k._subscribers.length=0}}function ve(k,C,B,G){var te=g(B),ue=void 0,Te=void 0,be=!0;if(te){try{ue=B(G)}catch(Ae){be=!1,Te=Ae}if(C===ue)return void ce(C,new TypeError("A promises callback cannot return that same promise."))}else ue=G;C._state!==x||(te&&be?re(C,ue):be===!1?ce(C,Te):k===V?se(C,ue):k===W&&ce(C,ue))}var Ee=0;function Re(k){k[b]=Ee++,k._state=void 0,k._result=void 0,k._subscribers=[]}var Ce=function(){function k(C,B){this._instanceConstructor=C,this.promise=new C(L),this.promise[b]||Re(this.promise),P(B)?(this.length=B.length,this._remaining=B.length,this._result=new Array(this.length),this.length===0?se(this.promise,this._result):(this.length=this.length||0,this._enumerate(B),this._remaining===0&&se(this.promise,this._result))):ce(this.promise,new Error("Array Methods must be provided an Array"))}return k.prototype._enumerate=function(C){for(var B=0;this._state===x&&B<C.length;B++)this._eachEntry(C[B],B)},k.prototype._eachEntry=function(C,B){var G=this._instanceConstructor,te=G.resolve;if(te===ee){var ue=void 0,Te=void 0,be=!1;try{ue=C.then}catch(Oe){be=!0,Te=Oe}if(ue===ie&&C._state!==x)this._settledAt(C._state,B,C._result);else if(typeof ue!="function")this._remaining--,this._result[B]=C;else if(G===ke){var Ae=new G(L);be?ce(Ae,Te):fe(Ae,C,ue),this._willSettleAt(Ae,B)}else this._willSettleAt(new G(function(Oe){return Oe(C)}),B)}else this._willSettleAt(te(C),B)},k.prototype._settledAt=function(C,B,G){var te=this.promise;te._state===x&&(this._remaining--,C===W?ce(te,G):this._result[B]=G),this._remaining===0&&se(te,this._result)},k.prototype._willSettleAt=function(C,B){var G=this;pe(C,void 0,function(te){return G._settledAt(V,B,te)},function(te){return G._settledAt(W,B,te)})},k}(),ke=function(){function k(C){this[b]=Ee++,this._result=this._state=void 0,this._subscribers=[],L!==C&&(typeof C!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof k?function(B,G){try{G(function(te){re(B,te)},function(te){ce(B,te)})}catch(te){ce(B,te)}}(this,C):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return k.prototype.catch=function(C){return this.then(null,C)},k.prototype.finally=function(C){var B=this.constructor;return g(C)?this.then(function(G){return B.resolve(C()).then(function(){return G})},function(G){return B.resolve(C()).then(function(){throw G})}):this.then(C,C)},k}();return ke.prototype.then=ie,ke.all=function(k){return new Ce(this,k).promise},ke.race=function(k){var C=this;return P(k)?new C(function(B,G){for(var te=k.length,ue=0;ue<te;ue++)C.resolve(k[ue]).then(B,G)}):new C(function(B,G){return G(new TypeError("You must pass an array to race."))})},ke.resolve=ee,ke.reject=function(k){var C=new this(L);return ce(C,k),C},ke._setScheduler=function(k){_=k},ke._setAsap=function(k){q=k},ke._asap=q,ke.polyfill=function(){var k=void 0;if(typeof nt<"u")k=nt;else if(typeof self<"u")k=self;else try{k=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var C=k.Promise;if(C){var B=null;try{B=Object.prototype.toString.call(C.resolve())}catch{}if(B==="[object Promise]"&&!C.cast)return}k.Promise=ke},ke.Promise=ke}()},function(i,p){var y=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(y){var g=new Uint8Array(16);i.exports=function(){return y(g),g}}else{var P=new Array(16);i.exports=function(){for(var z,R=0;R<16;R++)(3&R)==0&&(z=4294967296*Math.random()),P[R]=z>>>((3&R)<<3)&255;return P}}},function(i,p,y){y.r(p);for(var g=y(1),P=y.n(g),z=[].slice,R=[],_=0;_<256;++_)R[_]=(_+256).toString(16).substr(1);function q(a){if(a&&a.traceId&&a.id&&a.parentId){var o=a.sampled?"01":"00",e=a.sampled?a.id:a.parentId;return"00-"+a.traceId+"-"+e+"-"+o}}function m(a,o){var e=!1;return typeof o=="string"?e=a===o:Array.isArray(o)&&o.forEach(function(t){e||(e=m(a,t))}),e}function s(a){var o,e,t;return(o=P()(),e=0,[(t=R)[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]],t[o[e++]]].join("")).substr(0,a)}function F(){return typeof window<"u"&&typeof Array.prototype.forEach=="function"&&typeof JSON.stringify=="function"&&typeof Function.bind=="function"&&window.performance&&typeof window.performance.now=="function"&&"withCredentials"in new window.XMLHttpRequest}function O(a,o,e){if(e&&a){var t=J(a);return o&&(o=String(o)),e[t]=o,e}}var M=["fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"];function h(a){return a&&a.split("?")[0]}function S(a){return a!==null&&typeof a=="object"}function T(a,o,e){for(var t=0,u=o.length;t<u;++t){var c=o[t];if(S(c)||typeof c=="function")for(var d=Object.keys(c),f=0,w=d.length;f<w;f++){var E=d[f],D=c[E];e&&S(D)?(S(a[E])||(a[E]=Array.isArray(D)?[]:{}),T(a[E],[D],!1)):a[E]=D}}return a}function X(a){return T(a,z.call(arguments,1),!1)}function ne(a){return T(a,z.call(arguments,1),!0)}function l(a){return a===void 0}function A(){}function J(a){return a.replace(/[.*"]/g,"_")}function ie(){var a,o,e,t=(a=window.performance.timing,o=a.fetchStart,e={},M.forEach(function(d){var f=a[d];f&&o<=f&&(e[d]=f-o)}),e),u=function(){var d={},f=window.performance;if(f.getEntriesByType){var w=f.getEntriesByType("paint");if(0<w.length)for(var E=f.timing,D=E.fetchStart-E.navigationStart,K=0;K<w.length;K++){var de=w[K],we=0<=D?de.startTime-D:de.startTime;d[de.name]=we}}return d}(),c={timeToFirstByte:t.responseStart,domInteractive:t.domInteractive,domComplete:t.domComplete};return u["first-contentful-paint"]&&(c.firstContentfulPaint=u["first-contentful-paint"]),{navigationTiming:t,agent:c}}var ee={fetchInProgress:!1};function b(a){return"__apm_symbol__"+a}function L(a,o,e){for(var t=a;t&&!t.hasOwnProperty(o);)t=Object.getPrototypeOf(t);!t&&a[o]&&(t=a);var u,c,d,f,w=b(o);if(t&&!(u=t[w])){u=t[w]=t[o];var E=t&&Object.getOwnPropertyDescriptor(t,o);if(!(f=E)||f.writable!==!1&&(typeof f.get!="function"||f.set!==void 0)){var D=e(u,w,o);t[o]=function(){return D(this,arguments)},c=t[o],d=u,c[b("OriginalDelegate")]=d}}return u}var x=b("xhrIgnore"),V=b("xhrSync"),W=b("xhrURL"),ae=b("xhrMethod"),fe="schedule",re="invoke",oe="clear",se="addEventListener",ce="removeEventListener",pe=["link","css","script","img","xmlhttprequest","fetch","beacon","iframe"],Ie=3e5,ve="page-load",Ee="Unknown",Re=60,Ce=1024,ke="transaction:end",k="config:change",C="xmlhttprequest",B="fetch",G="history",te="error",ue=b("xhrTask"),Te=b("xhrListener"),be=b("xhrScheduled");function Ae(a){var o=XMLHttpRequest.prototype,e=o[se],t=o[ce];if(!e){var u=window.XMLHttpRequestEventTarget;if(u){var c=u.prototype;e=c[se],t=c[ce]}}var d="readystatechange";function f(K){K.state=re,K.ignore||a(re,K)}var w=L(o,"open",function(){return function(K,de){return K[ae]=de[0],K[W]=de[1],K[V]=de[2]===!1,w.apply(K,de)}}),E=L(o,"send",function(){return function(K,de){var we={source:C,state:"",type:"macroTask",ignore:K[x],data:{target:K,method:K[ae],sync:K[V],url:K[W],args:de,aborted:!1}},he=function(ge){XMLHttpRequest[be]=!1,ge.state=fe,ge.ignore||a(fe,ge);var Ne=ge.data,Le=Ne.target,We=Le[Te];e||(e=Le[se],t=Le[ce]),We&&t.call(Le,d,We);var Ze=Le[Te]=function(){Le.readyState===Le.DONE&&!Ne.aborted&&XMLHttpRequest[be]&&ge.state===fe&&f(ge)};e.call(Le,d,Ze),Le[ue]||(Le[ue]=ge);var lt=E.apply(Le,Ne.args);return XMLHttpRequest[be]=!0,lt}(we);return K[V]&&f(we),he}}),D=L(o,"abort",function(){return function(K,de){var we,he=K[ue];if(he&&typeof he.type=="string"){if(he.data&&he.data.aborted)return;(we=he).state=oe,a(oe,we),we.data.aborted=!0}return D.apply(K,de)}})}var Oe=y(0);function Me(a){if(window.fetch&&window.Request){var o=window.fetch;window.fetch=function(t,u){var c,d,f=this,w=arguments,E=t instanceof URL;if(typeof t=="string"||E)c=new Request(t,u),d=E?c.url:t;else{if(!(t instanceof Request))return o.apply(f,w);d=(c=t).url}var D={source:B,state:"",type:"macroTask",data:{target:c,method:c.method,sync:!1,url:d,args:w,aborted:!1}};return new Oe.Promise(function(K,de){var we,he;ee.fetchInProgress=!0,(we=D).state=fe,a(fe,we);try{he=o.apply(f,[c])}catch(ge){return de(ge),D.data.error=ge,e(D),void(ee.fetchInProgress=!1)}he.then(function(ge){K(ge),Oe.Promise.resolve().then(function(){D.data.response=ge,e(D)})},function(ge){de(ge),Oe.Promise.resolve().then(function(){D.data.error=ge,e(D)})}),ee.fetchInProgress=!1})}}function e(t){t.state=re,a(re,t)}}var Be=function(){function a(){this.observers={}}var o=a.prototype;return o.observe=function(e,t){var u=this;if(typeof t=="function")return this.observers[e]||(this.observers[e]=[]),this.observers[e].push(t),function(){var c=u.observers[e].indexOf(t);-1<c&&u.observers[e].splice(c,1)}},o.sendOnly=function(e,t){var u=this.observers[e];u&&u.forEach(function(c){try{c.apply(void 0,t)}catch(d){console.log(d,d.stack)}})},o.send=function(e,t){this.sendOnly(e+":before",t),this.sendOnly(e,t),this.sendOnly(e+":after",t)},a}(),Z=new Be,H=!1;function Y(){return H||(H=!0,Ae(function(a,o){Z.send(C,[a,o])}),Me(function(a,o){Z.send(B,[a,o])}),function(a){if(window.history){var o=history.pushState;typeof o=="function"&&(history.pushState=function(e,t,u){a(re,{source:G,data:{state:e,title:t,url:u}}),o.apply(this,arguments)})}}(function(a,o){Z.send(G,[a,o])})),Z}var le=!1,$=!1,me=[["#","hash"],["?","query"],["/","path"],["@","auth",1],[NaN,"host",void 0,1]],xe=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,_e=function(){function a(e){var t,u=this.extractProtocol(e||""),c=u.protocol,d=u.address,f=u.slashes,w=!c&&!f,E=this.getLocation(),D=me.slice();d=d.replace("\\","/");for(var K=0;K<D.length;K++){var de=D[K],we=de[0],he=de[1];if(typeof we=="string"){if(~(t=d.indexOf(we))){var ge=de[2];if(ge){var Ne=d.lastIndexOf(we);t=Math.max(t,Ne),this[he]=d.slice(0,t),d=d.slice(t+ge)}else this[he]=d.slice(t),d=d.slice(0,t)}}else this[he]=d;this[he]=this[he]||w&&de[3]&&E[he]||"",de[3]&&(this[he]=this[he].toLowerCase())}this.relative=w,this.protocol=c||E.protocol||"",this.origin=this.protocol&&this.host&&this.protocol!=="file:"?this.protocol+"//"+this.host:"null",this.href=this.toString()}var o=a.prototype;return o.toString=function(){var e=this.protocol;if(e+="//",this.auth){var t="[REDACTED]",u=this.auth.split(":");e+=(u[0]?t:"")+(u[1]?":"+t:"")+"@"}return e+=this.host,e+=this.path,e+=this.query,e+=this.hash},o.getLocation=function(){var e={};return typeof window<"u"&&(e=window),e.location},o.extractProtocol=function(e){var t=xe.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],address:t[3]}},a}(),ye={service:{name:[Ce,!0],version:!0,agent:{version:[Ce,!0]},environment:!0}},je={"*":!0,headers:{"*":!0}},De={user:{id:!0,email:!0,username:!0},tags:{"*":!0},http:{response:je},response:je},qe={name:[Ce,!0],type:[Ce,!0],id:[Ce,!0],trace_id:[Ce,!0],parent_id:[Ce,!0],transaction_id:[Ce,!0],subtype:!0,action:!0,context:De},Ue={name:!0,parent_id:!0,type:[Ce,!0],id:[Ce,!0],trace_id:[Ce,!0],span_count:{started:[Ce,!0]},context:De};function Je(a){return a==null||a===""||a===void 0}function et(a,o,e){var t,u,c,d,f=(t=a[o],u=e[0],c=e[1],u===void 0&&(u=Ce),c===void 0&&(c=!1),d===void 0&&(d="N/A"),c&&Je(t)&&(t=d),typeof t=="string"?t.substring(0,u):t);Je(f)?delete a[o]:a[o]=f}function Ve(a,o,e){a===void 0&&(a={}),e===void 0&&(e=o);for(var t=Object.keys(a),u=[],c=function(f){var w=t[f],E=a[w]===!0?u:a[w];Array.isArray(E)?w==="*"?Object.keys(e).forEach(function(D){return et(e,D,E)}):et(e,w,E):Ve(E,o,e[w])},d=0;d<t.length;d++)c(d);return o}var it=function(){function a(e,t,u,c){this._apmServer=e,this._configService=t,this._logginService=u,this._transactionService=c}var o=a.prototype;return o.init=function(e){var t=this;e===void 0&&(e={}),this._configService.events.observe(ke+":after",function(u){var c=t.createTransactionPayload(u);c&&t._apmServer.addTransaction(c)}),e[G]&&Z.observe(G,this.getHistorySub()),e[C]&&Z.observe(C,this.getXHRSub()),e[B]&&Z.observe(B,this.getFetchSub())},o.getHistorySub=function(){var e=this._transactionService;return function(t,u){u.source===G&&t===re&&e.startTransaction(u.data.title,"route-change",{canReuse:!0})}},o.getXHRSub=function(){var e=this;return function(t,u){u.source!==C||ee.fetchInProgress||e.processAPICalls(t,u)}},o.getFetchSub=function(){var e=this;return function(t,u){u.source===B&&e.processAPICalls(t,u)}},o.processAPICalls=function(e,t){var u=this._configService,c=this._transactionService,d=u.get("ignoreSpansForRoutes");if(e===fe&&t.data){var f=new _e(t.data.url);if(d&&d.test&&d.test(t.data.url))return;var w=t.data.method+" "+(f.relative?f.path:h(f.href)),E=c.startSpan(w,"external.http"),D=c.addTask();if(!E)return;var K=u.get("distributedTracing"),de=u.get("distributedTracingOrigins"),we=new _e(window.location.href),he=m(f.origin,we.origin)||m(f.origin,de),ge=t.data.target;K&&he&&ge&&this.injectDtHeader(E,ge),E.addContext({http:{method:t.data.method,url:f.href}}),E.sync=t.data.sync,t.data.span=E,t.id=D}e===re&&t.data&&t.data.span&&(t.data.target.status!==void 0?t.data.span.addContext({http:{status_code:t.data.target.status}}):t.data.response&&t.data.span.addContext({http:{status_code:t.data.response.status}}),t.data.span.end()),e===re&&t.id&&c.removeTask(t.id)},o.injectDtHeader=function(e,t){var u,c=this._configService,d=c.get("distributedTracingHeaderName"),f=c.get("distributedTracingHeaderValueCallback")(e),w=/^[\da-f]{2}-[\da-f]{32}-[\da-f]{16}-[\da-f]{2}$/.test(u=f)&&u.slice(3,35)!=="00000000000000000000000000000000"&&u.slice(36,52)!=="0000000000000000";d&&f&&w&&(typeof t.setRequestHeader=="function"?t.setRequestHeader(d,f):t.headers&&typeof t.headers.append=="function"?t.headers.append(d,f):t[d]=f)},o.extractDtHeader=function(e){var t=this._configService.get("distributedTracingHeaderName");if(e)return function(u){var c=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})$/.exec(u);if(c){var d=c[4]!=="00";return{traceId:c[2],id:c[3],sampled:d}}}(e[t])},o.setTransactionContext=function(e){var t=this._configService.get("context");t&&e.addContext(t)},o.filterTransaction=function(e){var t=this._configService.get("transactionDurationThreshold"),u=e.duration();if(!u||t<u||e.spans.length===0)return!1;e.sampled||e.resetSpans();var c=this._configService.get("browserResponsivenessInterval");if(this._configService.get("checkBrowserResponsiveness")&&!e.isHardNavigation){var d=this._configService.get("browserResponsivenessBuffer");if(!this.checkBrowserResponsiveness(e,c,d))return!1}return!0},o.adjustTransactionTime=function(e){var t=e.spans,u=function(E){for(var D=E[0],K=1;K<E.length;K++){var de=E[K];D._start>de._start&&(D=de)}return D}(t);u&&u._start<e._start&&(e._start=u._start);var c=function(E){for(var D=null,K=0;K<E.length;K++){var de=E[K];String(de.type).indexOf("external")===-1&&(!D||D._end<de._end)&&(D=de)}return D}(t);c&&c._end>e._end&&(e._end=c._end);for(var d=e._end,f=0;f<t.length;f++){var w=t[f];w._end>d&&(w._end=d,w.type+=".truncated"),w._start>d&&(w._start=d)}},o.prepareTransaction=function(e){if(e.spans.sort(function(u,c){return u._start-c._start}),this._configService.get("groupSimilarSpans")){var t=this._configService.get("similarSpanThreshold");e.spans=this.groupSmallContinuouslySimilarSpans(e,t)}e.spans=e.spans.filter(function(u){return 0<u.duration()&&u._start>=e._start&&u._end<=e._end}),this.setTransactionContext(e)},o.createTransactionDataModel=function(e){var t=this._configService.get("context"),u=e._start,c=e.spans.map(function(w){var E={id:w.id,transaction_id:e.id,parent_id:w.parentId||e.id,trace_id:e.traceId,name:w.name,type:w.type,subType:w.subType,action:w.action,sync:w.sync,start:w._start-u,duration:w.duration(),context:w.context};return Ve(qe,E)}),d=ne({},t,e.context),f={id:e.id,trace_id:e.traceId,name:e.name,type:e.type,duration:e.duration(),spans:c,context:d,marks:e.marks,span_count:{started:c.length},sampled:e.sampled};return Ve(Ue,f)},o.createTransactionPayload=function(e){if(this.adjustTransactionTime(e),this.prepareTransaction(e),this.filterTransaction(e))return this.createTransactionDataModel(e)},o.convertTransactionsToServerModel=function(e){var t=this;return e.map(function(u){return t.createTransactionDataModel(u)})},o.groupSmallContinuouslySimilarSpans=function(e,t){var u=e.duration(),c=[],d=1;return e.spans.forEach(function(f,w){if(c.length===0)c.push(f);else{var E=c[c.length-1],D=E.type===f.type&&E.subType===f.subType&&E.action===f.action&&E.name===f.name&&f.duration()/u<t&&(f._start-E._end)/u<t,K=e.spans.length===w+1;D&&(d++,E._end=f._end),1<d&&(!D||K)&&(E.name=d+"x "+E.name,d=1),D||c.push(f)}}),c},o.checkBrowserResponsiveness=function(e,t,u){var c=e.browserResponsivenessCounter;if(t===void 0||c===void 0)return!0;var d=e.duration();return Math.floor(d/t)<=c+u},a}(),tt=function(){function a(e,t,u){u===void 0&&(u={}),e||(e=Ee),t||(t="custom"),this.options=u,this.name=e,this.type=t,this.id=this.options.id||s(16),this.traceId=this.options.traceId,this.sampled=this.options.sampled,this.timestamp=this.options.timestamp||Date.now(),this.ended=!1,this._start=window.performance.now(),this._end=void 0,this.onEnd=this.options.onEnd}var o=a.prototype;return o.ensureContext=function(){this.context||(this.context={})},o.addTags=function(e){console.warn("addTags deprecated, please use addLabels"),this.addLabels(e)},o.addLabels=function(e){this.ensureContext();var t=this.context;t.tags||(t.tags={}),Object.keys(e).forEach(function(u){return O(u,e[u],t.tags)})},o.addContext=function(e){e&&(this.ensureContext(),ne(this.context,e))},o.end=function(){this.ended||(this.ended=!0,this._end=window.performance.now(),this.callOnEnd())},o.callOnEnd=function(){typeof this.onEnd=="function"&&this.onEnd(this)},o.duration=function(){if(l(this._end)||l(this._start))return null;var e=this._end-this._start;return parseFloat(e)},a}(),Xe=function(a){var o,e;function t(u,c,d){var f;if((f=a.call(this,u,c,d)||this).parentId=f.options.parentId,f.subType=void 0,f.action=void 0,f.type.indexOf(".")!==-1){var w=f.type.split(".",3);f.type=w[0],f.subType=w[1],f.action=w[2]}return f.sync=f.options.sync,f}return e=a,(o=t).prototype=Object.create(e.prototype),(o.prototype.constructor=o).__proto__=e,t}(tt),ot=function(a){var o,e;function t(c,d,f){var w;return(w=a.call(this,c,d,f)||this).traceId=s(),w.marks=void 0,w.spans=[],w._activeSpans={},w.nextAutoTaskId=1,w._scheduledTasks=[],w.isHardNavigation=!1,w.sampled=Math.random()<=w.options.transactionSampleRate,w}e=a,(o=t).prototype=Object.create(e.prototype),(o.prototype.constructor=o).__proto__=e;var u=t.prototype;return u.addMarks=function(c){this.marks=ne(this.marks||{},c)},u.mark=function(c){var d=J(c),f=window.performance.now()-this._start,w={};w[d]=f,this.addMarks({custom:w})},u.canReuse=function(c){return c===void 0&&(c=5e3),!!this.options.canReuse&&!this.ended&&performance.now()-this._start<c},u.redefine=function(c,d,f){c&&(this.name=c),d&&(this.type=d),f&&(this.options=X(this.options,f))},u.startSpan=function(c,d,f){var w=this;if(!this.ended){var E=X({},f);E.onEnd=function(K){w._onSpanEnd(K)},E.traceId=this.traceId,E.sampled=this.sampled,E.parentId||(E.parentId=this.id);var D=new Xe(c,d,E);return this._activeSpans[D.id]=D}},u.isFinished=function(){return this._scheduledTasks.length===0},u.detectFinish=function(){this.isFinished()&&this.end()},u.end=function(){if(!this.ended){for(var c in this.ended=!0,this._end=window.performance.now(),this._activeSpans){var d=this._activeSpans[c];d.type=d.type+".truncated",d.end()}var f={page:{referer:document.referrer,url:window.location.href}};this.addContext(f),this.callOnEnd()}},u.addTask=function(c){if(c===void 0&&(c="task"+this.nextAutoTaskId++),this._scheduledTasks.indexOf(c)==-1)return this._scheduledTasks.push(c),c},u.removeTask=function(c){var d=this._scheduledTasks.indexOf(c);-1<d&&this._scheduledTasks.splice(d,1),this.detectFinish()},u.resetSpans=function(){this.spans=[]},u._onSpanEnd=function(c){this.spans.push(c),delete this._activeSpans[c.id]},t}(tt),$e=[["domainLookupStart","domainLookupEnd","Domain lookup"],["connectStart","connectEnd","Making a connection to the server"],["requestStart","responseEnd","Requesting and receiving the document"],["domLoading","domInteractive","Parsing the document, executing sync. scripts"],["domContentLoadedEventStart","domContentLoadedEventEnd",'Fire "DOMContentLoaded" event'],["loadEventStart","loadEventEnd",'Fire "load" event']];function Ye(a,o,e,t){return typeof a=="number"&&typeof o=="number"&&e<=a&&a<o&&o-e<=t&&o-a<Ie&&a-e<Ie&&o-e<Ie}function Qe(a){var o={transfer_size:a.transferSize,encoded_body_size:a.encodedBodySize,decoded_body_size:a.decodedBodySize},e=function(t){t===void 0&&(t=[]);for(var u=[],c=0;c<t.length;c++){var d=t[c],f=d.name,w=d.duration,E=d.description,D=f;E&&(D+=";desc="+E),w&&(D+=";dur="+w),u.push(D)}return u.join(", ")}(a.serverTiming);return e&&(o.headers={"server-timing":e}),o}function at(a){var o=a.name,e=a.initiatorType,t=a.startTime,u=a.responseEnd,c="resource";e&&(c+="."+e);var d=h(o),f=new Xe(d,c);return f.addContext({http:{url:o,response:Qe(a)}}),f._start=t,f.end(),f._end=u,f}function pt(a){var o=window.performance;if(a.isHardNavigation&&o&&o.timing){var e=o.timing;if(a.marks&&a.marks.custom){var t=a.marks.custom;Object.keys(t).forEach(function(D){t[D]+=a._start})}a._start=0;var u=a._end;if(function(D,K,de){for(var we=[],he=0;he<$e.length;he++){var ge=D[$e[he][0]],Ne=D[$e[he][1]];if(Ye(ge,Ne,K,de)){var Le=new Xe($e[he][2],"hard-navigation.browser-timing");$e[he][0]==="requestStart"&&(Le.pageResponse=!0),Le._start=ge-K,Le.ended=!0,Le._end=Ne-K,we.push(Le)}}return we}(e,e.fetchStart,u).forEach(function(D){D.traceId=a.traceId,D.sampled=a.sampled,D.pageResponse&&a.options.pageLoadSpanId&&(D.id=a.options.pageLoadSpanId),a.spans.push(D)}),typeof o.getEntriesByType=="function"){for(var c=o.getEntriesByType("resource"),d=[],f=0;f<a.spans;f++){var w=a.spans[f];w.type==="external"&&w.subType==="http"||d.push(w.name.split(" ")[1])}(function(D,K,de){for(var we=[],he=0;he<D.length;he++){var ge=D[he],Ne=ge.initiatorType,Le=ge.name,We=ge.startTime,Ze=ge.responseEnd;if(Ne!=="xmlhttprequest"&&Ne!=="fetch"&&Le)if(pe.indexOf(Ne)!==-1){if(!Ye(We,Ze,0,de))continue;we.push(at(D[he]))}else{if(Ne!=null)continue;for(var lt=!1,dt=0;dt<K.length;dt++){var kt=Le.lastIndexOf(K[dt]);if(-1<kt&&kt===Le.length-K[dt].length){lt=!0;break}}!lt&&Ye(We,Ze,0,de)&&we.push(at(D[he]))}}return we})(c,d,u).forEach(function(D){return a.spans.push(D)}),function(D,K){for(var de=[],we=0;we<D.length;we++){var he=D[we],ge=he.name,Ne=he.startTime,Le=he.duration,We=Ne+Le;if(!(Le<=Re)&&Ye(Ne,We,0,K)){var Ze=new Xe(ge,"app");Ze._start=Ne,Ze.end(),Ze._end=We,de.push(Ze)}}return de}(o.getEntriesByType("measure"),u).forEach(function(D){return a.spans.push(D)});var E=o.getEntriesByType("navigation");E&&0<E.length&&(E=E[0],a.addContext({response:Qe(E)}))}}}var mt=function(){function a(e,t){this._config=t,this._logger=e,this.currentTransaction=void 0,this._alreadyCapturedPageLoad=!1}var o=a.prototype;return o.ensureCurrentTransaction=function(e){e||(e=this.createPerfOptions());var t=this.getCurrentTransaction();return t||(e.canReuse=!0,this.createTransaction(void 0,void 0,e))},o.getCurrentTransaction=function(){if(this.currentTransaction&&!this.currentTransaction.ended)return this.currentTransaction},o.setCurrentTransaction=function(e){this.currentTransaction=e},o.createTransaction=function(e,t,u){var c=new ot(e,t,u);return this.setCurrentTransaction(c),u.checkBrowserResponsiveness&&this.startCounter(c),c},o.startCounter=function(e){e.browserResponsivenessCounter=0;var t=this._config.get("browserResponsivenessInterval");if(t!==void 0)var u=setInterval(function(){e.ended?window.clearInterval(u):e.browserResponsivenessCounter++},t)},o.capturePageLoadMetrics=function(e){if(this._config.get("capturePageLoad")&&!this._alreadyCapturedPageLoad&&e.isHardNavigation)return pt(e),e.addMarks(ie()),self._alreadyCapturedPageLoad=!0},o.createPerfOptions=function(e){var t=this._config.config;return X({pageLoadTraceId:t.pageLoadTraceId,pageLoadSampled:t.pageLoadSampled,pageLoadSpanId:t.pageLoadSpanId,pageLoadTransactionName:t.pageLoadTransactionName,transactionSampleRate:t.transactionSampleRate,checkBrowserResponsiveness:t.checkBrowserResponsiveness},e)},o.startTransaction=function(e,t,u){var c=this,d=this.createPerfOptions(u),f=this.getCurrentTransaction();return f?f.canReuse()&&d.canReuse?f.redefine(e,void 0,d):(f.end(),f=this.createTransaction(e,t,d)):f=this.createTransaction(e,t,d),t===ve&&(f.isHardNavigation=!0,d.pageLoadTraceId&&(f.traceId=d.pageLoadTraceId),d.pageLoadSampled&&(f.sampled=d.pageLoadSampled),f.name===Ee&&d.pageLoadTransactionName&&(f.name=d.pageLoadTransactionName)),this._config.events.send("transaction:start",[f]),f.onEnd=function(){return Oe.Promise.resolve().then(function(){c.shouldIgnoreTransaction(f.name)||f.type===ve||c.add(f)},function(w){})},f},o.shouldIgnoreTransaction=function(e){var t=this._config.get("ignoreTransactions");if(t&&t.length)for(var u=0;u<t.length;u++){var c=t[u];if(typeof c.test=="function"){if(c.test(e))return!0}else if(c===e)return!0}return!1},o.startSpan=function(e,t,u){var c=this.ensureCurrentTransaction();if(c)return c.startSpan(e,t,u)},o.add=function(e){this._config.events.send(ke,[e])},o.addTask=function(e){var t=this.ensureCurrentTransaction();return t&&(e=t.addTask(e)),e},o.removeTask=function(e){var t=this.getCurrentTransaction();t&&t.removeTask(e)},o.detectFinish=function(){var e=this.getCurrentTransaction();e&&e.detectFinish()},a}(),vt=function(a){a.registerServiceCreator("TransactionService",function(){var o=a.getService("ConfigService"),e=a.getService("LoggingService");return new mt(e,o)}),a.registerServiceCreator("PerformanceMonitoring",function(){var o=a.getService("ConfigService"),e=a.getService("LoggingService"),t=a.getService("ApmServer"),u=a.getService("TransactionService");return new it(t,o,e,u)})},gt=function(){function a(e,t,u){t||(t={}),this.onFlush=e,this.routeDurationThreshold=t.routeDurationThreshold||500,this.queueLimit=t.queueLimit||-1,this.slowestTxnsQueueLimit=t.slowestTxnsQueueLimit||10,this.flushInterval=t.flushInterval||0,this.timeoutId=void 0,this.transactions={},this.slowestTxns=[],this.totalTrans=0,this.urlMaxLength=u.get("urlMaxLength")}var o=a.prototype;return o._setTimer=function(){var e=this;this.timeoutId=setTimeout(function(){e.flush()},this.flushInterval)},o.flush=function(){var e=Object.keys(this.transactions).map(function(c){var d=this.transactions[c],f={n:c,d:[d.duration.count,d.duration.total,d.duration.min,d.duration.max]};return f.spans=Object.keys(d.spans).map(function(w){var E=d.spans[w],D={};return D.n=w,D.t=E.type,D.d=[E.duration.count,E.duration.total,E.duration.min,E.duration.max],E.url&&E.method&&(D.u=E.url,D.m=E.method),D}),f},this),t=[];this.slowestTxns.forEach((function(c){var d=c.context&&c.context.page&&c.context.page.url;if(d){var f={r:c.txnName||"",n:d.slice(0,this.urlMaxLength),d:c.duration||0,spans:[]};c.spans=c.spans||[],c.spans.forEach((function(w){var E={n:w.name,d:w.duration,s:w.start,t:w.type};if(w.type==="external"){var D=w.context&&w.context.http||{};if(window.atatus&&window.atatus._isAllowedUrl&&!window.atatus._isAllowedUrl(D.url||""))return;E.m=D.method,E.st=D.status_code,E.u=D.url.slice(0,this.urlMaxLength),E.t="ajax"}f.spans.push(E)}).bind(this)),t.push(f)}}).bind(this));var u={data:e,slowestRoutes:t};this.onFlush(u),this._clear()},o._clear=function(){this.timeoutId!==void 0&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.transactions={},this.slowestTxns=[],this.totalTrans=0},o.addSlowestTxn=function(e){var t=this.slowestTxns.length;if(t<this.slowestTxnsQueueLimit)this.slowestTxns.push(e);else{var u=Math.floor(Math.random()*(t+2));u<this.slowestTxnsQueueLimit&&(this.slowestTxns[u]=e)}},o.add=function(e){var t=e.context&&e.context.page&&e.context.page.url,u="";try{window.atatus&&window.atatus.getTransformRouteUrlFn()&&(u=window.atatus.getTransformRouteUrlFn()(t))}catch{}if(u||(u=t.split("?")[0]),u&&(e.txnName=u,e.duration=e.duration||0,e.spans=e.spans||[],e.spans.length||!(4e3<e.duration))){var c=this.transactions[u]||{duration:{total:0,min:e.duration,max:e.duration,count:0},spans:{}};(this.transactions[u]=c).duration.total+=e.duration,c.duration.max=e.duration>=c.duration.max?e.duration:c.duration.max,c.duration.min=e.duration<c.duration.min?e.duration:c.duration.min,c.duration.count++,this.totalTrans++,e.spans.forEach(function(d){var f=d.name;if(f){var w=d.context&&d.context.http&&d.context.http.url||"";if(!window.atatus||!window.atatus._isAllowedUrl||window.atatus._isAllowedUrl(w)){d.duration=d.duration||0;var E=c.spans[f]||{duration:{total:0,min:d.duration,max:d.duration,count:0}};d.type==="external"?(E.method=d.context&&d.context.http&&d.context.http.method,E.url=w.split("?")[0],E.type="ajax"):E.type=d.type||"",E.duration.total+=d.duration,E.duration.max=d.duration>=E.duration.max?d.duration:E.duration.max,E.duration.min=d.duration<E.duration.min?d.duration:E.duration.min,E.duration.count++,c.spans[f]=E}}},this),e.duration>=this.routeDurationThreshold&&this.addSlowestTxn(e),this.queueLimit!==-1&&this.totalTrans>=this.queueLimit?this.flush():this.timeoutId===void 0&&this._setTimer()}},a}(),yt=function(){function a(e,t){t||(t={}),this.onFlush=e,this.items=[],this.queueLimit=t.queueLimit||-1,this.flushInterval=t.flushInterval||0,this.timeoutId=void 0}var o=a.prototype;return o._setTimer=function(){var e=this;this.timeoutId=setTimeout(function(){e.flush()},this.flushInterval)},o.flush=function(){this.onFlush(this.items),this._clear()},o._clear=function(){this.timeoutId!==void 0&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.items=[]},o.add=function(e){this.items.push(e),this.queueLimit!==-1&&this.items.length>=this.queueLimit?this.flush():this.timeoutId===void 0&&this._setTimer()},a}(),st=function(a,o,e){var t,u=e.context||this,c=e.limit,d=e.interval,f=e.countFn||function(){},w=0;return function(){var E=typeof f=="function"&&f.apply(u,arguments);return typeof E!="number"&&(E=1),w+=E,t===void 0&&(t=setTimeout(function(){t=void(w=0)},d)),c<w?typeof o=="function"?o.apply(u,arguments):void 0:a.apply(u,arguments)}},Pe=function(){function a(){}return a.stringify=function(o){return JSON.stringify(o)+`
`},a}(),He=function(){function a(e,t){this._configService=e,this._loggingService=t,this.errorQueue=void 0,this.transactionQueue=void 0,this.throttleAddError=void 0,this.throttleAddTransaction=void 0,this.initialized=!1,this.ndjsonSpan={}}var o=a.prototype;return o.init=function(){this.initialized||(this.initialized=!0,this.initErrorQueue(),this.initTransactionQueue())},o.createMetaData=function(){var e=this._configService,t={service:{name:e.get("serviceName"),version:e.get("serviceVersion"),agent:{name:"js-base",version:e.version},language:{name:"javascript"},environment:e.get("environment")}};return Ve(ye,t)},o._postJson=function(e,t){return this._makeHttpRequest("POST",e,t,{"Content-Type":"application/x-ndjson"})},o._constructError=function(e){var t=e.url,u=e.status,c=(e.responseText,t+" HTTP status: "+u);return new Error(c)},o._makeHttpRequest=function(e,t,u,c){return new Oe.Promise(function(d,f){var w=new window.XMLHttpRequest;if(w[x]=!0,w.open(e,t,!0),w.timeout=1e4,c)for(var E in c)c.hasOwnProperty(E)&&w.setRequestHeader(E,c[E]);w.onreadystatechange=function(){if(w.readyState===4){var D=w.status,K=w.responseText;D===0||399<D&&D<600?f({url:t,status:D,responseText:K}):d(K)}},w.onerror=function(){var D=w.status,K=w.responseText;f({url:t,status:D,responseText:K})},w.send(u)})},o._createQueue=function(e){var t=this._configService.get("queueLimit"),u=this._configService.get("flushInterval");return new yt(e,{queueLimit:t,flushInterval:u})},o._createTransactionQueue=function(e){var t=this._configService.get("queueLimit"),u=this._configService.get("flushInterval");return new gt(e,{queueLimit:t,flushInterval:u},this._configService)},o.initErrorQueue=function(){var e=this;this.errorQueue&&this.errorQueue.flush(),this.errorQueue=this._createQueue(function(c){var d=e.sendErrors(c);d&&d.catch(function(f){e._loggingService.warn("Failed sending errors!",e._constructError(f))})});var t=this._configService.get("errorThrottleLimit"),u=this._configService.get("errorThrottleInterval");this.throttleAddError=st(this.errorQueue.add.bind(this.errorQueue),function(){return e._loggingService.warn("Dropped error due to throttling!")},{limit:t,interval:u})},o.initTransactionQueue=function(){var e=this;this.transactionQueue&&this.transactionQueue.flush(),this.transactionQueue=this._createTransactionQueue(function(c){var d=e.sendTransactions(c);d&&d.catch(function(f){e._loggingService.warn("Failed sending transactions!",e._constructError(f))})});var t=this._configService.get("transactionThrottleLimit"),u=this._configService.get("transactionThrottleInterval");this.throttleAddTransaction=st(this.transactionQueue.add.bind(this.transactionQueue),function(){return e._loggingService.warn("Dropped transaction due to throttling!")},{limit:t,interval:u})},o.addError=function(e){this.errorQueue||this.initErrorQueue(),this.throttleAddError(e)},o.addTransaction=function(e){this.transactionQueue||this.initTransactionQueue(),this.throttleAddTransaction(e)},o.ndjsonErrors=function(e){return e.map(function(t){return Pe.stringify({error:t})})},o.ndjsonTransactions=function(e){var t=this.ndjsonSpan;return e.map(function(u){var c="";return u.spans&&(c=u.spans.map(function(d){return t.span=d,Pe.stringify(t)}).join(""),delete u.spans),Pe.stringify({transaction:u})+c})},o._send=function(e,t){if(e===void 0&&(e=[]),t===void 0&&(t="transaction"),e.length!==0){var u={service:this.createMetaData().service,data:e},c=this._configService.applyFilters(u);if(c){var d,f=this._configService.getEndpointUrl();if(t==="errors")d=this.ndjsonErrors(c.data);else{if(t!=="transaction")return;d=this.ndjsonTransactions(c.data)}d.unshift(Pe.stringify({metadata:{service:c.service}}));var w=d.join("");return this._postJson(f,w)}this._loggingService.warn("Dropped payload due to filtering!")}},o.sendTransactions=function(e){window.atatus.sendSPAPerf(e)},o.sendErrors=function(e){},a}(),ct=function(){function a(){this.config={},this.defaults={serviceName:"",serviceVersion:"",environment:"",serverUrl:"https://br-rx.atatus.com",serverUrlPrefix:"/browser/track",active:!0,instrument:!0,disableInstrumentations:[te,ve],debug:!1,logLevel:"warn",browserResponsivenessInterval:500,browserResponsivenessBuffer:3,checkBrowserResponsiveness:!0,groupSimilarSpans:!0,similarSpanThreshold:.05,capturePageLoad:!0,ignoreTransactions:[],errorThrottleLimit:20,errorThrottleInterval:3e4,transactionThrottleLimit:20,transactionThrottleInterval:3e4,transactionDurationThreshold:6e4,queueLimit:-1,flushInterval:3e4,sendPageLoadTransaction:!0,distributedTracing:!0,distributedTracingOrigins:[],distributedTracingHeaderValueCallback:q,distributedTracingHeaderName:"atatus-apm-traceparent",pageLoadTraceId:"",pageLoadSpanId:"",pageLoadSampled:!1,pageLoadTransactionName:"",transactionSampleRate:1,context:{},urlMaxLength:250,ignoreSpansForRoutes:null},this.events=new Be,this.filters=[],this.version=""}var o=a.prototype;return o.init=function(){this.setConfig({})},o.isActive=function(){return this.get("active")},o.setVersion=function(e){this.version=e},o.setIgnoreSpansForRoutes=function(e){this.config.ignoreSpansForRoutes=e},o.addFilter=function(e){if(typeof e!="function")throw new Error("Argument to must be function");this.filters.push(e)},o.applyFilters=function(e){for(var t=0;t<this.filters.length;t++)if(!(e=this.filters[t](e)))return;return e},o.get=function(e){return e.split(".").reduce(function(t,u){return t&&t[u]},this.config)},o.getEndpointUrl=function(){return this.config.serverUrl+this.config.serverUrlPrefix},o.set=function(e,t){for(var u=e.split("."),c=u.length-1,d=this.config,f=0;f<c+1;f++){var w=u[f];if(w)if(f===c)d[w]=t;else{var E=d[w]||{};d[w]=E,d=E}}},o.setUserContext=function(e){e===void 0&&(e={});var t={},u=e,c=u.id,d=u.username,f=u.email;typeof c!="number"&&typeof c!="string"||(t.id=c),typeof d=="string"&&(t.username=d),typeof f=="string"&&(t.email=f),this.set("context.user",t)},o.setCustomContext=function(e){e&&typeof e=="object"&&this.set("context.custom",e)},o.addLabels=function(e){var t=this;this.config.context.tags||(this.config.context.tags={}),Object.keys(e).forEach(function(u){return O(u,e[u],t.config.context.tags)})},o.setConfig=function(e){e===void 0&&(e={}),this.config=ne({},this.defaults,this.config,e),this.config.urlMaxLength=this.config.urlMaxLength||250,this.events.send(k,[this.config])},o.validate=function(e){e===void 0&&(e={});var t=["serviceName","serverUrl"],u={missing:[],invalid:[]};return Object.keys(e).forEach(function(c){t.indexOf(c)===-1||e[c]||u.missing.push(c)}),e.serviceName&&!/^[a-zA-Z0-9 _-]+$/.test(e.serviceName)&&u.invalid.push({key:"serviceName",value:e.serviceName,allowed:"a-z, A-Z, 0-9, _, -, <space>"}),u},a}(),N=function(){function a(e){e||(e={}),this.levels=["trace","debug","info","warn","error"],this.level=e.level||"info",this.prefix=e.prefix||"",this.resetLogMethods()}var o=a.prototype;return o.shouldLog=function(e){return this.levels.indexOf(e)>=this.levels.indexOf(this.level)},o.setLevel=function(e){this.level=e,this.resetLogMethods()},o.resetLogMethods=function(){var e=this;this.levels.forEach(function(t){e[t]=e.shouldLog(t)?function(){var u,c=e.prefix;switch(t){case"trace":case"debug":u="info";break;default:u=t}var d=arguments;if(c&&(typeof c=="function"&&(c=c(t)),d[0]=c+d[0]),console){var f=console[u]?console[u]:console.log;typeof f=="function"&&f.apply(console,d)}}:A})},a}(),Ge=function(){function a(){this._serviceCreators={},this._serviceInstances={},this.initialized=!1}var o=a.prototype;return o.registerCoreServices=function(){var e=this;this.registerServiceCreator("ConfigService",function(){return new ct}),this.registerServiceCreator("LoggingService",function(){return new N}),this.registerServiceCreator("ApmServer",function(){return new He(e.getService("ConfigService"),e.getService("LoggingService"))})},o.init=function(){if(!this.initialized){this.initialized=!0;var e=this.getService("ConfigService");e.init();var t=this.getService("LoggingService");u(t,e),e.events.observe(k,function(){u(t,e)}),this.getService("ApmServer").init()}function u(c,d){var f=d.get("debug"),w=d.get("logLevel");f===!0&&w!=="trace"?c.setLevel("debug"):c.setLevel(w)}},o.registerServiceCreator=function(e,t){this._serviceCreators[e]=t},o.registerServiceInstance=function(e,t){this._serviceInstances[e]=t},o.getService=function(e){if(!this._serviceInstances[e]){if(typeof this._serviceCreators[e]!="function")throw new Error("Can not get service, No creator for: "+e);this._serviceInstances[e]=this._serviceCreators[e](this)}return this._serviceInstances[e]},a}(),ut=function(){function a(e,t){this._disable=t,this.serviceFactory=e,this._initialized=!1}var o=a.prototype;return o.init=function(e){if(this.isEnabled()&&!this._initialized){this._initialized=!0;var t=this.serviceFactory.getService("ConfigService");t.setVersion("4.0.2"),this.config(e);var u=this.serviceFactory.getService("LoggingService");if(!t.isActive())return u.info("Atatus agent is inactive"),this;this.serviceFactory.init();var c=(d=t.get("instrument"),f=t.get("disableInstrumentations"),(w={})[C]=!1,w[B]=!1,w[G]=!1,w[ve]=!1,w[te]=!1,E=w,d&&Object.keys(E).forEach(function(D){f.indexOf(D)===-1&&(E[D]=!0)}),E);this.serviceFactory.getService("PerformanceMonitoring").init(c),c[te]&&this.serviceFactory.getService("ErrorLogging").registerGlobalEventListener(),c[ve]&&t.get("sendPageLoadTransaction")&&this._sendPageLoadMetrics()}var d,f,w,E;return this},o._sendPageLoadMetrics=function(){var e=this.serviceFactory.getService("TransactionService").startTransaction(void 0,ve,{canReuse:!0});e&&e.addTask(ve);var t=function(){setTimeout(function(){e&&e.removeTask(ve)})};document.readyState==="complete"?t():window.addEventListener("load",t)},o.isEnabled=function(){return!this._disable},o.observe=function(e,t){this.serviceFactory.getService("ConfigService").events.observe(e,t)},o.config=function(e){var t=this.serviceFactory.getService("ConfigService"),u=t.validate(e),c=u.missing,d=u.invalid;if(c.length===0&&d.length===0)t.setConfig(e);else{var f=this.serviceFactory.getService("LoggingService"),w="RUM Agent isn't correctly configured: ";0<c.length&&(w+="Missing config - "+c.join(", "),0<d.length&&(w+=", ")),d.forEach(function(E,D){var K=E.key,de=E.value,we=E.allowed;w+=K+' "'+de+'" contains invalid characters! (allowed: '+we+")"+(D!==d.length-1?", ":"")}),f.error(w),t.setConfig({active:!1})}},o.setIgnoreSpansForRoutes=function(e){this.serviceFactory.getService("ConfigService").setIgnoreSpansForRoutes(e)},o.setUserContext=function(e){this.serviceFactory.getService("ConfigService").setUserContext(e)},o.setCustomContext=function(e){this.serviceFactory.getService("ConfigService").setCustomContext(e)},o.addTags=function(e){this.serviceFactory.getService("LoggingService").warn("addTags deprecated, please use addLabels"),this.addLabels(e)},o.addLabels=function(e){this.serviceFactory.getService("ConfigService").addLabels(e)},o.setInitialPageLoadName=function(e){this.isEnabled()&&this.serviceFactory.getService("ConfigService").setConfig({pageLoadTransactionName:e})},o.startTransaction=function(e,t,u){if(this.isEnabled())return this.serviceFactory.getService("TransactionService").startTransaction(e,t,u)},o.startSpan=function(e,t){if(this.isEnabled())return this.serviceFactory.getService("TransactionService").startSpan(e,t)},o.getCurrentTransaction=function(){if(this.isEnabled())return this.serviceFactory.getService("TransactionService").getCurrentTransaction()},o.getTransactionService=function(){if(this.isEnabled())return this.serviceFactory.getService("TransactionService")},o.addFilter=function(e){this.serviceFactory.getService("ConfigService").addFilter(e)},a}();y.d(p,"init",function(){return v}),y.d(p,"apmBase",function(){return r}),y.d(p,"apm",function(){return r}),y.d(p,"ApmBase",function(){return ut});var Ke,Q=(le||(le=!0,F()?(Y(),$=!0):typeof window<"u"&&console.log("APM: Platform is not supported!")),$),n=((Ke=new Ge).registerCoreServices(),vt(Ke),Ke),r=new ut(n,!Q);typeof window<"u"&&window.atatus&&(window.atatus.spa=r,window.atatus.VERSION&&(window.atatus.VERSION+="-spa"));var v=r.init.bind(r);p.default=v}])}(Tt)),Tt.exports}var ze=yn();const wn=Ot(ze),ht=Gt({__proto__:null,default:wn},[ze]),Sn=(I,j={})=>{try{typeof ht<"u"&&ze.notify?ze.notify(I,j):console.warn("Atatus not available for error:",I)}catch(i){console.error("Failed to notify Atatus:",i)}},Tn=I=>{try{typeof ht<"u"&&ze.setUser&&ze.setUser(I)}catch(j){console.error("Failed to set Atatus user:",j)}},jt=(I,j="info",i={})=>{try{typeof ht<"u"&&ze.notify?ze.notify(new Error(`Custom Event: ${I}`),{severity:j,customData:{eventType:"custom",eventName:I,...i}}):console.log(`[Event] ${I}:`,{severity:j,...i})}catch(p){console.error("Failed to log Atatus event:",p)}};function xn(){const[I,j]=Se.useState([]),[i,p]=Se.useState(32),[y,g]=Se.useState([]),[P,z]=Se.useState("See all cities"),[R,_]=Se.useState(""),[q,m]=Se.useState(""),[s,F]=Se.useState(""),[O,M]=Se.useState(!1),[h,S]=Se.useState(!0),[T,X]=Se.useState(null),[ne,l]=Se.useState(!1);Se.useEffect(()=>{const ee=L=>{L.preventDefault(),X(L),l(!0)},b=()=>{X(null),l(!1),_("Meet App installed successfully! 🎉")};return window.addEventListener("beforeinstallprompt",ee),window.addEventListener("appinstalled",b),()=>{window.removeEventListener("beforeinstallprompt",ee),window.removeEventListener("appinstalled",b)}},[]);const A=async()=>{if(!T)return;T.prompt();const{outcome:ee}=await T.userChoice;_(ee==="accepted"?"App installation started! 📱":"App installation cancelled."),X(null),l(!1)};Se.useEffect(()=>{(async()=>{const L=new URLSearchParams(window.location.search).get("code");if(L)try{await Mt(L),M(!0),_("Successfully logged in with Google!"),Dt()}catch(x){console.error("OAuth token exchange failed:",x),m("Login failed. Please try again.")}else{const x=mn();M(x)}})()},[]),Se.useEffect(()=>{const ee=async()=>{try{S(!0),navigator.onLine?F(""):F("You are offline. Events displayed may not be up to date.");const x=await vn();if(!x||!Array.isArray(x)){m("Invalid data received. Please try again later."),S(!1);return}m("");const V=P==="See all cities"?x:x.filter(W=>W&&W.location===P);j(V.slice(0,i)),g(gn(x)),S(!1)}catch(x){console.error("Error fetching events:",x),m("Failed to load events. Please try again later."),S(!1),typeof jt=="function"&&jt("API Error","error",{errorMessage:x.message,currentCity:P,numberOfEvents:i,isOnline:navigator.onLine})}};ee();const b=()=>{F(""),ee()},L=()=>{F("You are offline. Events displayed may not be up to date.")};return window.addEventListener("online",b),window.addEventListener("offline",L),()=>{window.removeEventListener("online",b),window.removeEventListener("offline",L)}},[P,i]);const J=async()=>{try{const ee=await Ft();window.location.href=ee}catch{m("Failed to initiate login. Please try again.")}},ie=()=>{pn(),M(!1),_("You have been logged out successfully."),window.location.reload()};return U.jsxs("div",{className:"App",children:[U.jsxs("div",{className:"alerts-container",children:[R.length?U.jsx(ln,{text:R}):null,q.length?U.jsx(dn,{text:q}):null,s.length?U.jsx(fn,{text:s}):null]}),U.jsxs("header",{className:"app-header",children:[U.jsx("h1",{children:"Meet App"}),U.jsx("p",{children:"Find events in your city"}),U.jsxs("div",{className:"auth-controls",children:[ne&&U.jsx("button",{className:"auth-button install",onClick:A,children:"📱 Install App"}),O?U.jsxs(U.Fragment,{children:[U.jsx("span",{className:"auth-status",children:"✓ Logged in with Google"}),U.jsx("button",{className:"auth-button logout",onClick:ie,children:"Logout"})]}):U.jsx("button",{className:"auth-button login",onClick:J,children:"Login with Google"})]})]}),h?U.jsx("div",{className:"loading-container",children:U.jsx("p",{children:"Loading events..."})}):U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:"app-controls",children:[U.jsx(rn,{allLocations:y,setCurrentCity:z,setInfoAlert:_}),U.jsx(sn,{currentNOE:i,setCurrentNOE:p,setErrorAlert:m})]}),U.jsxs("div",{className:"charts-container",children:[U.jsx("div",{className:"chart-section",children:U.jsx(cn,{allLocations:y,events:I})}),U.jsx("div",{className:"chart-section",children:U.jsx(un,{events:I})})]}),U.jsx("div",{className:"event-list-container",children:U.jsx(an,{events:I})})]})]})}class En extends Nt.Component{constructor(j){super(j),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(j,i){this.setState({error:j,errorInfo:i}),Sn(j,{severity:"error",customData:{errorBoundary:!0,componentStack:i.componentStack,errorStack:j.stack}}),console.error("ErrorBoundary caught an error:",j,i)}render(){return this.state.hasError?U.jsx("div",{className:"error-boundary",children:U.jsxs("div",{className:"error-boundary-content",children:[U.jsx("h2",{children:"Oops! Something went wrong."}),U.jsx("p",{children:"We're sorry for the inconvenience. The error has been reported and we're working on a fix."}),U.jsx("button",{onClick:()=>window.location.reload(),className:"error-boundary-button",children:"Reload Page"}),!1]})}):this.props.children}}const kn=!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function It(I){"serviceWorker"in navigator&&window.addEventListener("load",async()=>{await bn();const i=window.location.hostname==="souravdas090300.github.io"?"/meet/service-worker.js":"/service-worker.js";kn?(_n(i,I),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):Ut(i,I)})}async function bn(){try{const j=(await navigator.serviceWorker.getRegistrations()).map(i=>(console.log("Unregistering existing service worker:",i.scope),i.unregister()));await Promise.all(j),console.log("All existing service workers unregistered")}catch(I){console.warn("Failed to unregister existing service workers:",I)}}function Ut(I,j){const p=window.location.hostname==="souravdas090300.github.io"?"/meet/":"/";console.log("Registering service worker:",I,"with scope:",p),navigator.serviceWorker.register(I,{scope:p}).then(y=>{console.log("Service worker registered successfully:",y),y.onupdatefound=()=>{const g=y.installing;g!=null&&(g.onstatechange=()=>{g.state==="installed"&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),j&&j.onUpdate&&j.onUpdate(y)):(console.log("Content is cached for offline use."),j&&j.onSuccess&&j.onSuccess(y)))})}}).catch(y=>{console.error("Error during service worker registration:",y)})}function _n(I,j){fetch(I,{headers:{"Service-Worker":"script"}}).then(i=>{const p=i.headers.get("content-type");i.status===404||p!=null&&p.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(y=>{y.unregister().then(()=>{window.location.reload()})}):Ut(I,j)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}let Rt=!1;window.atatusInitialized=!1;try{const I="93a094075aa3483186cf248030fdad97";I&&I!=="undefined"&&typeof ze.config=="function"?(ze.config(I).install(),Rt=!0,window.atatusInitialized=!0,window.atatusInstance=ht,console.log("✅ Atatus monitoring initialized successfully"),setTimeout(()=>{Tn({id:"anonymous-user",email:"anonymous@example.com",name:"Anonymous User"})},100)):console.warn("⚠️ Atatus license key not found or Atatus not available")}catch(I){console.error("❌ Failed to initialize Atatus:",I),Rt=!1,window.atatusInitialized=!1}nn.createRoot(document.getElementById("root")).render(U.jsx(Nt.StrictMode,{children:U.jsx(En,{children:U.jsx(xn,{})})}));typeof It=="function"?It():console.warn("Service worker registration function not available");
